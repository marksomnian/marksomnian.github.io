require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var a=e[n]=new t.Module;r[n][0].call(a.exports,i,a,a.exports)}return e[n].exports}function o(){this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({3:[function(require,module,exports) {
module.exports={NO_CHANGE:"NO_CHANGE",SIMPLIFY_ARITHMETIC:"SIMPLIFY_ARITHMETIC",DIVISION_BY_NEGATIVE_ONE:"DIVISION_BY_NEGATIVE_ONE",DIVISION_BY_ONE:"DIVISION_BY_ONE",MULTIPLY_BY_ZERO:"MULTIPLY_BY_ZERO",REARRANGE_COEFF:"REARRANGE_COEFF",REDUCE_EXPONENT_BY_ZERO:"REDUCE_EXPONENT_BY_ZERO",REDUCE_ZERO_NUMERATOR:"REDUCE_ZERO_NUMERATOR",REMOVE_ADDING_ZERO:"REMOVE_ADDING_ZERO",REMOVE_EXPONENT_BY_ONE:"REMOVE_EXPONENT_BY_ONE",REMOVE_EXPONENT_BASE_ONE:"REMOVE_EXPONENT_BASE_ONE",REMOVE_MULTIPLYING_BY_NEGATIVE_ONE:"REMOVE_MULTIPLYING_BY_NEGATIVE_ONE",REMOVE_MULTIPLYING_BY_ONE:"REMOVE_MULTIPLYING_BY_ONE",RESOLVE_DOUBLE_MINUS:"RESOLVE_DOUBLE_MINUS",COLLECT_AND_COMBINE_LIKE_TERMS:"COLLECT_AND_COMBINE_LIKE_TERMS",COLLECT_LIKE_TERMS:"COLLECT_LIKE_TERMS",COLLECT_CONSTANT_EXPONENTS:"COLLECT_CONSTANT_EXPONENTS",ADD_COEFFICIENT_OF_ONE:"ADD_COEFFICIENT_OF_ONE",ADD_POLYNOMIAL_TERMS:"ADD_POLYNOMIAL_TERMS",GROUP_COEFFICIENTS:"GROUP_COEFFICIENTS",UNARY_MINUS_TO_NEGATIVE_ONE:"UNARY_MINUS_TO_NEGATIVE_ONE",ADD_EXPONENT_OF_ONE:"ADD_EXPONENT_OF_ONE",COLLECT_POLYNOMIAL_EXPONENTS:"COLLECT_POLYNOMIAL_EXPONENTS",MULTIPLY_COEFFICIENTS:"MULTIPLY_COEFFICIENTS",MULTIPLY_POLYNOMIAL_TERMS:"MULTIPLY_POLYNOMIAL_TERMS",BREAK_UP_FRACTION:"BREAK_UP_FRACTION",CANCEL_MINUSES:"CANCEL_MINUSES",CANCEL_TERMS:"CANCEL_TERMS",SIMPLIFY_FRACTION:"SIMPLIFY_FRACTION",SIMPLIFY_SIGNS:"SIMPLIFY_SIGNS",FIND_GCD:"FIND_GCD",CANCEL_GCD:"CANCEL_GCD",CONVERT_MIXED_NUMBER_TO_IMPROPER_FRACTION:"CONVERT_MIXED_NUMBER_TO_IMPROPER_FRACTION",IMPROPER_FRACTION_NUMERATOR:"IMPROPER_FRACTION_NUMERATOR",ADD_FRACTIONS:"ADD_FRACTIONS",ADD_NUMERATORS:"ADD_NUMERATORS",COMBINE_NUMERATORS:"COMBINE_NUMERATORS",COMMON_DENOMINATOR:"COMMON_DENOMINATOR",CONVERT_INTEGER_TO_FRACTION:"CONVERT_INTEGER_TO_FRACTION",DIVIDE_FRACTION_FOR_ADDITION:"DIVIDE_FRACTION_FOR_ADDITION",MULTIPLY_DENOMINATORS:"MULTIPLY_DENOMINATORS",MULTIPLY_NUMERATORS:"MULTIPLY_NUMERATORS",MULTIPLY_FRACTIONS:"MULTIPLY_FRACTIONS",SIMPLIFY_DIVISION:"SIMPLIFY_DIVISION",MULTIPLY_BY_INVERSE:"MULTIPLY_BY_INVERSE",DISTRIBUTE:"DISTRIBUTE",DISTRIBUTE_NEGATIVE_ONE:"DISTRIBUTE_NEGATIVE_ONE",SIMPLIFY_TERMS:"SIMPLIFY_TERMS",EXPAND_EXPONENT:"EXPAND_EXPONENT",ABSOLUTE_VALUE:"ABSOLUTE_VALUE",CANCEL_EXPONENT:"CANCEL_EXPONENT",CANCEL_EXPONENT_AND_ROOT:"CANCEL_EXPONENT_AND_ROOT",CANCEL_ROOT:"CANCEL_ROOT",COMBINE_UNDER_ROOT:"COMBINE_UNDER_ROOT",CONVERT_MULTIPLICATION_TO_EXPONENT:"CONVERT_MULTIPLICATION_TO_EXPONENT",DISTRIBUTE_NTH_ROOT:"DISTRIBUTE_NTH_ROOT",EVALUATE_DISTRIBUTED_NTH_ROOT:"EVALUATE_DISTRIBUTED_NTH_ROOT",FACTOR_INTO_PRIMES:"FACTOR_INTO_PRIMES",GROUP_TERMS_BY_ROOT:"GROUP_TERMS_BY_ROOT",NTH_ROOT_VALUE:"NTH_ROOT_VALUE",ADD_NTH_ROOTS:"ADD_NTH_ROOTS",MULTIPLY_NTH_ROOTS:"MULTIPLY_NTH_ROOTS",ADD_TO_BOTH_SIDES:"ADD_TO_BOTH_SIDES",DIVIDE_FROM_BOTH_SIDES:"DIVIDE_FROM_BOTH_SIDES",MULTIPLY_BOTH_SIDES_BY_INVERSE_FRACTION:"MULTIPLY_BOTH_SIDES_BY_INVERSE_FRACTION",MULTIPLY_BOTH_SIDES_BY_NEGATIVE_ONE:"MULTIPLY_BOTH_SIDES_BY_NEGATIVE_ONE",MULTIPLY_TO_BOTH_SIDES:"MULTIPLY_TO_BOTH_SIDES",SIMPLIFY_LEFT_SIDE:"SIMPLIFY_LEFT_SIDE",SIMPLIFY_RIGHT_SIDE:"SIMPLIFY_RIGHT_SIDE",SUBTRACT_FROM_BOTH_SIDES:"SUBTRACT_FROM_BOTH_SIDES",SWAP_SIDES:"SWAP_SIDES",FIND_ROOTS:"FIND_ROOTS",STATEMENT_IS_TRUE:"STATEMENT_IS_TRUE",STATEMENT_IS_FALSE:"STATEMENT_IS_FALSE",FACTOR_SYMBOL:"FACTOR_SYMBOL",FACTOR_DIFFERENCE_OF_SQUARES:"FACTOR_DIFFERENCE_OF_SQUARES",FACTOR_PERFECT_SQUARE:"FACTOR_PERFECT_SQUARE",FACTOR_SUM_PRODUCT_RULE:"FACTOR_SUM_PRODUCT_RULE",BREAK_UP_TERM:"BREAK_UP_TERM"};
},{}],86:[function(require,module,exports) {
"use strict";exports.clone=function r(e){var n=typeof e;if("number"===n||"string"===n||"boolean"===n||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return r(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e&&!0===e.isBigNumber)return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=r(e[o]));return t},exports.extend=function(r,e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},exports.deepExtend=function r(e,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var t in n)if(n.hasOwnProperty(t))if(n[t]&&n[t].constructor===Object)void 0===e[t]&&(e[t]={}),e[t].constructor===Object?r(e[t],n[t]):e[t]=n[t];else{if(Array.isArray(n[t]))throw new TypeError("Arrays are not supported by deepExtend");e[t]=n[t]}return e},exports.deepEqual=function(r,e){var n,t,o;if(Array.isArray(r)){if(!Array.isArray(e))return!1;if(r.length!=e.length)return!1;for(t=0,o=r.length;t<o;t++)if(!exports.deepEqual(r[t],e[t]))return!1;return!0}if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!exports.deepEqual(r[n],e[n]))return!1;for(n in e)if(!exports.deepEqual(r[n],e[n]))return!1;return!0}return typeof r==typeof e&&r==e},exports.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(r){}return!1},exports.lazy=function(r,e,n){if(exports.canDefineProperty()){var t,o=!0;Object.defineProperty(r,e,{get:function(){return o&&(t=n(),o=!1),t},set:function(r){t=r,o=!1},configurable:!0,enumerable:!0})}else r[e]=n()},exports.traverse=function(r,e){var n=r;if(e)for(var t=e.split("."),o=0;o<t.length;o++){var i=t[o];i in n||(n[i]={}),n=n[i]}return n},exports.isFactory=function(r){return r&&"function"==typeof r.factory};
},{}],154:[function(require,module,exports) {
"use strict";!function(r,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():r.typed=n()}(this,function(){return function r(){function n(r){for(var n,t=0;t<l.types.length;t++){var e=l.types[t];if(e.name===r){n=e.test;break}}if(!n){var s;for(t=0;t<l.types.length;t++)if((e=l.types[t]).name.toLowerCase()==r.toLowerCase()){s=e.name;break}throw new Error('Unknown type "'+r+'"'+(s?'. Did you mean "'+s+'"?':""))}return n}function t(r){for(var n="",t=0;t<r.length;t++){var e=r[t];if(e.signatures&&""!=e.name)if(""==n)n=e.name;else if(n!=e.name){var s=new Error("Function names do not match (expected: "+n+", actual: "+e.name+")");throw s.data={actual:e.name,expected:n},s}}return n}function e(r,n,t,e,s){var o,i=u(e),a=s?s.split(","):null,p=r||"unnamed",f=a&&h(a,"any"),c={fn:r,index:t,actual:e,expected:a};o=a?n>t&&!f?"Unexpected type of argument in function "+p+" (expected: "+a.join(" or ")+", actual: "+i+", index: "+t+")":"Too few arguments in function "+p+" (expected: "+a.join(" or ")+", index: "+t+")":"Too many arguments in function "+p+" (expected: "+t+", actual: "+n+")";var g=new TypeError(o);return g.data=c,g}function s(r){this.name=r||"refs",this.categories={}}function o(r,n){if("string"==typeof r){var t=r.trim(),e="..."===t.substr(0,3);if(e&&(t=t.substr(3)),""===t)this.types=["any"];else{this.types=t.split("|");for(var s=0;s<this.types.length;s++)this.types[s]=this.types[s].trim()}}else{if(!Array.isArray(r)){if(r instanceof o)return r.clone();throw new Error("String or Array expected")}this.types=r}this.conversions=[],this.varArgs=e||n||!1,this.anyType=-1!==this.types.indexOf("any")}function i(r,n){var t;if("string"==typeof r)t=""!==r?r.split(","):[];else{if(!Array.isArray(r))throw new Error("string or Array expected");t=r}this.params=new Array(t.length),this.anyType=!1,this.varArgs=!1;for(var e=0;e<t.length;e++){var s=new o(t[e]);if(this.params[e]=s,s.anyType&&(this.anyType=!0),e===t.length-1)this.varArgs=s.varArgs;else if(s.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=n}function a(r,n,t,e){this.path=r||[],this.param=r[r.length-1]||null,this.signature=n||null,this.childs=t||[],this.fallThrough=e||!1}function p(r,n){var t=new s,p=function(r){var n,t,e={},s=[];for(var o in r)if(r.hasOwnProperty(o)){if((n=new i(o,r[o])).ignore())continue;var a=n.expand();for(t=0;t<a.length;t++){var p=a[t],u=p.toString(),f=e[u];if(f){var c=i.compare(p,f);if(c<0)e[u]=p;else if(0===c)throw new Error('Signature "'+u+'" is defined twice')}else e[u]=p}}for(u in e)e.hasOwnProperty(u)&&s.push(e[u]);for(s.sort(function(r,n){return i.compare(r,n)}),t=0;t<s.length;t++)if((n=s[t]).varArgs)for(var g=n.params.length-1,v=n.params[g],y=0;y<v.types.length;){if(v.conversions[y])for(var l=v.types[y],m=0;m<s.length;m++){var d=s[m],w=d.params[g];if(d!==n&&w&&h(w.types,l)&&!w.conversions[g]){v.types.splice(y,1),v.conversions.splice(y,1),y--;break}}y++}return s}(n);if(0==p.length)throw new Error("No signatures provided");var u=function r(n,t,e){var s,i,p,u=t.length,f=[];for(s=0;s<n.length;s++)(i=n[s]).params.length!==u||p||(p=i),void 0!=i.params[u]&&f.push(i);f.sort(function(r,n){return o.compare(r.params[u],n.params[u])});var c=[];for(s=0;s<f.length;s++){var g=(i=f[s]).params[u],v=c.filter(function(r){return r.param.overlapping(g)})[0];if(v){if(v.param.varArgs)throw new Error('Conflicting types "'+v.param+'" and "'+g+'"');v.signatures.push(i)}else c.push({param:g,signatures:[i]})}var y=[];for(s=0;s<e.length;s++)e[s].paramsStartWith(t)&&y.push(e[s]);var l=!1;for(s=0;s<y.length;s++)if(!h(n,y[s])){l=!0;break}var m=new Array(c.length);for(s=0;s<c.length;s++){var d=c[s];m[s]=r(d.signatures,t.concat(d.param),y)}return new a(t,p,m,l)}(p,[],function(r){for(var n=[],t=0;t<r.length;t++)r[t].anyType&&n.push(r[t]);return n}(p)),f=[],c=r||"",g=function(r){for(var n=[],t=0;t<r;t++)n[t]="arg"+t;return n}(function(r){for(var n=0,t=0;t<r.length;t++){var e=r[t].params.length;e>n&&(n=e)}return n}(p));f.push("function "+c+"("+g.join(", ")+") {"),f.push('  "use strict";'),f.push("  var name = '"+c+"';"),f.push(u.toCode(t,"  ",!1)),f.push("}");var v=[t.toCode(),"return "+f.join("\n")].join("\n"),y=new Function(t.name,"createError",v)(t,e);return y.signatures=function(r){for(var n={},t=0;t<r.length;t++){var e=r[t];e.fn&&!e.hasConversions()&&(n[e.params.join(",")]=e.fn)}return n}(p),y}function u(r){for(var n,t=0;t<l.types.length;t++){var e=l.types[t];if("Object"===e.name)n=e;else if(e.test(r))return e.name}return n&&n.test(r)?n.name:"unknown"}function h(r,n){return-1!==r.indexOf(n)}function f(r){return r[r.length-1]}s.prototype.add=function(r,n){var t=n||"fn";this.categories[t]||(this.categories[t]=[]);var e=this.categories[t].indexOf(r);return-1==e&&(e=this.categories[t].length,this.categories[t].push(r)),t+e},s.prototype.toCode=function(){var r=[],n=this.name+".categories",t=this.categories;for(var e in t)if(t.hasOwnProperty(e))for(var s=t[e],o=0;o<s.length;o++)r.push("var "+e+o+" = "+n+"['"+e+"']["+o+"];");return r.join("\n")},o.compare=function(r,n){if(r.anyType)return 1;if(n.anyType)return-1;if(h(r.types,"Object"))return 1;if(h(n.types,"Object"))return-1;if(r.hasConversions()){if(n.hasConversions()){var t,e,s;for(t=0;t<r.conversions.length;t++)if(void 0!==r.conversions[t]){e=r.conversions[t];break}for(t=0;t<n.conversions.length;t++)if(void 0!==n.conversions[t]){s=n.conversions[t];break}return l.conversions.indexOf(e)-l.conversions.indexOf(s)}return 1}if(n.hasConversions())return-1;var o,i;for(t=0;t<l.types.length;t++)if(l.types[t].name===r.types[0]){o=t;break}for(t=0;t<l.types.length;t++)if(l.types[t].name===n.types[0]){i=t;break}return o-i},o.prototype.overlapping=function(r){for(var n=0;n<this.types.length;n++)if(h(r.types,this.types[n]))return!0;return!1},o.prototype.matches=function(r){return this.anyType||r.anyType||this.overlapping(r)},o.prototype.clone=function(){var r=new o(this.types.slice(),this.varArgs);return r.conversions=this.conversions.slice(),r},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(r){for(var n=0;n<this.types.length;n++)if(r[this.types[n]])return!0;return!1},o.prototype.toString=function(r){for(var n=[],t={},e=0;e<this.types.length;e++){var s=this.conversions[e],o=r&&s?s.to:this.types[e];o in t||(t[o]=!0,n.push(o))}return(this.varArgs?"...":"")+n.join("|")},i.prototype.clone=function(){return new i(this.params.slice(),this.fn)},i.prototype.expand=function(){var r=[];return function n(t,e){if(e.length<t.params.length){var s,a,p,u=t.params[e.length];if(u.varArgs){for(a=u.clone(),s=0;s<l.conversions.length;s++)if(p=l.conversions[s],!h(u.types,p.from)&&h(u.types,p.to)){var f=a.types.length;a.types[f]=p.from,a.conversions[f]=p}n(t,e.concat(a))}else{for(s=0;s<u.types.length;s++)n(t,e.concat(new o(u.types[s])));for(s=0;s<l.conversions.length;s++)p=l.conversions[s],!h(u.types,p.from)&&h(u.types,p.to)&&((a=new o(p.from)).conversions[0]=p,n(t,e.concat(a)))}}else r.push(new i(e,t.fn))}(this,[]),r},i.compare=function(r,n){if(r.params.length>n.params.length)return 1;if(r.params.length<n.params.length)return-1;var t,e=r.params.length,s=0,i=0;for(t=0;t<e;t++)r.params[t].hasConversions()&&s++,n.params[t].hasConversions()&&i++;if(s>i)return 1;if(s<i)return-1;for(t=0;t<r.params.length;t++){var a=o.compare(r.params[t],n.params[t]);if(0!==a)return a}return 0},i.prototype.hasConversions=function(){for(var r=0;r<this.params.length;r++)if(this.params[r].hasConversions())return!0;return!1},i.prototype.ignore=function(){for(var r={},n=0;n<l.ignore.length;n++)r[l.ignore[n]]=!0;for(n=0;n<this.params.length;n++)if(this.params[n].contains(r))return!0;return!1},i.prototype.paramsStartWith=function(r){if(0===r.length)return!0;for(var n=f(this.params),t=f(r),e=0;e<r.length;e++){var s=this.params[e]||(n.varArgs?n:null),o=r[e]||(t.varArgs?t:null);if(!s||!o||!s.matches(o))return!1}return!0},i.prototype.toCode=function(r,n){for(var t=new Array(this.params.length),e=0;e<this.params.length;e++){var s=this.params[e],o=s.conversions[0];s.varArgs?t[e]="varArgs":t[e]=o?r.add(o.convert,"convert")+"(arg"+e+")":"arg"+e}var i=this.fn?r.add(this.fn,"signature"):void 0;return i?n+"return "+i+"("+t.join(", ")+"); // signature: "+this.params.join(", "):[].join("\n")},i.prototype.toString=function(){return this.params.join(", ")},a.prototype.toCode=function(r,t){var e=[];if(this.param){var s=this.path.length-1,o=this.param.conversions[0],i="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)e.push(t+"if (arguments.length > "+s+") {"),e.push(t+"  var varArgs = [];"),e.push(t+"  for (var i = "+s+"; i < arguments.length; i++) {"),e.push(t+"    varArgs.push(arguments[i]);"),e.push(t+"  }"),e.push(this.signature.toCode(r,t+"  ")),e.push(t+"}");else{for(var a=function(t,e){for(var s=[],o=0;o<t.length;o++)s[o]=r.add(n(t[o]),"test")+"("+e+")";return s.join(" || ")}.bind(this),p=this.param.types,u=[],h=0;h<p.length;h++)void 0===this.param.conversions[h]&&u.push(p[h]);for(e.push(t+"if ("+a(p,"arg"+s)+") { "+i),e.push(t+"  var varArgs = [arg"+s+"];"),e.push(t+"  for (var i = "+(s+1)+"; i < arguments.length; i++) {"),e.push(t+"    if ("+a(u,"arguments[i]")+") {"),e.push(t+"      varArgs.push(arguments[i]);"),h=0;h<p.length;h++){var f=this.param.conversions[h];if(f){var c=r.add(n(p[h]),"test"),g=r.add(f.convert,"convert");e.push(t+"    }"),e.push(t+"    else if ("+c+"(arguments[i])) {"),e.push(t+"      varArgs.push("+g+"(arguments[i]));")}}e.push(t+"    } else {"),e.push(t+"      throw createError(name, arguments.length, i, arguments[i], '"+u.join(",")+"');"),e.push(t+"    }"),e.push(t+"  }"),e.push(this.signature.toCode(r,t+"  ")),e.push(t+"}")}else if(this.param.anyType)e.push(t+"// type: any"),e.push(this._innerCode(r,t));else{var v=this.param.types[0];c="any"!==v?r.add(n(v),"test"):null,e.push(t+"if ("+c+"(arg"+s+")) { "+i),e.push(this._innerCode(r,t+"  ")),e.push(t+"}")}}else e.push(this._innerCode(r,t));return e.join("\n")},a.prototype._innerCode=function(r,n){var t,e=[];for(this.signature&&(e.push(n+"if (arguments.length === "+this.path.length+") {"),e.push(this.signature.toCode(r,n+"  ")),e.push(n+"}")),t=0;t<this.childs.length;t++)e.push(this.childs[t].toCode(r,n));if(!this.fallThrough||this.param&&this.param.anyType){var s=this._exceptions(r,n);s&&e.push(s)}return e.join("\n")},a.prototype._exceptions=function(r,n){var t=this.path.length;if(0===this.childs.length)return[n+"if (arguments.length > "+t+") {",n+"  throw createError(name, arguments.length, "+t+", arguments["+t+"]);",n+"}"].join("\n");for(var e={},s=[],o=0;o<this.childs.length;o++){var i=this.childs[o];if(i.param)for(var a=0;a<i.param.types.length;a++){var p=i.param.types[a];p in e||i.param.conversions[a]||(e[p]=!0,s.push(p))}}return n+"throw createError(name, arguments.length, "+t+", arguments["+t+"], '"+s.join(",")+"');"};var c=[{name:"number",test:function(r){return"number"==typeof r}},{name:"string",test:function(r){return"string"==typeof r}},{name:"boolean",test:function(r){return"boolean"==typeof r}},{name:"Function",test:function(r){return"function"==typeof r}},{name:"Array",test:Array.isArray},{name:"Date",test:function(r){return r instanceof Date}},{name:"RegExp",test:function(r){return r instanceof RegExp}},{name:"Object",test:function(r){return"object"==typeof r}},{name:"null",test:function(r){return null===r}},{name:"undefined",test:function(r){return void 0===r}}],g={},v=[],y=[],l={config:g,types:c,conversions:v,ignore:y};return(l=p("typed",{Object:function(r){var n=[];for(var e in r)r.hasOwnProperty(e)&&n.push(r[e]);return p(t(n),r)},"string, Object":p,"...Function":function(r){for(var n,e=t(r),s={},o=0;o<r.length;o++){var i=r[o];if("object"!=typeof i.signatures)throw(n=new TypeError("Function is no typed-function (index: "+o+")")).data={index:o},n;for(var a in i.signatures)if(i.signatures.hasOwnProperty(a))if(s.hasOwnProperty(a)){if(i.signatures[a]!==s[a])throw(n=new Error('Signature "'+a+'" is defined twice')).data={signature:a},n}else s[a]=i.signatures[a]}return p(e,s)}})).config=g,l.types=c,l.conversions=v,l.ignore=y,l.create=r,l.find=function(r,n){if(!r.signatures)throw new TypeError("Function is no typed-function");var t;if("string"==typeof n){t=n.split(",");for(var e=0;e<t.length;e++)t[e]=t[e].trim()}else{if(!Array.isArray(n))throw new TypeError("String array or a comma separated string expected");t=n}var s=t.join(","),o=r.signatures[s];if(o)return o;throw new TypeError("Signature not found (signature: "+(r.name||"unnamed")+"("+t.join(", ")+"))")},l.convert=function(r,n){var t=u(r);if(n===t)return r;for(var e=0;e<l.conversions.length;e++){var s=l.conversions[e];if(s.from===t&&s.to===n)return s.convert(r)}throw new Error("Cannot convert from "+t+" to "+n)},l.addType=function(r){if(!r||"string"!=typeof r.name||"function"!=typeof r.test)throw new TypeError("Object with properties {name: string, test: function} expected");l.types.push(r)},l.addConversion=function(r){if(!r||"string"!=typeof r.from||"string"!=typeof r.to||"function"!=typeof r.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");l.conversions.push(r)},l}()});
},{}],134:[function(require,module,exports) {
"use strict";function n(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}exports.isNumber=function(n){return"number"==typeof n},exports.isInteger=function(n){return!!isFinite(n)&&n==Math.round(n)},exports.sign=Math.sign||function(n){return n>0?1:n<0?-1:0},exports.format=function(n,e){if("function"==typeof e)return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var t="auto",r=void 0;switch(e&&(e.notation&&(t=e.notation),exports.isNumber(e)?r=e:e.precision&&(r=e.precision)),t){case"fixed":return exports.toFixed(n,r);case"exponential":return exports.toExponential(n,r);case"engineering":return exports.toEngineering(n,r);case"auto":return exports.toPrecision(n,r,e&&e.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var n=arguments[2],e=arguments[4];return"."!==n?n+e:e});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", or "fixed".')}},exports.splitNumber=function(n){var e=String(n).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(n){return i-=n.length,""}).replace(/0*$/,"").split("").map(function(n){return parseInt(n)});return 0===s.length&&(s.push(0),i++),{sign:t,coefficients:s,exponent:i}},exports.toEngineering=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=exports.roundDigits(exports.splitNumber(e),t),i=r.exponent,o=r.coefficients,s=i%3==0?i:i<0?i-3-i%3:i-i%3,a=i>=0?i:Math.abs(s);o.length-1<a&&(o=o.concat(n(a-(o.length-1))));for(var u=Math.abs(i-s),p=1;--u>=0;)p++;var c=o.slice(p).join(""),f=c.match(/[1-9]/)?"."+c:"",x=o.slice(0,p).join("")+f+"e"+(i>=0?"+":"")+s.toString();return r.sign+x},exports.toFixed=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=exports.splitNumber(e),i=exports.roundDigits(r,r.exponent+1+(t||0)),o=i.coefficients,s=i.exponent+1,a=s+(t||0);return o.length<a&&(o=o.concat(n(a-o.length))),s<0&&(o=n(1-s).concat(o),s=1),t&&o.splice(s,0,0===s?"0.":"."),i.sign+o.join("")},exports.toExponential=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=exports.splitNumber(e),i=t?exports.roundDigits(r,t):r,o=i.coefficients,s=i.exponent;o.length<t&&(o=o.concat(n(t-o.length)));var a=o.shift();return i.sign+a+(o.length>0?"."+o.join(""):"")+"e"+(s>=0?"+":"")+s},exports.toPrecision=function(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var i=r&&void 0!==r.lower?r.lower:.001,o=r&&void 0!==r.upper?r.upper:1e5,s=exports.splitNumber(e),a=Math.abs(Math.pow(10,s.exponent));if(a<i||a>=o)return exports.toExponential(e,t);var u=t?exports.roundDigits(s,t):s,p=u.coefficients,c=u.exponent;p.length<t&&(p=p.concat(n(t-p.length))),p=p.concat(n(c-p.length+1+(p.length<t?t-p.length:0))),p=n(-c).concat(p);var f=c>0?c:0;return f<p.length-1&&p.splice(f+1,0,"."),u.sign+p.join("")},exports.roundDigits=function(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),t.exponent++,i++),r[--i]++}return t},exports.digits=function(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},exports.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,exports.nearlyEqual=function(n,e,t){if(null==t)return n==e;if(n==e)return!0;if(isNaN(n)||isNaN(e))return!1;if(isFinite(n)&&isFinite(e)){var r=Math.abs(n-e);return r<exports.DBL_EPSILON||r<=Math.max(Math.abs(n),Math.abs(e))*t}return!1};
},{}],90:[function(require,module,exports) {
var n=require("typed-function"),t=require("./../utils/number").digits,e=function(){return e=n.create,n};exports.create=function(n){var r=e();return r.types=[{name:"number",test:function(n){return"number"==typeof n}},{name:"Complex",test:function(n){return n&&n.isComplex}},{name:"BigNumber",test:function(n){return n&&n.isBigNumber}},{name:"Fraction",test:function(n){return n&&n.isFraction}},{name:"Unit",test:function(n){return n&&n.isUnit}},{name:"string",test:function(n){return"string"==typeof n}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(n){return n&&n.isMatrix}},{name:"DenseMatrix",test:function(n){return n&&n.isDenseMatrix}},{name:"SparseMatrix",test:function(n){return n&&n.isSparseMatrix}},{name:"Range",test:function(n){return n&&n.isRange}},{name:"Index",test:function(n){return n&&n.isIndex}},{name:"boolean",test:function(n){return"boolean"==typeof n}},{name:"ResultSet",test:function(n){return n&&n.isResultSet}},{name:"Help",test:function(n){return n&&n.isHelp}},{name:"function",test:function(n){return"function"==typeof n}},{name:"Date",test:function(n){return n instanceof Date}},{name:"RegExp",test:function(n){return n instanceof RegExp}},{name:"Object",test:function(n){return"object"==typeof n}},{name:"null",test:function(n){return null===n}},{name:"undefined",test:function(n){return void 0===n}},{name:"OperatorNode",test:function(n){return n&&n.isOperatorNode}},{name:"ConstantNode",test:function(n){return n&&n.isConstantNode}},{name:"SymbolNode",test:function(n){return n&&n.isSymbolNode}},{name:"ParenthesisNode",test:function(n){return n&&n.isParenthesisNode}},{name:"FunctionNode",test:function(n){return n&&n.isFunctionNode}},{name:"FunctionAssignmentNode",test:function(n){return n&&n.isFunctionAssignmentNode}},{name:"ArrayNode",test:function(n){return n&&n.isArrayNode}},{name:"AssignmentNode",test:function(n){return n&&n.isAssignmentNode}},{name:"BlockNode",test:function(n){return n&&n.isBlockNode}},{name:"ConditionalNode",test:function(n){return n&&n.isConditionalNode}},{name:"IndexNode",test:function(n){return n&&n.isIndexNode}},{name:"RangeNode",test:function(n){return n&&n.isRangeNode}},{name:"UpdateNode",test:function(n){return n&&n.isUpdateNode}},{name:"Node",test:function(n){return n&&n.isNode}}],r.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new n.BigNumber(e)}},{from:"number",to:"Complex",convert:function(t){return new n.Complex(t,0)}},{from:"number",to:"string",convert:function(n){return n+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new n.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(n){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new n.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(t(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new n.Fraction(e)}},{from:"string",to:"number",convert:function(n){var t=Number(n);if(isNaN(t))throw new Error('Cannot convert "'+n+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new n.BigNumber(t)}catch(n){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new n.Fraction(t)}catch(n){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new n.Complex(t)}catch(n){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(n){return+n}},{from:"boolean",to:"BigNumber",convert:function(t){return new n.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new n.Fraction(+t)}},{from:"boolean",to:"string",convert:function(n){return+n}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new n.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new n.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(t){return new n.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(n){return n.valueOf()}}],r};
},{"typed-function":154,"./../utils/number":134}],133:[function(require,module,exports) {
function t(){}t.prototype={on:function(t,n,e){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:n,ctx:e}),this},once:function(t,n,e){var i=this;function f(){i.off(t,f),n.apply(e,arguments)}return f._=n,this.on(t,f,e)},emit:function(t){for(var n=[].slice.call(arguments,1),e=((this.e||(this.e={}))[t]||[]).slice(),i=0,f=e.length;i<f;i++)e[i].fn.apply(e[i].ctx,n);return this},off:function(t,n){var e=this.e||(this.e={}),i=e[t],f=[];if(i&&n)for(var o=0,r=i.length;o<r;o++)i[o].fn!==n&&i[o].fn._!==n&&f.push(i[o]);return f.length?e[t]=f:delete e[t],this}},module.exports=t;
},{}],89:[function(require,module,exports) {
var n=require("tiny-emitter");exports.mixin=function(i){var e=new n;return i.on=e.on.bind(e),i.off=e.off.bind(e),i.once=e.once.bind(e),i.emit=e.emit.bind(e),i};
},{"tiny-emitter":133}],98:[function(require,module,exports) {
"use strict";function t(r,o,e,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=o,this.min=e,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+o+" provided, "+e+(void 0!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}t.prototype=new Error,t.prototype.constructor=Error,t.prototype.name="ArgumentsError",t.prototype.isArgumentsError=!0,module.exports=t;
},{}],91:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").lazy,t=require("../../utils/object").isFactory,e=require("../../utils/object").traverse,o=require("../../utils/object").extend,n=require("../../error/ArgumentsError");function i(o,i,a,f,s){function u(r,t,e){if(e.wrap&&"function"==typeof t&&(t=function(r){var t=function(){for(var t=[],e=0,o=arguments.length;e<o;e++){var n=arguments[e];t[e]=n&&n.valueOf()}return r.apply(s,t)};r.transform&&(t.transform=r.transform);return t}(t)),y(s[r])&&y(t))return t=e.override?f(r,t.signatures):f(s[r],t),s[r]=t,p(r,t),void s.emit("import",r,function(){return t});if(void 0===s[r]||e.override)return s[r]=t,p(r,t),void s.emit("import",r,function(){return t});if(!e.silent)throw new Error('Cannot import "'+r+'": already exists')}function p(r,t){t&&"function"==typeof t.transform?s.expression.transform[r]=t.transform:delete s.expression.transform[r]}function c(t,o){if("string"==typeof t.name){var n=t.name,i=t.path?e(s,t.path):s,u=i.hasOwnProperty(n)?i[n]:void 0,p=function(){var r=a(t);if(r&&"function"==typeof r.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(y(u)&&y(r))return o.override||(r=f(u,r)),r;if(void 0===u||o.override)return r;if(!o.silent)throw new Error('Cannot import "'+n+'": already exists')};!1!==t.lazy?r(i,n,p):i[n]=p(),s.emit("import",n,p,t.path)}else a(t)}function y(r){return"function"==typeof r&&"object"==typeof r.signatures}return function r(e,o){var i,a=arguments.length;if(1!=a&&2!=a)throw new n("import",a,1,2);if(o||(o={}),t(e))c(e,o);else if(Array.isArray(e))e.forEach(function(t){r(t,o)});else if("object"==typeof e){for(var f in e)if(e.hasOwnProperty(f)){var s=e[f];"function"==typeof(i=s)||"number"==typeof i||"string"==typeof i||"boolean"==typeof i||null===i||i&&!0===i.isUnit||i&&!0===i.isComplex||i&&!0===i.isBigNumber||i&&!0===i.isFraction||i&&!0===i.isMatrix||i&&!0===Array.isArray(i)?u(f,s,o):t(e)?c(e,o):r(s,o)}}else if(!o.silent)throw new TypeError("Factory, Object, or Array expected")}}exports.math=!0,exports.name="import",exports.factory=i,exports.lazy=!0;
},{"../../utils/object":86,"../../error/ArgumentsError":98}],92:[function(require,module,exports) {
"use strict";var r=require("../../utils/object");function e(e,n,t,i,u){var c=["Matrix","Array"],a=["number","BigNumber","Fraction"];function f(e){if(e){var t=r.clone(n);o(e,"matrix",c),o(e,"number",a),r.deepExtend(n,e);var i=r.clone(n),f=r.clone(e);return u.emit("config",i,t,f),i}return r.clone(n)}return f.MATRIX=c,f.NUMBER=a,f}function n(r,e){return-1!==r.indexOf(e)}function t(r,e){return r.map(function(r){return r.toLowerCase()}).indexOf(e.toLowerCase())}function o(r,e,o){if(void 0!==r[e]&&!n(o,r[e])){var i=t(o,r[e]);-1!==i&&(r[e]=o[i])}}exports.name="config",exports.math=!0,exports.factory=e;
},{"../../utils/object":86}],35:[function(require,module,exports) {
var e=require("./../utils/object").isFactory,r=require("./../utils/object").deepExtend,t=require("./typed"),i=require("./../utils/emitter"),o=require("./function/import"),n=require("./function/config");exports.create=function(r){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var a=[],c=[],p=i.mixin({});p.type={},p.expression={transform:Object.create(p)},p.algebra={},p.typed=t.create(p.type);var u={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function s(r){if(!e(r))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var t,i=a.indexOf(r);return-1===i?(t=!0===r.math?r.factory(p.type,u,s,p.typed,p):r.factory(p.type,u,s,p.typed),a.push(r),c.push(t)):t=c[i],t}return p.import=s(o),p.config=s(n),r&&p.config(r),p};
},{"./../utils/object":86,"./typed":90,"./../utils/emitter":89,"./function/import":91,"./function/config":92}],14:[function(require,module,exports) {
module.exports=require("./lib/core/core");
},{"./lib/core/core":35}],536:[function(require,module,exports) {
!function(n){"use strict";var e,i,t,r=9e15,s=1e9,o="0123456789abcdef",u="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",f={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-r,maxE:r,crypto:!1},h=!0,a="[DecimalError] ",l=a+"Invalid argument: ",d=a+"Precision limit exceeded",p=a+"crypto unavailable",g=Math.floor,w=Math.pow,m=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,v=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,N=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=1e7,E=7,M=u.length-1,y=c.length-1,q={};function O(n){var e,i,t,r=n.length-1,s="",o=n[0];if(r>0){for(s+=o,e=1;e<r;e++)t=n[e]+"",(i=E-t.length)&&(s+=S(i)),s+=t;o=n[e],(i=E-(t=o+"").length)&&(s+=S(i))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function F(n,e,i){if(n!==~~n||n<e||n>i)throw Error(l+n)}function A(n,e,i,t){var r,s,o,u;for(s=n[0];s>=10;s/=10)--e;return--e<0?(e+=E,r=0):(r=Math.ceil((e+1)/E),e%=E),s=w(10,E-e),u=n[r]%s|0,null==t?e<3?(0==e?u=u/100|0:1==e&&(u=u/10|0),o=i<4&&99999==u||i>3&&49999==u||5e4==u||0==u):o=(i<4&&u+1==s||i>3&&u+1==s/2)&&(n[r+1]/s/100|0)==w(10,e-2)-1||(u==s/2||0==u)&&0==(n[r+1]/s/100|0):e<4?(0==e?u=u/1e3|0:1==e?u=u/100|0:2==e&&(u=u/10|0),o=(t||i<4)&&9999==u||!t&&i>3&&4999==u):o=((t||i<4)&&u+1==s||!t&&i>3&&u+1==s/2)&&(n[r+1]/s/1e3|0)==w(10,e-3)-1,o}function D(n,e,i){for(var t,r,s=[0],u=0,c=n.length;u<c;){for(r=s.length;r--;)s[r]*=e;for(s[0]+=o.indexOf(n.charAt(u++)),t=0;t<s.length;t++)s[t]>i-1&&(void 0===s[t+1]&&(s[t+1]=0),s[t+1]+=s[t]/i|0,s[t]%=i)}return s.reverse()}q.absoluteValue=q.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),P(n)},q.ceil=function(){return P(new this.constructor(this),this.e+1,2)},q.comparedTo=q.cmp=function(n){var e,i,t,r,s=this,o=s.d,u=(n=new s.constructor(n)).d,c=s.s,f=n.s;if(!o||!u)return c&&f?c!==f?c:o===u?0:!o^c<0?1:-1:NaN;if(!o[0]||!u[0])return o[0]?c:u[0]?-f:0;if(c!==f)return c;if(s.e!==n.e)return s.e>n.e^c<0?1:-1;for(e=0,i=(t=o.length)<(r=u.length)?t:r;e<i;++e)if(o[e]!==u[e])return o[e]>u[e]^c<0?1:-1;return t===r?0:t>r^c<0?1:-1},q.cosine=q.cos=function(){var n,e,i=this,r=i.constructor;return i.d?i.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(i.e,i.sd())+E,r.rounding=1,i=function(n,e){var i,t,r=e.d.length;r<32?(i=Math.ceil(r/3),t=Math.pow(4,-i).toString()):(i=16,t="2.3283064365386962890625e-10");n.precision+=i,e=j(n,1,e.times(t),new n(1));for(var s=i;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=i,e}(r,W(r,i)),r.precision=n,r.rounding=e,P(2==t||3==t?i.neg():i,n,e,!0)):new r(1):new r(NaN)},q.cubeRoot=q.cbrt=function(){var n,e,i,t,r,s,o,u,c,f,a=this,l=a.constructor;if(!a.isFinite()||a.isZero())return new l(a);for(h=!1,(s=a.s*Math.pow(a.s*a,1/3))&&Math.abs(s)!=1/0?t=new l(s.toString()):(i=O(a.d),(s=((n=a.e)-i.length+1)%3)&&(i+=1==s||-2==s?"0":"00"),s=Math.pow(i,1/3),n=g((n+1)/3)-(n%3==(n<0?-1:2)),(t=new l(i=s==1/0?"5e"+n:(i=s.toExponential()).slice(0,i.indexOf("e")+1)+n)).s=a.s),o=(n=l.precision)+3;;)if(f=(c=(u=t).times(u).times(u)).plus(a),t=Z(f.plus(a).times(u),f.plus(c),o+2,1),O(u.d).slice(0,o)===(i=O(t.d)).slice(0,o)){if("9999"!=(i=i.slice(o-3,o+1))&&(r||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(P(t,n+1,1),e=!t.times(t).times(t).eq(a));break}if(!r&&(P(u,n+1,0),u.times(u).times(u).eq(a))){t=u;break}o+=4,r=1}return h=!0,P(t,n,l.rounding,e)},q.decimalPlaces=q.dp=function(){var n,e=this.d,i=NaN;if(e){if(i=((n=e.length-1)-g(this.e/E))*E,n=e[n])for(;n%10==0;n/=10)i--;i<0&&(i=0)}return i},q.dividedBy=q.div=function(n){return Z(this,new this.constructor(n))},q.dividedToIntegerBy=q.divToInt=function(n){var e=this.constructor;return P(Z(this,new e(n),0,1,1),e.precision,e.rounding)},q.equals=q.eq=function(n){return 0===this.cmp(n)},q.floor=function(){return P(new this.constructor(this),this.e+1,3)},q.greaterThan=q.gt=function(n){return this.cmp(n)>0},q.greaterThanOrEqualTo=q.gte=function(n){var e=this.cmp(n);return 1==e||0===e},q.hyperbolicCosine=q.cosh=function(){var n,e,i,t,r,s=this,o=s.constructor,u=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return u;i=o.precision,t=o.rounding,o.precision=i+Math.max(s.e,s.sd())+4,o.rounding=1,(r=s.d.length)<32?(n=Math.ceil(r/3),e=Math.pow(4,-n).toString()):(n=16,e="2.3283064365386962890625e-10"),s=j(o,1,s.times(e),new o(1),!0);for(var c,f=n,h=new o(8);f--;)c=s.times(s),s=u.minus(c.times(h.minus(c.times(h))));return P(s,o.precision=i,o.rounding=t,!0)},q.hyperbolicSine=q.sinh=function(){var n,e,i,t,r=this,s=r.constructor;if(!r.isFinite()||r.isZero())return new s(r);if(e=s.precision,i=s.rounding,s.precision=e+Math.max(r.e,r.sd())+4,s.rounding=1,(t=r.d.length)<3)r=j(s,2,r,r,!0);else{n=(n=1.4*Math.sqrt(t))>16?16:0|n,r=j(s,2,r=r.times(Math.pow(5,-n)),r,!0);for(var o,u=new s(5),c=new s(16),f=new s(20);n--;)o=r.times(r),r=r.times(u.plus(o.times(c.times(o).plus(f))))}return s.precision=e,s.rounding=i,P(r,e,i,!0)},q.hyperbolicTangent=q.tanh=function(){var n,e,i=this,t=i.constructor;return i.isFinite()?i.isZero()?new t(i):(n=t.precision,e=t.rounding,t.precision=n+7,t.rounding=1,Z(i.sinh(),i.cosh(),t.precision=n,t.rounding=e)):new t(i.s)},q.inverseCosine=q.acos=function(){var n,e=this,i=e.constructor,t=e.abs().cmp(1),r=i.precision,s=i.rounding;return-1!==t?0===t?e.isNeg()?_(i,r,s):new i(0):new i(NaN):e.isZero()?_(i,r+4,s).times(.5):(i.precision=r+6,i.rounding=1,e=e.asin(),n=_(i,r+4,s).times(.5),i.precision=r,i.rounding=s,n.minus(e))},q.inverseHyperbolicCosine=q.acosh=function(){var n,e,i=this,t=i.constructor;return i.lte(1)?new t(i.eq(1)?0:NaN):i.isFinite()?(n=t.precision,e=t.rounding,t.precision=n+Math.max(Math.abs(i.e),i.sd())+4,t.rounding=1,h=!1,i=i.times(i).minus(1).sqrt().plus(i),h=!0,t.precision=n,t.rounding=e,i.ln()):new t(i)},q.inverseHyperbolicSine=q.asinh=function(){var n,e,i=this,t=i.constructor;return!i.isFinite()||i.isZero()?new t(i):(n=t.precision,e=t.rounding,t.precision=n+2*Math.max(Math.abs(i.e),i.sd())+6,t.rounding=1,h=!1,i=i.times(i).plus(1).sqrt().plus(i),h=!0,t.precision=n,t.rounding=e,i.ln())},q.inverseHyperbolicTangent=q.atanh=function(){var n,e,i,t,r=this,s=r.constructor;return r.isFinite()?r.e>=0?new s(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=s.precision,e=s.rounding,t=r.sd(),Math.max(t,n)<2*-r.e-1?P(new s(r),n,e,!0):(s.precision=i=t-r.e,r=Z(r.plus(1),new s(1).minus(r),i+n,1),s.precision=n+4,s.rounding=1,r=r.ln(),s.precision=n,s.rounding=e,r.times(.5))):new s(NaN)},q.inverseSine=q.asin=function(){var n,e,i,t,r=this,s=r.constructor;return r.isZero()?new s(r):(e=r.abs().cmp(1),i=s.precision,t=s.rounding,-1!==e?0===e?((n=_(s,i+4,t).times(.5)).s=r.s,n):new s(NaN):(s.precision=i+6,s.rounding=1,r=r.div(new s(1).minus(r.times(r)).sqrt().plus(1)).atan(),s.precision=i,s.rounding=t,r.times(2)))},q.inverseTangent=q.atan=function(){var n,e,i,t,r,s,o,u,c,f=this,a=f.constructor,l=a.precision,d=a.rounding;if(f.isFinite()){if(f.isZero())return new a(f);if(f.abs().eq(1)&&l+4<=y)return(o=_(a,l+4,d).times(.25)).s=f.s,o}else{if(!f.s)return new a(NaN);if(l+4<=y)return(o=_(a,l+4,d).times(.5)).s=f.s,o}for(a.precision=u=l+10,a.rounding=1,n=i=Math.min(28,u/E+2|0);n;--n)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(h=!1,e=Math.ceil(u/E),t=1,c=f.times(f),o=new a(f),r=f;-1!==n;)if(r=r.times(c),s=o.minus(r.div(t+=2)),r=r.times(c),void 0!==(o=s.plus(r.div(t+=2))).d[e])for(n=e;o.d[n]===s.d[n]&&n--;);return i&&(o=o.times(2<<i-1)),h=!0,P(o,a.precision=l,a.rounding=d,!0)},q.isFinite=function(){return!!this.d},q.isInteger=q.isInt=function(){return!!this.d&&g(this.e/E)>this.d.length-2},q.isNaN=function(){return!this.s},q.isNegative=q.isNeg=function(){return this.s<0},q.isPositive=q.isPos=function(){return this.s>0},q.isZero=function(){return!!this.d&&0===this.d[0]},q.lessThan=q.lt=function(n){return this.cmp(n)<0},q.lessThanOrEqualTo=q.lte=function(n){return this.cmp(n)<1},q.logarithm=q.log=function(n){var e,i,t,r,s,o,u,c,f=this,a=f.constructor,l=a.precision,d=a.rounding;if(null==n)n=new a(10),e=!0;else{if(i=(n=new a(n)).d,n.s<0||!i||!i[0]||n.eq(1))return new a(NaN);e=n.eq(10)}if(i=f.d,f.s<0||!i||!i[0]||f.eq(1))return new a(i&&!i[0]?-1/0:1!=f.s?NaN:i?0:1/0);if(e)if(i.length>1)s=!0;else{for(r=i[0];r%10==0;)r/=10;s=1!==r}if(h=!1,o=B(f,u=l+5),t=e?U(a,u+10):B(n,u),A((c=Z(o,t,u,1)).d,r=l,d))do{if(o=B(f,u+=10),t=e?U(a,u+10):B(n,u),c=Z(o,t,u,1),!s){+O(c.d).slice(r+1,r+15)+1==1e14&&(c=P(c,l+1,0));break}}while(A(c.d,r+=10,d));return h=!0,P(c,l,d)},q.minus=q.sub=function(n){var e,i,t,r,s,o,u,c,f,a,l,d,p=this,w=p.constructor;if(n=new w(n),!p.d||!n.d)return p.s&&n.s?p.d?n.s=-n.s:n=new w(n.d||p.s!==n.s?p:NaN):n=new w(NaN),n;if(p.s!=n.s)return n.s=-n.s,p.plus(n);if(f=p.d,d=n.d,u=w.precision,c=w.rounding,!f[0]||!d[0]){if(d[0])n.s=-n.s;else{if(!f[0])return new w(3===c?-0:0);n=new w(p)}return h?P(n,u,c):n}if(i=g(n.e/E),a=g(p.e/E),f=f.slice(),s=a-i){for((l=s<0)?(e=f,s=-s,o=d.length):(e=d,i=a,o=f.length),s>(t=Math.max(Math.ceil(u/E),o)+2)&&(s=t,e.length=1),e.reverse(),t=s;t--;)e.push(0);e.reverse()}else{for((l=(t=f.length)<(o=d.length))&&(o=t),t=0;t<o;t++)if(f[t]!=d[t]){l=f[t]<d[t];break}s=0}for(l&&(e=f,f=d,d=e,n.s=-n.s),o=f.length,t=d.length-o;t>0;--t)f[o++]=0;for(t=d.length;t>s;){if(f[--t]<d[t]){for(r=t;r&&0===f[--r];)f[r]=x-1;--f[r],f[t]+=x}f[t]-=d[t]}for(;0===f[--o];)f.pop();for(;0===f[0];f.shift())--i;return f[0]?(n.d=f,n.e=L(f,i),h?P(n,u,c):n):new w(3===c?-0:0)},q.modulo=q.mod=function(n){var e,i=this,t=i.constructor;return n=new t(n),!i.d||!n.s||n.d&&!n.d[0]?new t(NaN):!n.d||i.d&&!i.d[0]?P(new t(i),t.precision,t.rounding):(h=!1,9==t.modulo?(e=Z(i,n.abs(),0,3,1)).s*=n.s:e=Z(i,n,0,t.modulo,1),e=e.times(n),h=!0,i.minus(e))},q.naturalExponential=q.exp=function(){return H(this)},q.naturalLogarithm=q.ln=function(){return B(this)},q.negated=q.neg=function(){var n=new this.constructor(this);return n.s=-n.s,P(n)},q.plus=q.add=function(n){var e,i,t,r,s,o,u,c,f,a,l=this,d=l.constructor;if(n=new d(n),!l.d||!n.d)return l.s&&n.s?l.d||(n=new d(n.d||l.s===n.s?l:NaN)):n=new d(NaN),n;if(l.s!=n.s)return n.s=-n.s,l.minus(n);if(f=l.d,a=n.d,u=d.precision,c=d.rounding,!f[0]||!a[0])return a[0]||(n=new d(l)),h?P(n,u,c):n;if(s=g(l.e/E),t=g(n.e/E),f=f.slice(),r=s-t){for(r<0?(i=f,r=-r,o=a.length):(i=a,t=s,o=f.length),r>(o=(s=Math.ceil(u/E))>o?s+1:o+1)&&(r=o,i.length=1),i.reverse();r--;)i.push(0);i.reverse()}for((o=f.length)-(r=a.length)<0&&(r=o,i=a,a=f,f=i),e=0;r;)e=(f[--r]=f[r]+a[r]+e)/x|0,f[r]%=x;for(e&&(f.unshift(e),++t),o=f.length;0==f[--o];)f.pop();return n.d=f,n.e=L(f,t),h?P(n,u,c):n},q.precision=q.sd=function(n){var e;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(l+n);return this.d?(e=k(this.d),n&&this.e+1>e&&(e=this.e+1)):e=NaN,e},q.round=function(){var n=this.constructor;return P(new n(this),this.e+1,n.rounding)},q.sine=q.sin=function(){var n,e,i=this,r=i.constructor;return i.isFinite()?i.isZero()?new r(i):(n=r.precision,e=r.rounding,r.precision=n+Math.max(i.e,i.sd())+E,r.rounding=1,i=function(n,e){var i,t=e.d.length;if(t<3)return j(n,2,e,e);i=(i=1.4*Math.sqrt(t))>16?16:0|i,e=e.times(Math.pow(5,-i)),e=j(n,2,e,e);for(var r,s=new n(5),o=new n(16),u=new n(20);i--;)r=e.times(e),e=e.times(s.plus(r.times(o.times(r).minus(u))));return e}(r,W(r,i)),r.precision=n,r.rounding=e,P(t>2?i.neg():i,n,e,!0)):new r(NaN)},q.squareRoot=q.sqrt=function(){var n,e,i,t,r,s,o=this,u=o.d,c=o.e,f=o.s,a=o.constructor;if(1!==f||!u||!u[0])return new a(!f||f<0&&(!u||u[0])?NaN:u?o:1/0);for(h=!1,0==(f=Math.sqrt(+o))||f==1/0?(((e=O(u)).length+c)%2==0&&(e+="0"),f=Math.sqrt(e),c=g((c+1)/2)-(c<0||c%2),t=new a(e=f==1/0?"1e"+c:(e=f.toExponential()).slice(0,e.indexOf("e")+1)+c)):t=new a(f.toString()),i=(c=a.precision)+3;;)if(t=(s=t).plus(Z(o,s,i+2,1)).times(.5),O(s.d).slice(0,i)===(e=O(t.d)).slice(0,i)){if("9999"!=(e=e.slice(i-3,i+1))&&(r||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(P(t,c+1,1),n=!t.times(t).eq(o));break}if(!r&&(P(s,c+1,0),s.times(s).eq(o))){t=s;break}i+=4,r=1}return h=!0,P(t,c,a.rounding,n)},q.tangent=q.tan=function(){var n,e,i=this,r=i.constructor;return i.isFinite()?i.isZero()?new r(i):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,(i=i.sin()).s=1,i=Z(i,new r(1).minus(i.times(i)).sqrt(),n+10,0),r.precision=n,r.rounding=e,P(2==t||4==t?i.neg():i,n,e,!0)):new r(NaN)},q.times=q.mul=function(n){var e,i,t,r,s,o,u,c,f,a=this.constructor,l=this.d,d=(n=new a(n)).d;if(n.s*=this.s,!(l&&l[0]&&d&&d[0]))return new a(!n.s||l&&!l[0]&&!d||d&&!d[0]&&!l?NaN:l&&d?0*n.s:n.s/0);for(i=g(this.e/E)+g(n.e/E),(c=l.length)<(f=d.length)&&(s=l,l=d,d=s,o=c,c=f,f=o),s=[],t=o=c+f;t--;)s.push(0);for(t=f;--t>=0;){for(e=0,r=c+t;r>t;)u=s[r]+d[t]*l[r-t-1]+e,s[r--]=u%x|0,e=u/x|0;s[r]=(s[r]+e)%x|0}for(;!s[--o];)s.pop();return e?++i:s.shift(),n.d=s,n.e=L(s,i),h?P(n,a.precision,a.rounding):n},q.toBinary=function(n,e){return J(this,2,n,e)},q.toDecimalPlaces=q.toDP=function(n,e){var i=this,t=i.constructor;return i=new t(i),void 0===n?i:(F(n,0,s),void 0===e?e=t.rounding:F(e,0,8),P(i,n+i.e+1,e))},q.toExponential=function(n,e){var i,t=this,r=t.constructor;return void 0===n?i=R(t,!0):(F(n,0,s),void 0===e?e=r.rounding:F(e,0,8),i=R(t=P(new r(t),n+1,e),!0,n+1)),t.isNeg()&&!t.isZero()?"-"+i:i},q.toFixed=function(n,e){var i,t,r=this,o=r.constructor;return void 0===n?i=R(r):(F(n,0,s),void 0===e?e=o.rounding:F(e,0,8),i=R(t=P(new o(r),n+r.e+1,e),!1,n+t.e+1)),r.isNeg()&&!r.isZero()?"-"+i:i},q.toFraction=function(n){var e,i,t,r,s,o,u,c,f,a,d,p,g=this,m=g.d,v=g.constructor;if(!m)return new v(g);if(f=i=new v(1),o=(s=(e=new v(t=c=new v(0))).e=k(m)-g.e-1)%E,e.d[0]=w(10,o<0?E+o:o),null==n)n=s>0?e:f;else{if(!(u=new v(n)).isInt()||u.lt(f))throw Error(l+u);n=u.gt(e)?s>0?e:f:u}for(h=!1,u=new v(O(m)),a=v.precision,v.precision=s=m.length*E*2;d=Z(u,e,0,1,1),1!=(r=i.plus(d.times(t))).cmp(n);)i=t,t=r,r=f,f=c.plus(d.times(r)),c=r,r=e,e=u.minus(d.times(r)),u=r;return r=Z(n.minus(i),t,0,1,1),c=c.plus(r.times(f)),i=i.plus(r.times(t)),c.s=f.s=g.s,p=Z(f,t,s,1).minus(g).abs().cmp(Z(c,i,s,1).minus(g).abs())<1?[f,t]:[c,i],v.precision=a,h=!0,p},q.toHexadecimal=q.toHex=function(n,e){return J(this,16,n,e)},q.toNearest=function(n,e){var i=this,t=i.constructor;if(i=new t(i),null==n){if(!i.d)return i;n=new t(1),e=t.rounding}else{if(n=new t(n),void 0!==e&&F(e,0,8),!i.d)return n.s?i:n;if(!n.d)return n.s&&(n.s=i.s),n}return n.d[0]?(h=!1,e<4&&(e=[4,5,7,8][e]),i=Z(i,n,0,e,1).times(n),h=!0,P(i)):(n.s=i.s,i=n),i},q.toNumber=function(){return+this},q.toOctal=function(n,e){return J(this,8,n,e)},q.toPower=q.pow=function(n){var e,i,t,r,s,o,u,c=this,f=c.constructor,a=+(n=new f(n));if(!(c.d&&n.d&&c.d[0]&&n.d[0]))return new f(w(+c,a));if((c=new f(c)).eq(1))return c;if(t=f.precision,s=f.rounding,n.eq(1))return P(c,t,s);if(u=(e=g(n.e/E))>=(i=n.d.length-1),o=c.s,u){if((i=a<0?-a:a)<=9007199254740991)return r=T(f,c,i,t),n.s<0?new f(1).div(r):P(r,t,s)}else if(o<0)return new f(NaN);return o=o<0&&1&n.d[Math.max(e,i)]?-1:1,(e=0!=(i=w(+c,a))&&isFinite(i)?new f(i+"").e:g(a*(Math.log("0."+O(c.d))/Math.LN10+c.e+1)))>f.maxE+1||e<f.minE-1?new f(e>0?o/0:0):(h=!1,f.rounding=c.s=1,i=Math.min(12,(e+"").length),A((r=P(r=H(n.times(B(c,t+i)),t),t+5,1)).d,t,s)&&(e=t+10,+O((r=P(H(n.times(B(c,e+i)),e),e+5,1)).d).slice(t+1,t+15)+1==1e14&&(r=P(r,t+1,0))),r.s=o,h=!0,f.rounding=s,P(r,t,s))},q.toPrecision=function(n,e){var i,t=this,r=t.constructor;return void 0===n?i=R(t,t.e<=r.toExpNeg||t.e>=r.toExpPos):(F(n,1,s),void 0===e?e=r.rounding:F(e,0,8),i=R(t=P(new r(t),n,e),n<=t.e||t.e<=r.toExpNeg,n)),t.isNeg()&&!t.isZero()?"-"+i:i},q.toSignificantDigits=q.toSD=function(n,e){var i=this.constructor;return void 0===n?(n=i.precision,e=i.rounding):(F(n,1,s),void 0===e?e=i.rounding:F(e,0,8)),P(new i(this),n,e)},q.toString=function(){var n=this,e=n.constructor,i=R(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+i:i},q.truncated=q.trunc=function(){return P(new this.constructor(this),this.e+1,1)},q.valueOf=q.toJSON=function(){var n=this,e=n.constructor,i=R(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+i:i};var Z=function(){function n(n,e,i){var t,r=0,s=n.length;for(n=n.slice();s--;)t=n[s]*e+r,n[s]=t%i|0,r=t/i|0;return r&&n.unshift(r),n}function i(n,e,i,t){var r,s;if(i!=t)s=i>t?1:-1;else for(r=s=0;r<i;r++)if(n[r]!=e[r]){s=n[r]>e[r]?1:-1;break}return s}function t(n,e,i,t){for(var r=0;i--;)n[i]-=r,r=n[i]<e[i]?1:0,n[i]=r*t+n[i]-e[i];for(;!n[0]&&n.length>1;)n.shift()}return function(r,s,o,u,c,f){var h,a,l,d,p,w,m,v,N,b,M,y,q,O,F,A,D,Z,R,L,U=r.constructor,_=r.s==s.s?1:-1,k=r.d,S=s.d;if(!(k&&k[0]&&S&&S[0]))return new U(r.s&&s.s&&(k?!S||k[0]!=S[0]:S)?k&&0==k[0]||!S?0*_:_/0:NaN);for(f?(p=1,a=r.e-s.e):(f=x,p=E,a=g(r.e/p)-g(s.e/p)),R=S.length,D=k.length,b=(N=new U(_)).d=[],l=0;S[l]==(k[l]||0);l++);if(S[l]>(k[l]||0)&&a--,null==o?(O=o=U.precision,u=U.rounding):O=c?o+(r.e-s.e)+1:o,O<0)b.push(1),w=!0;else{if(O=O/p+2|0,l=0,1==R){for(d=0,S=S[0],O++;(l<D||d)&&O--;l++)F=d*f+(k[l]||0),b[l]=F/S|0,d=F%S|0;w=d||l<D}else{for((d=f/(S[0]+1)|0)>1&&(S=n(S,d,f),k=n(k,d,f),R=S.length,D=k.length),A=R,y=(M=k.slice(0,R)).length;y<R;)M[y++]=0;(L=S.slice()).unshift(0),Z=S[0],S[1]>=f/2&&++Z;do{d=0,(h=i(S,M,R,y))<0?(q=M[0],R!=y&&(q=q*f+(M[1]||0)),(d=q/Z|0)>1?(d>=f&&(d=f-1),1==(h=i(m=n(S,d,f),M,v=m.length,y=M.length))&&(d--,t(m,R<v?L:S,v,f))):(0==d&&(h=d=1),m=S.slice()),(v=m.length)<y&&m.unshift(0),t(M,m,y,f),-1==h&&(h=i(S,M,R,y=M.length))<1&&(d++,t(M,R<y?L:S,y,f)),y=M.length):0===h&&(d++,M=[0]),b[l++]=d,h&&M[0]?M[y++]=k[A]||0:(M=[k[A]],y=1)}while((A++<D||void 0!==M[0])&&O--);w=void 0!==M[0]}b[0]||b.shift()}if(1==p)N.e=a,e=w;else{for(l=1,d=b[0];d>=10;d/=10)l++;N.e=l+a*p-1,P(N,c?o+N.e+1:o,u,w)}return N}}();function P(n,e,i,t){var r,s,o,u,c,f,a,l,d,p=n.constructor;n:if(null!=e){if(!(l=n.d))return n;for(r=1,u=l[0];u>=10;u/=10)r++;if((s=e-r)<0)s+=E,o=e,c=(a=l[d=0])/w(10,r-o-1)%10|0;else if((d=Math.ceil((s+1)/E))>=(u=l.length)){if(!t)break n;for(;u++<=d;)l.push(0);a=c=0,r=1,o=(s%=E)-E+1}else{for(a=u=l[d],r=1;u>=10;u/=10)r++;c=(o=(s%=E)-E+r)<0?0:a/w(10,r-o-1)%10|0}if(t=t||e<0||void 0!==l[d+1]||(o<0?a:a%w(10,r-o-1)),f=i<4?(c||t)&&(0==i||i==(n.s<0?3:2)):c>5||5==c&&(4==i||t||6==i&&(s>0?o>0?a/w(10,r-o):0:l[d-1])%10&1||i==(n.s<0?8:7)),e<1||!l[0])return l.length=0,f?(e-=n.e+1,l[0]=w(10,(E-e%E)%E),n.e=-e||0):l[0]=n.e=0,n;if(0==s?(l.length=d,u=1,d--):(l.length=d+1,u=w(10,E-s),l[d]=o>0?(a/w(10,r-o)%w(10,o)|0)*u:0),f)for(;;){if(0==d){for(s=1,o=l[0];o>=10;o/=10)s++;for(o=l[0]+=u,u=1;o>=10;o/=10)u++;s!=u&&(n.e++,l[0]==x&&(l[0]=1));break}if(l[d]+=u,l[d]!=x)break;l[d--]=0,u=1}for(s=l.length;0===l[--s];)l.pop()}return h&&(n.e>p.maxE?(n.d=null,n.e=NaN):n.e<p.minE&&(n.e=0,n.d=[0])),n}function R(n,e,i){if(!n.isFinite())return V(n);var t,r=n.e,s=O(n.d),o=s.length;return e?(i&&(t=i-o)>0?s=s.charAt(0)+"."+s.slice(1)+S(t):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):r<0?(s="0."+S(-r-1)+s,i&&(t=i-o)>0&&(s+=S(t))):r>=o?(s+=S(r+1-o),i&&(t=i-r-1)>0&&(s=s+"."+S(t))):((t=r+1)<o&&(s=s.slice(0,t)+"."+s.slice(t)),i&&(t=i-o)>0&&(r+1===o&&(s+="."),s+=S(t))),s}function L(n,e){var i=n[0];for(e*=E;i>=10;i/=10)e++;return e}function U(n,e,i){if(e>M)throw h=!0,i&&(n.precision=i),Error(d);return P(new n(u),e,1,!0)}function _(n,e,i){if(e>y)throw Error(d);return P(new n(c),e,i,!0)}function k(n){var e=n.length-1,i=e*E+1;if(e=n[e]){for(;e%10==0;e/=10)i--;for(e=n[0];e>=10;e/=10)i++}return i}function S(n){for(var e="";n--;)e+="0";return e}function T(n,e,i,t){var r,s=new n(1),o=Math.ceil(t/E+4);for(h=!1;;){if(i%2&&z((s=s.times(e)).d,o)&&(r=!0),0===(i=g(i/2))){i=s.d.length-1,r&&0===s.d[i]&&++s.d[i];break}z((e=e.times(e)).d,o)}return h=!0,s}function C(n){return 1&n.d[n.d.length-1]}function I(n,e,i){for(var t,r=new n(e[0]),s=0;++s<e.length;){if(!(t=new n(e[s])).s){r=t;break}r[i](t)&&(r=t)}return r}function H(n,e){var i,t,r,s,o,u,c,f=0,a=0,l=0,d=n.constructor,p=d.rounding,g=d.precision;if(!n.d||!n.d[0]||n.e>17)return new d(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(h=!1,c=g):c=e,u=new d(.03125);n.e>-2;)n=n.times(u),l+=5;for(c+=t=Math.log(w(2,l))/Math.LN10*2+5|0,i=s=o=new d(1),d.precision=c;;){if(s=P(s.times(n),c,1),i=i.times(++a),O((u=o.plus(Z(s,i,c,1))).d).slice(0,c)===O(o.d).slice(0,c)){for(r=l;r--;)o=P(o.times(o),c,1);if(null!=e)return d.precision=g,o;if(!(f<3&&A(o.d,c-t,p,f)))return P(o,d.precision=g,p,h=!0);d.precision=c+=10,i=s=u=new d(1),a=0,f++}o=u}}function B(n,e){var i,t,r,s,o,u,c,f,a,l,d,p=1,g=n,w=g.d,m=g.constructor,v=m.rounding,N=m.precision;if(g.s<0||!w||!w[0]||!g.e&&1==w[0]&&1==w.length)return new m(w&&!w[0]?-1/0:1!=g.s?NaN:w?0:g);if(null==e?(h=!1,a=N):a=e,m.precision=a+=10,t=(i=O(w)).charAt(0),!(Math.abs(s=g.e)<15e14))return f=U(m,a+2,N).times(s+""),g=B(new m(t+"."+i.slice(1)),a-10).plus(f),m.precision=N,null==e?P(g,N,v,h=!0):g;for(;t<7&&1!=t||1==t&&i.charAt(1)>3;)t=(i=O((g=g.times(n)).d)).charAt(0),p++;for(s=g.e,t>1?(g=new m("0."+i),s++):g=new m(t+"."+i.slice(1)),l=g,c=o=g=Z(g.minus(1),g.plus(1),a,1),d=P(g.times(g),a,1),r=3;;){if(o=P(o.times(d),a,1),O((f=c.plus(Z(o,new m(r),a,1))).d).slice(0,a)===O(c.d).slice(0,a)){if(c=c.times(2),0!==s&&(c=c.plus(U(m,a+2,N).times(s+""))),c=Z(c,new m(p),a,1),null!=e)return m.precision=N,c;if(!A(c.d,a-10,v,u))return P(c,m.precision=N,v,h=!0);m.precision=a+=10,f=o=g=Z(l.minus(1),l.plus(1),a,1),d=P(g.times(g),a,1),r=u=1}c=f,r+=2}}function V(n){return String(n.s*n.s/0)}function $(n,e){var i,t,r;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(t=e.search(/e/i))>0?(i<0&&(i=t),i+=+e.slice(t+1),e=e.substring(0,t)):i<0&&(i=e.length),t=0;48===e.charCodeAt(t);t++);for(r=e.length;48===e.charCodeAt(r-1);--r);if(e=e.slice(t,r)){if(r-=t,n.e=i=i-t-1,n.d=[],t=(i+1)%E,i<0&&(t+=E),t<r){for(t&&n.d.push(+e.slice(0,t)),r-=E;t<r;)n.d.push(+e.slice(t,t+=E));e=e.slice(t),t=E-e.length}else t-=r;for(;t--;)e+="0";n.d.push(+e),h&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function j(n,e,i,t,r){var s,o,u,c,f=n.precision,a=Math.ceil(f/E);for(h=!1,c=i.times(i),u=new n(t);;){if(o=Z(u.times(c),new n(e++*e++),f,1),u=r?t.plus(o):t.minus(o),t=Z(o.times(c),new n(e++*e++),f,1),void 0!==(o=u.plus(t)).d[a]){for(s=a;o.d[s]===u.d[s]&&s--;);if(-1==s)break}s=u,u=t,t=o,o=s,0}return h=!0,o.d.length=a+1,o}function W(n,e){var i,r=e.s<0,s=_(n,n.precision,1),o=s.times(.5);if((e=e.abs()).lte(o))return t=r?4:1,e;if((i=e.divToInt(s)).isZero())t=r?3:2;else{if((e=e.minus(i.times(s))).lte(o))return t=C(i)?r?2:3:r?4:1,e;t=C(i)?r?1:4:r?3:2}return e.minus(s).abs()}function J(n,i,t,r){var u,c,f,h,a,l,d,p,g,w=n.constructor,m=void 0!==t;if(m?(F(t,1,s),void 0===r?r=w.rounding:F(r,0,8)):(t=w.precision,r=w.rounding),n.isFinite()){for(f=(d=R(n)).indexOf("."),m?(u=2,16==i?t=4*t-3:8==i&&(t=3*t-2)):u=i,f>=0&&(d=d.replace(".",""),(g=new w(1)).e=d.length-f,g.d=D(R(g),10,u),g.e=g.d.length),c=a=(p=D(d,10,u)).length;0==p[--a];)p.pop();if(p[0]){if(f<0?c--:((n=new w(n)).d=p,n.e=c,p=(n=Z(n,g,t,r,0,u)).d,c=n.e,l=e),f=p[t],h=u/2,l=l||void 0!==p[t+1],l=r<4?(void 0!==f||l)&&(0===r||r===(n.s<0?3:2)):f>h||f===h&&(4===r||l||6===r&&1&p[t-1]||r===(n.s<0?8:7)),p.length=t,l)for(;++p[--t]>u-1;)p[t]=0,t||(++c,p.unshift(1));for(a=p.length;!p[a-1];--a);for(f=0,d="";f<a;f++)d+=o.charAt(p[f]);if(m){if(a>1)if(16==i||8==i){for(f=16==i?4:3,--a;a%f;a++)d+="0";for(a=(p=D(d,u,i)).length;!p[a-1];--a);for(f=1,d="1.";f<a;f++)d+=o.charAt(p[f])}else d=d.charAt(0)+"."+d.slice(1);d=d+(c<0?"p":"p+")+c}else if(c<0){for(;++c;)d="0"+d;d="0."+d}else if(++c>a)for(c-=a;c--;)d+="0";else c<a&&(d=d.slice(0,c)+"."+d.slice(c))}else d=m?"0p+0":"0";d=(16==i?"0x":2==i?"0b":8==i?"0o":"")+d}else d=V(n);return n.s<0?"-"+d:d}function z(n,e){if(n.length>e)return n.length=e,!0}function G(n){return new this(n).abs()}function K(n){return new this(n).acos()}function Q(n){return new this(n).acosh()}function X(n,e){return new this(n).plus(e)}function Y(n){return new this(n).asin()}function nn(n){return new this(n).asinh()}function en(n){return new this(n).atan()}function tn(n){return new this(n).atanh()}function rn(n,e){n=new this(n),e=new this(e);var i,t=this.precision,r=this.rounding,s=t+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(i=e.s<0?_(this,t,r):new this(0)).s=n.s:!n.d||e.isZero()?(i=_(this,s,1).times(.5)).s=n.s:e.s<0?(this.precision=s,this.rounding=1,i=this.atan(Z(n,e,s,1)),e=_(this,s,1),this.precision=t,this.rounding=r,i=n.s<0?i.minus(e):i.plus(e)):i=this.atan(Z(n,e,s,1)):(i=_(this,s,1).times(e.s>0?.25:.75)).s=n.s:i=new this(NaN),i}function sn(n){return new this(n).cbrt()}function on(n){return P(n=new this(n),n.e+1,2)}function un(n){if(!n||"object"!=typeof n)throw Error(a+"Object expected");var e,i,t,o=["precision",1,s,"rounding",0,8,"toExpNeg",-r,0,"toExpPos",0,r,"maxE",0,r,"minE",-r,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(void 0!==(t=n[i=o[e]])){if(!(g(t)===t&&t>=o[e+1]&&t<=o[e+2]))throw Error(l+i+": "+t);this[i]=t}if(void 0!==(t=n[i="crypto"])){if(!0!==t&&!1!==t&&0!==t&&1!==t)throw Error(l+i+": "+t);if(t){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(p);this[i]=!0}else this[i]=!1}return this}function cn(n){return new this(n).cos()}function fn(n){return new this(n).cosh()}function hn(n,e){return new this(n).div(e)}function an(n){return new this(n).exp()}function ln(n){return P(n=new this(n),n.e+1,3)}function dn(){var n,e,i=new this(0);for(h=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)i.d&&(i=i.plus(e.times(e)));else{if(e.s)return h=!0,new this(1/0);i=e}return h=!0,i.sqrt()}function pn(n){return new this(n).ln()}function gn(n,e){return new this(n).log(e)}function wn(n){return new this(n).log(2)}function mn(n){return new this(n).log(10)}function vn(){return I(this,arguments,"lt")}function Nn(){return I(this,arguments,"gt")}function bn(n,e){return new this(n).mod(e)}function xn(n,e){return new this(n).mul(e)}function En(n,e){return new this(n).pow(e)}function Mn(n){var e,i,t,r,o=0,u=new this(1),c=[];if(void 0===n?n=this.precision:F(n,1,s),t=Math.ceil(n/E),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(t));o<t;)(r=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:c[o++]=r%1e7;else{if(!crypto.randomBytes)throw Error(p);for(e=crypto.randomBytes(t*=4);o<t;)(r=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(c.push(r%1e7),o+=4);o=t/4}else for(;o<t;)c[o++]=1e7*Math.random()|0;for(t=c[--o],n%=E,t&&n&&(r=w(10,E-n),c[o]=(t/r|0)*r);0===c[o];o--)c.pop();if(o<0)i=0,c=[0];else{for(i=-1;0===c[0];i-=E)c.shift();for(t=1,r=c[0];r>=10;r/=10)t++;t<E&&(i-=E-t)}return u.e=i,u.d=c,u}function yn(n){return P(n=new this(n),n.e+1,this.rounding)}function qn(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function On(n){return new this(n).sin()}function Fn(n){return new this(n).sinh()}function An(n){return new this(n).sqrt()}function Dn(n,e){return new this(n).sub(e)}function Zn(n){return new this(n).tan()}function Pn(n){return new this(n).tanh()}function Rn(n){return P(n=new this(n),n.e+1,1)}f=function n(e){var i,t,r;function s(n){var e,i,t,r=this;if(!(r instanceof s))return new s(n);if(r.constructor=s,n instanceof s)return r.s=n.s,r.e=n.e,void(r.d=(n=n.d)?n.slice():n);if("number"==(t=typeof n)){if(0===n)return r.s=1/n<0?-1:1,r.e=0,void(r.d=[0]);if(n<0?(n=-n,r.s=-1):r.s=1,n===~~n&&n<1e7){for(e=0,i=n;i>=10;i/=10)e++;return r.e=e,void(r.d=[n])}return 0*n!=0?(n||(r.s=NaN),r.e=NaN,void(r.d=null)):$(r,n.toString())}if("string"!==t)throw Error(l+n);return 45===n.charCodeAt(0)?(n=n.slice(1),r.s=-1):r.s=1,b.test(n)?$(r,n):function(n,e){var i,t,r,s,o,u,c,a,d;if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(v.test(e))i=16,e=e.toLowerCase();else if(m.test(e))i=2;else{if(!N.test(e))throw Error(l+e);i=8}for((s=e.search(/p/i))>0?(c=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),o=(s=e.indexOf("."))>=0,t=n.constructor,o&&(s=(u=(e=e.replace(".","")).length)-s,r=T(t,new t(i),s,2*s)),s=d=(a=D(e,i,x)).length-1;0===a[s];--s)a.pop();return s<0?new t(0*n.s):(n.e=L(a,d),n.d=a,h=!1,o&&(n=Z(n,r,4*u)),c&&(n=n.times(Math.abs(c)<54?Math.pow(2,c):f.pow(2,c))),h=!0,n)}(r,n)}if(s.prototype=q,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=un,s.clone=n,s.abs=G,s.acos=K,s.acosh=Q,s.add=X,s.asin=Y,s.asinh=nn,s.atan=en,s.atanh=tn,s.atan2=rn,s.cbrt=sn,s.ceil=on,s.cos=cn,s.cosh=fn,s.div=hn,s.exp=an,s.floor=ln,s.hypot=dn,s.ln=pn,s.log=gn,s.log10=mn,s.log2=wn,s.max=vn,s.min=Nn,s.mod=bn,s.mul=xn,s.pow=En,s.random=Mn,s.round=yn,s.sign=qn,s.sin=On,s.sinh=Fn,s.sqrt=An,s.sub=Dn,s.tan=Zn,s.tanh=Pn,s.trunc=Rn,void 0===e&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<r.length;)e.hasOwnProperty(t=r[i++])||(e[t]=this[t]);return s.config(e),s}(f),u=new f(u),c=new f(c),"function"==typeof define&&define.amd?define(function(){return f}):"undefined"!=typeof module&&module.exports?module.exports=f.default=f.Decimal=f:(n||(n="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),i=n.Decimal,f.noConflict=function(){return n.Decimal=i,f},n.Decimal=f)}(this);
},{}],155:[function(require,module,exports) {
var e=require("decimal.js");function r(r,o,i,t,n){var p=e.clone({precision:o.precision});return p.prototype.type="BigNumber",p.prototype.isBigNumber=!0,p.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},p.fromJSON=function(e){return new p(e.value)},n.on("config",function(e,r){e.precision!==r.precision&&p.config({precision:e.precision})}),p}exports.name="BigNumber",exports.path="type",exports.factory=r,exports.math=!0;
},{"decimal.js":536}],132:[function(require,module,exports) {
"use strict";module.exports=function t(n,u,e){return n&&"function"==typeof n.map?n.map(function(n){return t(n,u,e)}):u(n)};
},{}],156:[function(require,module,exports) {
"use strict";var r=require("../../../utils/collection/deepMap");function n(n,e,t,u){var i=u("bignumber",{"":function(){return new n.BigNumber(0)},number:function(r){return new n.BigNumber(r+"")},string:function(r){return new n.BigNumber(r)},BigNumber:function(r){return r},Fraction:function(r){return new n.BigNumber(r.n).div(r.d)},"Array | Matrix":function(n){return r(n,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)"},i}exports.name="bignumber",exports.factory=n;
},{"../../../utils/collection/deepMap":132}],101:[function(require,module,exports) {
module.exports=[require("./BigNumber"),require("./function/bignumber")];
},{"./BigNumber":155,"./function/bignumber":156}],93:[function(require,module,exports) {
"use strict";var r=require("./../utils/collection/deepMap");function n(n,e,t,o){var u=o("bool",{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},BigNumber:function(r){return!r.isZero()},string:function(r){var n=r.toLowerCase();if("true"===n)return!0;if("false"===n)return!1;var e=Number(r);if(""!=r&&!isNaN(e))return!!e;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":function(n){return r(n,u)}});return u}exports.name="boolean",exports.factory=n;
},{"./../utils/collection/deepMap":132}],528:[function(require,module,exports) {
exports.format=function(t,o){if("function"==typeof o)return o(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n="auto",e=void 0;switch(void 0!==o&&(o.notation&&(n=o.notation),"number"==typeof o?e=o:o.precision&&(e=o.precision)),n){case"fixed":return exports.toFixed(t,e);case"exponential":return exports.toExponential(t,e);case"auto":var i=.001,r=1e5;o&&o.exponential&&(void 0!==o.exponential.lower&&(i=o.exponential.lower),void 0!==o.exponential.upper&&(r=o.exponential.upper));t.constructor.toExpNeg,t.constructor.toExpPos;if(t.constructor.config({toExpNeg:Math.round(Math.log(i)/Math.LN10),toExpPos:Math.round(Math.log(r)/Math.LN10)}),t.isZero())return"0";var a=t.abs();return(a.gte(i)&&a.lt(r)?t.toSignificantDigits(e).toFixed():exports.toExponential(t,e)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],o=arguments[4];return"."!==t?t+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},exports.toExponential=function(t,o){return void 0!==o?t.toExponential(o-1):t.toExponential()},exports.toFixed=function(t,o){return t.toFixed(o||0)};
},{}],151:[function(require,module,exports) {
"use strict";var r=require("./number").format,t=require("./bignumber/formatter").format;function n(r,t){if(Array.isArray(r)){for(var i="[",e=r.length,o=0;o<e;o++)0!=o&&(i+=", "),i+=n(r[o],t);return i+="]"}return exports.format(r,t)}exports.isString=function(r){return"string"==typeof r},exports.endsWith=function(r,t){var n=r.length-t.length,i=r.length;return r.substring(n,i)===t},exports.format=function(i,e){if("number"==typeof i)return r(i,e);if(i&&!0===i.isBigNumber)return t(i,e);if(i&&!0===i.isFraction)return e&&"decimal"===e.fraction?i.toString():i.s*i.n+"/"+i.d;if(Array.isArray(i))return n(i,e);if(exports.isString(i))return'"'+i+'"';if("function"==typeof i)return i.syntax?String(i.syntax):"function";if(i&&"object"==typeof i){if("function"==typeof i.format)return i.format(e);if(i&&i.toString()!=={}.toString())return i.toString();var o=[];for(var f in i)i.hasOwnProperty(f)&&o.push('"'+f+'": '+exports.format(i[f],e));return"{"+o.join(", ")+"}"}return String(i)};
},{"./number":134,"./bignumber/formatter":528}],158:[function(require,module,exports) {
"use strict";var t=require("../../utils/string").format,r=require("../../utils/object").lazy;function e(e,o,n,i,u){function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");t&&t.isChain?this.value=t.value:this.value=t}function p(t,r){"function"==typeof r&&(a.prototype[t]=f(r))}function f(t){return function(){for(var r=[this.value],e=0;e<arguments.length;e++)r[e+1]=arguments[e];return new a(t.apply(t,r))}}return a.prototype.type="Chain",a.prototype.isChain=!0,a.prototype.done=function(){return this.value},a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return t(this.value)},a.createProxy=function(t,r){if("string"==typeof t)p(t,r);else for(var e in t)t.hasOwnProperty(e)&&p(e,t[e])},a.createProxy(u),u.on("import",function(t,e,o){var n,i;void 0===o&&(n=t,i=e,r(a.prototype,n,function(){var t=i();if("function"==typeof t)return f(t)}))}),a}exports.name="Chain",exports.path="type",exports.factory=e,exports.math=!0,exports.lazy=!1;
},{"../../utils/string":151,"../../utils/object":86}],159:[function(require,module,exports) {
"use strict";function n(n,t,r,e){return e("chain",{"":function(){return new n.Chain},any:function(t){return new n.Chain(t)}})}exports.name="chain",exports.factory=n;
},{}],103:[function(require,module,exports) {
module.exports=[require("./Chain"),require("./function/chain")];
},{"./Chain":158,"./function/chain":159}],535:[function(require,module,exports) {
!function(t){"use strict";var i={re:0,im:0};Math.cosh=Math.cosh||function(t){return.5*(Math.exp(t)+Math.exp(-t))},Math.sinh=Math.sinh||function(t){return.5*(Math.exp(t)-Math.exp(-t))};var n=function(){throw SyntaxError("Invalid Param")};function r(t,i){var n=Math.abs(t),r=Math.abs(i);return 0===t?Math.log(r):0===i?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+i*i):Math.log(t/Math.cos(Math.atan2(i,t)))}var e=function(t,r){if(void 0===t||null===t)i.re=i.im=0;else if(void 0!==r)i.re=t,i.im=r;else switch(typeof t){case"object":"im"in t&&"re"in t?(i.re=t.re,i.im=t.im):"abs"in t&&"arg"in t?(i.re=t.abs*Math.cos(t.arg),i.im=t.abs*Math.sin(t.arg)):"r"in t&&"phi"in t?(i.re=t.r*Math.cos(t.phi),i.im=t.r*Math.sin(t.phi)):n();break;case"string":i.im=i.re=0;var e=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,a=0;null===e&&n();for(var s=0;s<e.length;s++){var o=e[s];" "===o||"\t"===o||"\n"===o||("+"===o?h++:"-"===o?a++:"i"===o||"I"===o?(h+a===0&&n()," "===e[s+1]||isNaN(e[s+1])?i.im+=parseFloat((a%2?"-":"")+"1"):(i.im+=parseFloat((a%2?"-":"")+e[s+1]),s++),h=a=0):((h+a===0||isNaN(o))&&n(),"i"===e[s+1]||"I"===e[s+1]?(i.im+=parseFloat((a%2?"-":"")+o),s++):i.re+=parseFloat((a%2?"-":"")+o),h=a=0))}h+a>0&&n();break;case"number":i.im=0,i.re=t;break;default:n()}isNaN(i.re)||isNaN(i.im)};function h(t,n){if(!(this instanceof h))return new h(t,n);e(t,n),this.re=i.re,this.im=i.im}h.prototype={re:0,im:0,sign:function(){var t=this.abs();return new h(this.re/t,this.im/t)},add:function(t,n){return e(t,n),new h(this.re+i.re,this.im+i.im)},sub:function(t,n){return e(t,n),new h(this.re-i.re,this.im-i.im)},mul:function(t,n){return e(t,n),0===i.im&&0===this.im?new h(this.re*i.re,0):new h(this.re*i.re-this.im*i.im,this.re*i.im+this.im*i.re)},div:function(t,n){e(t,n),t=this.re,n=this.im;var r,a,s=i.re,o=i.im;return 0===s&&0===o?new h(0!==t?t/0:0,0!==n?n/0:0):0===o?new h(t/s,n/s):Math.abs(s)<Math.abs(o)?new h((t*(a=s/o)+n)/(r=s*a+o),(n*a-t)/r):new h((t+n*(a=o/s))/(r=o*a+s),(n-t*a)/r)},pow:function(t,n){if(e(t,n),t=this.re,n=this.im,0===t&&0===n)return new h(0,0);var a=Math.atan2(n,t),s=r(t,n);if(0===i.im){if(0===n&&t>=0)return new h(Math.pow(t,i.re),0);if(0===t)switch(i.re%4){case 0:return new h(Math.pow(n,i.re),0);case 1:return new h(0,Math.pow(n,i.re));case 2:return new h(-Math.pow(n,i.re),0);case 3:return new h(0,-Math.pow(n,i.re))}}return t=Math.exp(i.re*s-i.im*a),n=i.im*s+i.re*a,new h(t*Math.cos(n),t*Math.sin(n))},sqrt:function(){var t,i,n=this.re,r=this.im,e=this.abs();return n>=0&&0===r?new h(Math.sqrt(n),0):(t=n>=0?.5*Math.sqrt(2*(e+n)):Math.abs(r)/Math.sqrt(2*(e-n)),i=n<=0?.5*Math.sqrt(2*(e-n)):Math.abs(r)/Math.sqrt(2*(e+n)),new h(t,r>=0?i:-i))},exp:function(){var t=Math.exp(this.re);return this.im,new h(t*Math.cos(this.im),t*Math.sin(this.im))},log:function(){var t=this.re,i=this.im;return new h(r(t,i),Math.atan2(i,t))},abs:function(){var t=Math.abs(this.re),i=Math.abs(this.im);return t<3e3&&i<3e3?Math.sqrt(t*t+i*i):(t<i?(t=i,i=this.re/this.im):i=this.im/this.re,t*Math.sqrt(1+i*i))},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,i=this.im;return new h(Math.sin(t)*Math.cosh(i),Math.cos(t)*Math.sinh(i))},cos:function(){var t=this.re,i=this.im;return new h(Math.cos(t)*Math.cosh(i),-Math.sin(t)*Math.sinh(i))},tan:function(){var t=2*this.re,i=2*this.im,n=Math.cos(t)+Math.cosh(i);return new h(Math.sin(t)/n,Math.sinh(i)/n)},cot:function(){var t=2*this.re,i=2*this.im,n=Math.cos(t)-Math.cosh(i);return new h(-Math.sin(t)/n,Math.sinh(i)/n)},sec:function(){var t=this.re,i=this.im,n=.5*Math.cosh(2*i)+.5*Math.cos(2*t);return new h(Math.cos(t)*Math.cosh(i)/n,Math.sin(t)*Math.sinh(i)/n)},csc:function(){var t=this.re,i=this.im,n=.5*Math.cosh(2*i)-.5*Math.cos(2*t);return new h(Math.sin(t)*Math.cosh(i)/n,-Math.cos(t)*Math.sinh(i)/n)},asin:function(){var t=this.re,i=this.im,n=new h(i*i-t*t+1,-2*t*i).sqrt(),r=new h(n.re-i,n.im+t).log();return new h(r.im,-r.re)},acos:function(){var t=this.re,i=this.im,n=new h(i*i-t*t+1,-2*t*i).sqrt(),r=new h(n.re-i,n.im+t).log();return new h(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,i=this.im;if(0===t){if(1===i)return new h(0,1/0);if(-1===i)return new h(0,-1/0)}var n=t*t+(1-i)*(1-i),r=new h((1-i*i-t*t)/n,-2*t/n).log();return new h(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,i=this.im;if(0===i)return new h(Math.atan2(1,t),0);var n=t*t+i*i;return 0!==n?new h(t/n,-i/n).atan():new h(0!==t?t/0:0,0!==i?-i/0:0).atan()},asec:function(){var t=this.re,i=this.im;if(0===t&&0===i)return new h(0,1/0);var n=t*t+i*i;return 0!==n?new h(t/n,-i/n).acos():new h(0!==t?t/0:0,0!==i?-i/0:0).acos()},acsc:function(){var t=this.re,i=this.im;if(0===t&&0===i)return new h(Math.PI/2,1/0);var n=t*t+i*i;return 0!==n?new h(t/n,-i/n).asin():new h(0!==t?t/0:0,0!==i?-i/0:0).asin()},sinh:function(){var t=this.re,i=this.im;return new h(Math.sinh(t)*Math.cos(i),Math.cosh(t)*Math.sin(i))},cosh:function(){var t=this.re,i=this.im;return new h(Math.cosh(t)*Math.cos(i),Math.sinh(t)*Math.sin(i))},tanh:function(){var t=2*this.re,i=2*this.im,n=Math.cosh(t)+Math.cos(i);return new h(Math.sinh(t)/n,Math.sin(i)/n)},coth:function(){var t=2*this.re,i=2*this.im,n=Math.cosh(t)-Math.cos(i);return new h(Math.sinh(t)/n,-Math.sin(i)/n)},csch:function(){var t=this.re,i=this.im,n=Math.cos(2*i)-Math.cosh(2*t);return new h(-2*Math.sinh(t)*Math.cos(i)/n,2*Math.cosh(t)*Math.sin(i)/n)},sech:function(){var t=this.re,i=this.im,n=Math.cos(2*i)+Math.cosh(2*t);return new h(2*Math.cosh(t)*Math.cos(i)/n,-2*Math.sinh(t)*Math.sin(i)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var i=this.asin();return this.re=-this.im,this.im=t,t=i.re,i.re=-i.im,i.im=t,i},acosh:function(){var t,i=this.acos();return i.im<=0?(t=i.re,i.re=-i.im,i.im=t):(t=i.im,i.im=-i.re,i.re=t),i},atanh:function(){var t=this.re,i=this.im,n=t>1&&0===i,e=1-t,a=1+t,s=e*e+i*i,o=0!==s?new h((a*e-i*i)/s,(i*e+a*i)/s):new h(-1!==t?t/0:0,0!==i?i/0:0),c=o.re;return o.re=r(o.re,o.im)/2,o.im=Math.atan2(o.im,c)/2,n&&(o.im=-o.im),o},acoth:function(){var t=this.re,i=this.im;if(0===t&&0===i)return new h(0,Math.PI/2);var n=t*t+i*i;return 0!==n?new h(t/n,-i/n).atanh():new h(0!==t?t/0:0,0!==i?-i/0:0).atanh()},acsch:function(){var t=this.re,i=this.im;if(0===i)return new h(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+i*i;return 0!==n?new h(t/n,-i/n).asinh():new h(0!==t?t/0:0,0!==i?-i/0:0).asinh()},asech:function(){var t=this.re,i=this.im;if(0===t&&0===i)return new h(1/0,0);var n=t*t+i*i;return 0!==n?new h(t/n,-i/n).acosh():new h(0!==t?t/0:0,0!==i?-i/0:0).acosh()},inverse:function(){var t=this.re,i=this.im,n=t*t+i*i;return new h(0!==t?t/n:0,0!==i?-i/n:0)},conjugate:function(){return new h(this.re,-this.im)},neg:function(){return new h(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new h(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new h(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new h(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,n){return e(t,n),Math.abs(i.re-this.re)<=h.EPSILON&&Math.abs(i.im-this.im)<=h.EPSILON},clone:function(){return new h(this.re,this.im)},toString:function(){var t=this.re,i=this.im,n="";return isNaN(t)||isNaN(i)?"NaN":(0!==t&&(n+=t),0!==i&&(0!==t?n+=i<0?" - ":" + ":i<0&&(n+="-"),1!==(i=Math.abs(i))&&(n+=i),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)}},h.ZERO=new h(0,0),h.ONE=new h(1,0),h.I=new h(0,1),h.PI=new h(Math.PI,0),h.E=new h(Math.E,0),h.EPSILON=1e-16,"function"==typeof define&&define.amd?define([],function(){return h}):"object"==typeof exports?module.exports=h:t.Complex=h}(this);
},{}],136:[function(require,module,exports) {
var r=require("complex.js"),t=require("../../utils/number").format,e=require("../../utils/number").isNumber;function o(o,n,i,p,s){return r.prototype.type="Complex",r.prototype.isComplex=!0,r.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},r.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},r.prototype.format=function(r){var o=this.im,n=this.re,i=t(this.re,r),p=t(this.im,r),s=e(r)?r:r?r.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(n/o)<a&&(n=0),Math.abs(o/n)<a&&(o=0)}return 0==o?i:0==n?1==o?"i":-1==o?"-i":p+"i":o>0?1==o?i+" + i":i+" + "+p+"i":-1==o?i+" - i":i+" - "+p.substring(1)+"i"},r.fromPolar=function(t){switch(arguments.length){case 1:var o=arguments[0];if("object"==typeof o)return r(o);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],i=arguments[1];if(e(n)){if(i&&i.isUnit&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),e(i))return new r({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},r.prototype.valueOf=r.prototype.toString,r.fromJSON=function(t){return new r(t)},r.EPSILON=n.epsilon,s.on("config",function(t,e){t.epsilon!==e.epsilon&&(r.EPSILON=t.epsilon)}),r}exports.name="Complex",exports.path="type",exports.factory=o,exports.math=!0;
},{"complex.js":535,"../../utils/number":134}],282:[function(require,module,exports) {
"use strict";exports.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},exports.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},exports.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var a={deg:"^\\circ"};exports.toSymbol=function(t,i){if(i=void 0!==i&&i)return a.hasOwnProperty(t)?a[t]:"\\mathrm{"+t+"}";if(exports.symbols.hasOwnProperty(t))return exports.symbols[t];if(-1!==t.indexOf("_")){var e=t.indexOf("_");return exports.toSymbol(t.substring(0,e))+"_{"+exports.toSymbol(t.substring(e+1))+"}"}return t};
},{}],137:[function(require,module,exports) {
"use strict";var e=require("../../../utils/collection/deepMap");function r(r,t,n,i){var o=require("../../../utils/latex"),u=i("complex",{"":function(){return r.Complex.ZERO},number:function(e){return new r.Complex(e,0)},"number, number":function(e,t){return new r.Complex(e,t)},"BigNumber, BigNumber":function(e,t){return new r.Complex(e.toNumber(),t.toNumber())},Complex:function(e){return e.clone()},string:function(e){return r.Complex(e)},Object:function(e){if("re"in e&&"im"in e)return new r.Complex(e.re,e.im);if("r"in e&&"phi"in e)return new r.Complex(e);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(r){return e(r,u)}});return u.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+o.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},u}exports.name="complex",exports.factory=r;
},{"../../../utils/collection/deepMap":132,"../../../utils/latex":282}],102:[function(require,module,exports) {
module.exports=[require("./Complex"),require("./function/complex")];
},{"./Complex":136,"./function/complex":137}],537:[function(require,module,exports) {
!function(t){"use strict";var n={s:1,n:0,d:1};function i(t){var n=function(){var n=Error.apply(this,arguments);n.name=this.name=t,this.stack=n.stack,this.message=n.message},i=function(){};return i.prototype=Error.prototype,n.prototype=new i,n}var s=u.DivisionByZero=i("DivisionByZero"),r=u.InvalidParameter=i("InvalidParameter");function e(t,n){return isNaN(t=parseInt(t,10))&&h(),t*n}function h(){throw new r}var o=function(t,i){var r,o=0,a=1,u=1,f=0,d=0,c=0,w=1,N=1,l=0,p=1,v=1,M=1,g=1e7;if(void 0===t||null===t);else if(void 0!==i)u=(o=t)*(a=i);else switch(typeof t){case"object":"d"in t&&"n"in t?(o=t.n,a=t.d,"s"in t&&(o*=t.s)):0 in t?(o=t[0],1 in t&&(a=t[1])):h(),u=o*a;break;case"number":if(t<0&&(u=t,t=-t),t%1==0)o=t;else if(t>0){for(t>=1&&(t/=N=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));p<=g&&M<=g;){if(t===(r=(l+v)/(p+M))){p+M<=g?(o=l+v,a=p+M):M>p?(o=v,a=M):(o=l,a=p);break}t>r?(l+=v,p+=M):(v+=l,M+=p),p>g?(o=v,a=M):(o=l,a=p)}o*=N}else(isNaN(t)||isNaN(i))&&(a=o=NaN);break;case"string":if("-"===(p=t.match(/\d+|./g))[l]?(u=-1,l++):"+"===p[l]&&l++,p.length===l+1?d=e(p[l++],u):"."===p[l+1]||"."===p[l]?("."!==p[l]&&(f=e(p[l++],u)),(++l+1===p.length||"("===p[l+1]&&")"===p[l+3]||"'"===p[l+1]&&"'"===p[l+3])&&(d=e(p[l],u),w=Math.pow(10,p[l].length),l++),("("===p[l]&&")"===p[l+2]||"'"===p[l]&&"'"===p[l+2])&&(c=e(p[l+1],u),N=Math.pow(10,p[l+1].length)-1,l+=3)):"/"===p[l+1]||":"===p[l+1]?(d=e(p[l],u),w=e(p[l+2],1),l+=3):"/"===p[l+3]&&" "===p[l+1]&&(f=e(p[l],u),d=e(p[l+2],u),w=e(p[l+4],1),l+=5),p.length<=l){u=o=c+(a=w*N)*f+N*d;break}default:h()}if(0===a)throw new s;n.s=u<0?-1:1,n.n=Math.abs(o),n.d=Math.abs(a)},a=function(t,n){if(!t)return n;if(!n)return t;for(;;){if(!(t%=n))return n;if(!(n%=t))return t}};function u(t,i){if(!(this instanceof u))return new u(t,i);o(t,i),t=u.REDUCE?a(n.d,n.n):1,this.s=n.s,this.n=n.n/t,this.d=n.d/t}u.REDUCE=1,u.prototype={s:1,n:0,d:1,abs:function(){return new u(this.n,this.d)},neg:function(){return new u(-this.s*this.n,this.d)},add:function(t,i){return o(t,i),new u(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,i){return o(t,i),new u(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,i){return o(t,i),new u(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,i){return o(t,i),new u(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return new u(this)},mod:function(t,i){return isNaN(this.n)||isNaN(this.d)?new u(NaN):void 0===t?new u(this.s*this.n%this.d,1):(o(t,i),0===n.n&&0===this.d&&u(0,0),new u(this.s*n.d*this.n%(n.n*this.d),n.d*this.d))},gcd:function(t,i){return o(t,i),new u(a(n.n,this.n),n.d*this.d/a(n.d,this.d))},lcm:function(t,i){return o(t,i),0===n.n&&0===this.n?new u:new u(n.n*this.n/a(n.n,this.n),a(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new u(this.s*this.d,this.n)},pow:function(t){return t<0?new u(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new u(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,i){return o(t,i),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(t,i){o(t,i);var s=this.s*this.n*n.d-n.s*n.n*this.d;return(0<s)-(s<0)},divisible:function(t,i){return o(t,i),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var n,i="",s=this.n,r=this.d;return this.s<0&&(i+="-"),1===r?i+=s:(t&&(n=Math.floor(s/r))>0&&(i+=n,i+=" ",s%=r),i+=s,i+="/",i+=r),i},toLatex:function(t){var n,i="",s=this.n,r=this.d;return this.s<0&&(i+="-"),1===r?i+=s:(t&&(n=Math.floor(s/r))>0&&(i+=n,s%=r),i+="\\frac{",i+=s,i+="}{",i+=r,i+="}"),i},toContinued:function(){var t,n=this.n,i=this.d,s=[];do{s.push(Math.floor(n/i)),t=n%i,n=i,i=t}while(1!==n);return s},toString:function(){var t,n=this.n,i=this.d;if(isNaN(n)||isNaN(i))return"NaN";u.REDUCE||(n/=t=a(n,i),i/=t);for(var s=String(n).split(""),r=0,e=[~this.s?"":"-","",""],h="",o=function(t,n){for(;n%2==0;n/=2);for(;n%5==0;n/=5);if(1===n)return 0;for(var i=10%n,s=1;1!==i;s++)if(i=10*i%n,s>2e3)return 0;return s}(0,i),f=function(t,n,i){for(var s=1,r=function(t,n,i){for(var s=1;n>0;t=t*t%i,n>>=1)1&n&&(s=s*t%i);return s}(10,i,n),e=0;e<300;e++){if(s===r)return e;s=10*s%n,r=10*r%n}return 0}(0,i,o),d=-1,c=1,w=15+o+f+s.length,N=0;N<w;N++,r*=10){if(N<s.length?r+=Number(s[N]):(c=2,d++),o>0)if(d===f)e[c]+=h+"(",h="";else if(d===o+f){e[c]+=h+")";break}r>=i?(e[c]+=h+(r/i|0),h="",r%=i):c>1?h+="0":e[c]&&(e[c]+="0")}return e[0]+=e[1]||"0",e[2]?e[0]+"."+e[2]:e[0]}},"function"==typeof define&&define.amd?define([],function(){return u}):"object"==typeof exports?module.exports=u:t.Fraction=u}(this);
},{}],150:[function(require,module,exports) {
var t=require("fraction.js");function r(r,o,n,e){return t}t.prototype.type="Fraction",t.prototype.isFraction=!0,t.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},t.fromJSON=function(r){return new t(r)},exports.name="Fraction",exports.path="type",exports.factory=r;
},{"fraction.js":537}],149:[function(require,module,exports) {
"use strict";var n=require("../../../utils/collection/deepMap");function r(r,t,e,i){var o=i("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new r.Fraction(n)},string:function(n){return new r.Fraction(n)},"number, number":function(n,t){return new r.Fraction(n,t)},BigNumber:function(n){return new r.Fraction(n.toString())},Fraction:function(n){return n},Object:function(n){return new r.Fraction(n)},"Array | Matrix":function(r){return n(r,o)}});return o}exports.name="fraction",exports.factory=r;
},{"../../../utils/collection/deepMap":132}],105:[function(require,module,exports) {
module.exports=[require("./Fraction"),require("./function/fraction")];
},{"./Fraction":150,"./function/fraction":149}],152:[function(require,module,exports) {
"use strict";exports.type=function(n){var r=typeof n;return"object"===r?null===n?"null":n instanceof Boolean?"boolean":n instanceof Number?"number":n instanceof String?"string":Array.isArray(n)?"Array":n instanceof Date?"Date":n instanceof RegExp?"RegExp":"Object":"function"===r?"Function":r},exports.isScalar=function(n){return!(n&&n.isMatrix||Array.isArray(n))};
},{}],99:[function(require,module,exports) {
"use strict";function r(t,o,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=o,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(o)?"["+o.join(", ")+"]":o)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,module.exports=r;
},{}],100:[function(require,module,exports) {
"use strict";function t(e,i,s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=i):(this.min=i,this.max=s),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}t.prototype=new RangeError,t.prototype.constructor=RangeError,t.prototype.name="IndexError",t.prototype.isIndexError=!0,module.exports=t;
},{}],87:[function(require,module,exports) {
"use strict";var r=require("./number"),e=require("./string"),t=require("./object"),n=require("./types"),i=require("../error/DimensionError"),o=require("../error/IndexError");function s(r,e,t){var n,o=r.length;if(o!=e[t])throw new i(o,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<o;n++){var f=r[n];if(!Array.isArray(f))throw new i(e.length-1,e.length,"<");s(r[n],e,a)}}else for(n=0;n<o;n++)if(Array.isArray(r[n]))throw new i(e.length+1,e.length,">")}function a(r,e,t,n){var i,o,s=r.length,f=e[t],u=Math.min(s,f);if(r.length=f,t<e.length-1){var h=t+1;for(i=0;i<u;i++)o=r[i],Array.isArray(o)||(o=[o],r[i]=o),a(o,e,h,n);for(i=u;i<f;i++)o=[],r[i]=o,a(o,e,h,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];if(n!==exports.UNINITIALIZED)for(i=u;i<f;i++)r[i]=n}}function f(r,e){var t,n=[];if(0===e.length){if(0===r.length)throw new i(null,null,"!=");return r.shift()}for(t=0;t<e[0];t+=1)n.push(f(r,e.slice(1)));return n}function u(r,e,t){var n,i;if(t<e){var o=t+1;for(n=0,i=r.length;n<i;n++)r[n]=u(r[n],e,o)}else for(;Array.isArray(r);)r=r[0];return r}function h(r,e,t){var n,i;if(Array.isArray(r)){var o=t+1;for(n=0,i=r.length;n<i;n++)r[n]=h(r[n],e,o)}else for(var s=t;s<e;s++)r=[r];return r}exports.size=function(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e},exports.validate=function(r,e){if(0==e.length){if(Array.isArray(r))throw new i(r.length,0)}else s(r,e,0)},exports.validateIndex=function(e,t){if(!r.isNumber(e)||!r.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new o(e,t)},exports.UNINITIALIZED={},exports.resize=function(t,n,i){if(!Array.isArray(t)||!Array.isArray(n))throw new TypeError("Array expected");if(0===n.length)throw new Error("Resizing to scalar is not supported");return n.forEach(function(t){if(!r.isNumber(t)||!r.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+e.format(n)+")")}),a(t,n,0,void 0!==i?i:0),t},exports.reshape=function(r,e){var t,n=exports.flatten(r),o=function(r){return r.reduce(function(r,e){return r*e})};if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new i(0,o(exports.size(r)),"!=");try{t=f(n,e)}catch(t){if(t instanceof i)throw new i(o(e),o(exports.size(r)),"!=");throw t}if(n.length>0)throw new i(o(e),o(exports.size(r)),"!=");return t},exports.squeeze=function(r,e){for(var t=e||exports.size(r);Array.isArray(r)&&1===r.length;)r=r[0],t.shift();for(var n=t.length;1===t[n-1];)n--;return n<t.length&&(r=u(r,n,0),t.length=n),r},exports.unsqueeze=function(r,e,t,n){var i=n||exports.size(r);if(t)for(var o=0;o<t;o++)r=[r],i.unshift(1);for(r=h(r,e,0);i.length<e;)i.push(1);return r},exports.flatten=function(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function r(t){Array.isArray(t)?t.forEach(r):e.push(t)}),e},exports.isArray=Array.isArray;
},{"./number":134,"./string":151,"./object":86,"./types":152,"../error/DimensionError":99,"../error/IndexError":100}],569:[function(require,module,exports) {
"use strict";exports.isBoolean=function(o){return"boolean"==typeof o};
},{}],153:[function(require,module,exports) {
exports.memoize=function(e,t){return function n(){"object"!=typeof n.cache&&(n.cache={});for(var c=[],r=0;r<arguments.length;r++)c[r]=arguments[r];var a=t?t(c):JSON.stringify(c);return a in n.cache?n.cache[a]:n.cache[a]=e.apply(e,c)}},exports.maxArgumentCount=function(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)};
},{}],529:[function(require,module,exports) {
"use strict";exports.array=require("./array"),exports.boolean=require("./boolean"),exports.function=require("./function"),exports.number=require("./number"),exports.object=require("./object"),exports.string=require("./string"),exports.types=require("./types"),exports.emitter=require("./emitter");
},{"./array":87,"./boolean":569,"./function":153,"./number":134,"./object":86,"./string":151,"./types":152,"./emitter":89}],139:[function(require,module,exports) {
"use strict";var t=require("../../utils/index"),r=t.string,o=r.isString;function n(t,r,n,e){function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}return a.prototype.type="Matrix",a.prototype.isMatrix=!0,a.storage=function(t){if(!o(t))throw new TypeError("format must be a string value");var r=a._storage[t];if(!r)throw new SyntaxError("Unsupported matrix storage format: "+t);return r},a._storage={},a.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},a.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},a.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},a.prototype.subset=function(t,r,o){throw new Error("Cannot invoke subset on a Matrix interface")},a.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},a.prototype.set=function(t,r,o){throw new Error("Cannot invoke set on a Matrix interface")},a.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},a.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},a.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},a.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},a.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},a.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},a.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},a.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},a.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},a.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},a}exports.name="Matrix",exports.path="type",exports.factory=n;
},{"../../utils/index":529}],138:[function(require,module,exports) {
"use strict";var t=require("../../utils/index"),e=require("../../error/DimensionError"),r=t.string,i=t.array,n=t.object,a=t.number,o=Array.isArray,s=a.isNumber,h=a.isInteger,u=r.isString,p=i.validateIndex;function f(a,f,l,d){var c=l(require("./Matrix"));function _(e,r){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!u(r))throw new Error("Invalid datatype: "+r);if(e&&!0===e.isMatrix)"DenseMatrix"===e.type?(this._data=n.clone(e._data),this._size=n.clone(e._size),this._datatype=r||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=r||e._datatype);else if(e&&o(e.data)&&o(e.size))this._data=e.data,this._size=e.size,this._datatype=r||e.datatype;else if(o(e))this._data=function t(e){for(var r=0,i=e.length;r<i;r++){var n=e[r];o(n)?e[r]=t(n):n&&!0===n.isMatrix&&(e[r]=t(n.valueOf()))}return e}(e),this._size=i.size(this._data),i.validate(this._data,this._size),this._datatype=r;else{if(e)throw new TypeError("Unsupported type of data ("+t.types.type(e)+")");this._data=[],this._size=[0],this._datatype=r}}_.prototype=new c,_.prototype.type="DenseMatrix",_.prototype.isDenseMatrix=!0,_.prototype.storage=function(){return"dense"},_.prototype.datatype=function(){return this._datatype},_.prototype.create=function(t,e){return new _(t,e)},_.prototype.subset=function(t,r,a){switch(arguments.length){case 1:return function(t,r){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var i=r.size();if(i.length!=t._size.length)throw new e(i.length,t._size.length);for(var n=r.min(),a=r.max(),o=0,s=t._size.length;o<s;o++)p(n[o],t._size[o]),p(a[o],t._size[o]);return new _(function t(e,r,i,n){var a=n==i-1;var o=r.dimension(n);return a?o.map(function(t){return e[t]}).valueOf():o.map(function(a){var o=e[a];return t(o,r,i,n+1)}).valueOf()}(t._data,r,i.length,0),t._datatype)}(this,t);case 2:case 3:return function(t,r,a,o){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var s,h=r.size(),u=r.isScalar();a&&!0===a.isMatrix?(s=a.size(),a=a.valueOf()):s=i.size(a);if(u){if(0!==s.length)throw new TypeError("Scalar expected");t.set(r.min(),a,o)}else{if(h.length<t._size.length)throw new e(h.length,t._size.length,"<");if(s.length<h.length){for(var f=0,l=0;1===h[f]&&1===s[f];)f++;for(;1===h[f];)l++,f++;a=i.unsqueeze(a,h.length,l,s)}if(!n.deepEqual(h,s))throw new e(h,s,">");var d=r.max().map(function(t){return t+1});w(t,d,o);var c=h.length;!function t(e,r,i,n,a){var o=a==n-1,s=r.dimension(a);o?s.forEach(function(t,r){p(t),e[t]=i[r[0]]}):s.forEach(function(o,s){p(o),t(e[o],r,i[s[0]],n,a+1)})}(t._data,r,a,c,0)}return t}(this,t,r,a);default:throw new SyntaxError("Wrong number of arguments")}},_.prototype.get=function(t){if(!o(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new e(t.length,this._size.length);for(var r=0;r<t.length;r++)p(t[r],this._size[r]);for(var i=this._data,n=0,a=t.length;n<a;n++){var s=t[n];p(s,i.length),i=i[s]}return i},_.prototype.set=function(t,r,i){if(!o(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new e(t.length,this._size.length,"<");var n,a,s;w(this,t.map(function(t){return t+1}),i);var h=this._data;for(n=0,a=t.length-1;n<a;n++)s=t[n],p(s,h.length),h=h[s];return s=t[t.length-1],p(s,h.length),h[s]=r,this},_.prototype.resize=function(t,e,r){if(!o(t))throw new TypeError("Array expected");var i=r?this.clone():this;return y(i,t,e)};var y=function(t,e,r){if(0===e.length){for(var n=t._data;o(n);)n=n[0];return n}return t._size=e.slice(0),t._data=i.resize(t._data,t._size,r),t};function w(t,e,r){for(var i=t._size.slice(0),n=!1;i.length<e.length;)i.push(0),n=!0;for(var a=0,o=e.length;a<o;a++)e[a]>i[a]&&(i[a]=e[a],n=!0);n&&y(t,i,r)}return _.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=i.reshape(r._data,t),r._size=t.slice(0),r},_.prototype.clone=function(){return new _({data:n.clone(this._data),size:n.clone(this._size),datatype:this._datatype})},_.prototype.size=function(){return this._size.slice(0)},_.prototype.map=function(t){var e=this,r=function(i,n){return o(i)?i.map(function(t,e){return r(t,n.concat(e))}):t(i,n,e)};return new _({data:r(this._data,[]),size:n.clone(this._size),datatype:this._datatype})},_.prototype.forEach=function(t){var e=this,r=function(i,n){o(i)?i.forEach(function(t,e){r(t,n.concat(e))}):t(i,n,e)};r(this._data,[])},_.prototype.toArray=function(){return n.clone(this._data)},_.prototype.valueOf=function(){return this._data},_.prototype.format=function(t){return r.format(this._data,t)},_.prototype.toString=function(){return r.format(this._data)},_.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},_.prototype.diagonal=function(t){if(t){if(!0===t.isBigNumber&&(t=t.toNumber()),!s(t)||!h(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],n=this._size[1],a=Math.min(i-r,n-e),o=[],u=0;u<a;u++)o[u]=this._data[u+r][u+e];return new _({data:o,size:[a],datatype:this._datatype})},_.diagonal=function(t,e,r,n,p){if(!o(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&!0===t.isBigNumber&&(t=t.toNumber()),!s(t)||!h(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(r&&!0===r.isBigNumber&&(r=r.toNumber()),!s(r)||!h(r))throw new TypeError("The parameter k must be an integer number")}else r=0;n&&u(p)&&(n=d.convert(n,p));var f,l=r>0?r:0,c=r<0?-r:0,y=t[0],w=t[1],g=Math.min(y-c,w-l);if(o(e)){if(e.length!==g)throw new Error("Invalid value array length");f=function(t){return e[t]}}else if(e&&!0===e.isMatrix){var z=e.size();if(1!==z.length||z[0]!==g)throw new Error("Invalid matrix length");f=function(t){return e.get([t])}}else f=function(){return e};n||(n=f(0)&&!0===f(0).isBigNumber?new a.BigNumber(0):0);var m=[];if(t.length>0){m=i.resize(m,t,n);for(var v=0;v<g;v++)m[v+c][v+l]=f(v)}return new _({data:m,size:[y,w]})},_.fromJSON=function(t){return new _(t)},_.prototype.swapRows=function(t,e){if(!(s(t)&&h(t)&&s(e)&&h(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return p(t,this._size[0]),p(e,this._size[0]),_._swapRows(t,e,this._data),this},_._swapRows=function(t,e,r){var i=r[t];r[t]=r[e],r[e]=i},a.Matrix._storage.dense=_,a.Matrix._storage.default=_,_}exports.name="DenseMatrix",exports.path="type",exports.factory=f,exports.lazy=!1;
},{"../../utils/index":529,"../../error/DimensionError":99,"./Matrix":139}],548:[function(require,module,exports) {
"use strict";module.exports=function(r,i,e){if(null==e)return r.eq(i);if(r.eq(i))return!0;if(r.isNaN()||i.isNaN())return!1;if(r.isFinite()&&i.isFinite()){var t=r.minus(i).abs();if(t.isZero())return!0;var s=r.constructor.max(r.abs(),i.abs());return t.lte(s.times(e))}return!1};
},{}],479:[function(require,module,exports) {
"use strict";var n=require("../../utils/number").nearlyEqual,r=require("../../utils/bignumber/nearlyEqual");function e(e,u,t,i){var o=i("equalScalar",{"boolean, boolean":function(n,r){return n===r},"number, number":function(r,e){return r===e||n(r,e,u.epsilon)},"BigNumber, BigNumber":function(n,e){return n.eq(e)||r(n,e,u.epsilon)},"Fraction, Fraction":function(n,r){return n.equals(r)},"Complex, Complex":function(n,r){return n.equals(r)},"Unit, Unit":function(n,r){if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return o(n.value,r.value)},"string, string":function(n,r){return n===r}});return o}exports.factory=e;
},{"../../utils/number":134,"../../utils/bignumber/nearlyEqual":548}],140:[function(require,module,exports) {
"use strict";var t=require("../../utils/index"),e=require("../../error/DimensionError"),r=t.array,i=t.object,n=t.string,s=t.number,a=Array.isArray,o=s.isNumber,h=s.isInteger,p=n.isString,_=r.validateIndex;function u(u,l,f,v){var d=f(require("./Matrix")),c=f(require("../../function/relational/equalScalar"));function y(e,r){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!p(r))throw new Error("Invalid datatype: "+r);if(e&&!0===e.isMatrix)w(this,e,r);else if(e&&a(e.index)&&a(e.ptr)&&a(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=r||e.datatype;else if(a(e))x(this,e,r);else{if(e)throw new TypeError("Unsupported type of data ("+t.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}}var w=function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?i.clone(e._values):void 0,t._index=i.clone(e._index),t._ptr=i.clone(e._ptr),t._size=i.clone(e._size),t._datatype=r||e._datatype):x(t,e.valueOf(),r||e._datatype)},x=function(t,e,r){t._values=[],t._index=[],t._ptr=[],t._datatype=r;var i=e.length,n=0,s=c,o=0;if(p(r)&&(s=v.find(c,[r,r])||c,o=v.convert(0,r)),i>0){var h=0;do{t._ptr.push(t._index.length);for(var _=0;_<i;_++){var u=e[_];if(a(u)){if(0===h&&n<u.length&&(n=u.length),h<u.length){var l=u[h];s(l,o)||(t._values.push(l),t._index.push(_))}}else 0===h&&n<1&&(n=1),s(u,o)||(t._values.push(u),t._index.push(_))}h++}while(h<n)}t._ptr.push(t._index.length),t._size=[i,n]};y.prototype=new d,y.prototype.type="SparseMatrix",y.prototype.isSparseMatrix=!0,y.prototype.storage=function(){return"sparse"},y.prototype.datatype=function(){return this._datatype},y.prototype.create=function(t,e){return new y(t,e)},y.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},y.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return g(this,t);case 2:case 3:return z(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}};var g=function(t,r){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var i,n,s,a,o=r.size();if(o.length!=t._size.length)throw new e(o.length,t._size.length);var h=r.min(),p=r.max();for(i=0,n=t._size.length;i<n;i++)_(h[i],t._size[i]),_(p[i],t._size[i]);var u=t._values,l=t._index,f=t._ptr,v=r.dimension(0),d=r.dimension(1),c=[],w=[];v.forEach(function(t,e){w[t]=e[0],c[t]=!0});var x=u?[]:void 0,g=[],z=[];return d.forEach(function(t){for(z.push(g.length),s=f[t],a=f[t+1];s<a;s++)i=l[s],!0===c[i]&&(g.push(w[i]),x&&x.push(u[s]))}),z.push(g.length),new y({values:x,index:g,ptr:z,size:o,datatype:t._datatype})},z=function(t,n,s,a){if(!n||!0!==n.isIndex)throw new TypeError("Invalid index");var o,h=n.size(),p=n.isScalar();if(s&&!0===s.isMatrix?(o=s.size(),s=s.toArray()):o=r.size(s),p){if(0!==o.length)throw new TypeError("Scalar expected");t.set(n.min(),s,a)}else{if(1!==h.length&&2!==h.length)throw new e(h.length,t._size.length,"<");if(o.length<h.length){for(var _=0,u=0;1===h[_]&&1===o[_];)_++;for(;1===h[_];)u++,_++;s=r.unsqueeze(s,h.length,u,o)}if(!i.deepEqual(h,o))throw new e(h,o,">");for(var l=n.min()[0],f=n.min()[1],v=o[0],d=o[1],c=0;c<v;c++)for(var y=0;y<d;y++){var w=s[c][y];t.set([c+l,y+f],w,a)}}return t};y.prototype.get=function(t){if(!a(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new e(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var r=t[0],i=t[1];_(r,this._size[0]),_(i,this._size[1]);var n=m(r,this._ptr[i],this._ptr[i+1],this._index);return n<this._ptr[i+1]&&this._index[n]===r?this._values[n]:0},y.prototype.set=function(t,r,i){if(!a(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new e(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=t[0],s=t[1],o=this._size[0],h=this._size[1],u=c,l=0;p(this._datatype)&&(u=v.find(c,[this._datatype,this._datatype])||c,l=v.convert(0,this._datatype)),(n>o-1||s>h-1)&&(S(this,Math.max(n+1,o),Math.max(s+1,h),i),o=this._size[0],h=this._size[1]),_(n,o),_(s,h);var f=m(n,this._ptr[s],this._ptr[s+1],this._index);return f<this._ptr[s+1]&&this._index[f]===n?u(r,l)?E(f,s,this._values,this._index,this._ptr):this._values[f]=r:b(f,n,s,r,this._values,this._index,this._ptr),this};var m=function(t,e,r,i){if(r-e==0)return r;for(var n=e;n<r;n++)if(i[n]===t)return n;return e},E=function(t,e,r,i,n){r.splice(t,1),i.splice(t,1);for(var s=e+1;s<n.length;s++)n[s]--},b=function(t,e,r,i,n,s,a){n.splice(t,0,i),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++};y.prototype.resize=function(t,e,r){if(!a(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!s.isNumber(e)||!s.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+n.format(t)+")")});var i=r?this.clone():this;return S(i,t[0],t[1],e)};var S=function(t,e,r,i){var n=i||0,s=c,a=0;p(t._datatype)&&(s=v.find(c,[t._datatype,t._datatype])||c,a=v.convert(0,t._datatype),n=v.convert(n,t._datatype));var o,h,_,u=!s(n,a),l=t._size[0],f=t._size[1];if(r>f){for(h=f;h<r;h++)if(t._ptr[h]=t._values.length,u)for(o=0;o<l;o++)t._values.push(n),t._index.push(o);t._ptr[r]=t._values.length}else r<f&&(t._ptr.splice(r+1,f-r),t._values.splice(t._ptr[r],t._values.length),t._index.splice(t._ptr[r],t._index.length));if(f=r,e>l){if(u){var d=0;for(h=0;h<f;h++){t._ptr[h]=t._ptr[h]+d,_=t._ptr[h+1]+d;var y=0;for(o=l;o<e;o++,y++)t._values.splice(_+y,0,n),t._index.splice(_+y,0,o),d++}t._ptr[f]=t._values.length}}else if(e<l){var w=0;for(h=0;h<f;h++){t._ptr[h]=t._ptr[h]-w;var x=t._ptr[h],g=t._ptr[h+1]-w;for(_=x;_<g;_++)(o=t._index[_])>e-1&&(t._values.splice(_,1),t._index.splice(_,1),w++)}t._ptr[h]=t._values.length}return t._size[0]=e,t._size[1]=r,t};y.prototype.reshape=function(t,e){if(!a(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(e){if(!s.isNumber(e)||!s.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+n.format(t)+")")}),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var i=[],o=0;o<r._ptr.length;o++)for(var h=0;h<r._ptr[o+1]-r._ptr[o];h++)i.push(o);var p=r._values.slice(),_=r._index.slice();for(o=0;o<r._index.length;o++){var u=_[o],l=i[o],f=u*r._size[1]+l;i[o]=f%t[1],_[o]=Math.floor(f/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(o=0;o<r._ptr.length;o++)r._ptr[o]=0;for(var v=0;v<p.length;v++){o=_[v],h=i[v];var d=p[v],c=m(o,r._ptr[h],r._ptr[h+1],r._index);b(c,o,h,d,r._values,r._index,r._ptr)}return r},y.prototype.clone=function(){return new y({values:this._values?i.clone(this._values):void 0,index:i.clone(this._index),ptr:i.clone(this._ptr),size:i.clone(this._size),datatype:this._datatype})},y.prototype.size=function(){return this._size.slice(0)},y.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var r=this,i=this._size[0],n=this._size[1];return M(this,0,i-1,0,n-1,function(e,i,n){return t(e,[i,n],r)},e)};var M=function(t,e,r,i,n,s,a){var o=[],h=[],_=[],u=c,l=0;p(t._datatype)&&(u=v.find(c,[t._datatype,t._datatype])||c,l=v.convert(0,t._datatype));for(var f=function(t,e,r){t=s(t,e,r),u(t,l)||(o.push(t),h.push(e))},d=i;d<=n;d++){_.push(o.length);for(var w=t._ptr[d],x=t._ptr[d+1],g=e,z=w;z<x;z++){var m=t._index[z];if(m>=e&&m<=r){if(!a)for(var E=g;E<m;E++)f(0,E-e,d-i);f(t._values[z],m-e,d-i)}g=m+1}if(!a)for(var b=g;b<=r;b++)f(0,b-e,d-i)}return _.push(o.length),new y({values:o,index:h,ptr:_,size:[r-e+1,n-i+1]})};y.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],i=this._size[1],n=0;n<i;n++){for(var s=this._ptr[n],a=this._ptr[n+1],o=0,h=s;h<a;h++){var p=this._index[h];if(!e)for(var _=o;_<p;_++)t(0,[_,n],this);t(this._values[h],[p,n],this),o=p+1}if(!e)for(var u=o;u<r;u++)t(0,[u,n],this)}},y.prototype.toArray=function(){return T(this._values,this._index,this._ptr,this._size,!0)},y.prototype.valueOf=function(){return T(this._values,this._index,this._ptr,this._size,!1)};var T=function(t,e,r,n,s){var a,o,h=n[0],p=n[1],_=[];for(a=0;a<h;a++)for(_[a]=[],o=0;o<p;o++)_[a][o]=0;for(o=0;o<p;o++)for(var u=r[o],l=r[o+1],f=u;f<l;f++)_[a=e[f]][o]=t?s?i.clone(t[f]):t[f]:1;return _};return y.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],i=this.density(),s="Sparse Matrix ["+n.format(e,t)+" x "+n.format(r,t)+"] density: "+n.format(i,t)+"\n",a=0;a<r;a++)for(var o=this._ptr[a],h=this._ptr[a+1],p=o;p<h;p++){var _=this._index[p];s+="\n    ("+n.format(_,t)+", "+n.format(a,t)+") ==> "+(this._values?n.format(this._values[p],t):"X")}return s},y.prototype.toString=function(){return n.format(this.toArray())},y.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},y.prototype.diagonal=function(t){if(t){if(!0===t.isBigNumber&&(t=t.toNumber()),!o(t)||!h(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],n=this._size[1],s=Math.min(i-r,n-e),a=[],p=[],_=[];_[0]=0;for(var u=e;u<n&&a.length<s;u++)for(var l=this._ptr[u],f=this._ptr[u+1],v=l;v<f;v++){var d=this._index[v];if(d===u-e+r){a.push(this._values[v]),p[a.length-1]=d-r;break}}return _.push(a.length),new y({values:a,index:p,ptr:_,size:[s,1]})},y.fromJSON=function(t){return new y(t)},y.diagonal=function(t,e,r,i,n){if(!a(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&!0===t.isBigNumber&&(t=t.toNumber()),!o(t)||!h(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(!0===r.isBigNumber&&(r=r.toNumber()),!o(r)||!h(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var s=c,_=0;p(n)&&(s=v.find(c,[n,n])||c,_=v.convert(0,n));var u,l=r>0?r:0,f=r<0?-r:0,d=t[0],w=t[1],x=Math.min(d-f,w-l);if(a(e)){if(e.length!==x)throw new Error("Invalid value array length");u=function(t){return e[t]}}else if(e&&!0===e.isMatrix){var g=e.size();if(1!==g.length||g[0]!==x)throw new Error("Invalid matrix length");u=function(t){return e.get([t])}}else u=function(){return e};for(var z=[],m=[],E=[],b=0;b<w;b++){E.push(z.length);var S=b-l;if(S>=0&&S<x){var M=u(S);s(M,_)||(m.push(S+f),z.push(M))}}return E.push(z.length),new y({values:z,index:m,ptr:E,size:[d,w]})},y.prototype.swapRows=function(t,e){if(!(o(t)&&h(t)&&o(e)&&h(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return _(t,this._size[0]),_(e,this._size[0]),y._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},y._forEachRow=function(t,e,r,i,n){for(var s=i[t],a=i[t+1],o=s;o<a;o++)n(r[o],e[o])},y._swapRows=function(t,e,r,i,n,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],p=m(t,o,h,n),_=m(e,o,h,n);if(p<h&&_<h&&n[p]===t&&n[_]===e){if(i){var u=i[p];i[p]=i[_],i[_]=u}}else if(p<h&&n[p]===t&&(_>=h||n[_]!==e)){var l=i?i[p]:void 0;n.splice(_,0,e),i&&i.splice(_,0,l),n.splice(_<=p?p+1:p,1),i&&i.splice(_<=p?p+1:p,1)}else if(_<h&&n[_]===e&&(p>=h||n[p]!==t)){var f=i?i[_]:void 0;n.splice(p,0,t),i&&i.splice(p,0,f),n.splice(p<=_?_+1:_,1),i&&i.splice(p<=_?_+1:_,1)}}},u.Matrix._storage.sparse=y,y}exports.name="SparseMatrix",exports.path="type",exports.factory=u,exports.lazy=!1;
},{"../../utils/index":529,"../../error/DimensionError":99,"./Matrix":139,"../../function/relational/equalScalar":479}],147:[function(require,module,exports) {
"use strict";function r(r,t,n,i){var e=i("matrix",{"":function(){return a([])},string:function(r){return a([],r)},"string, string":function(r,t){return a([],r,t)},Array:function(r){return a(r)},Matrix:function(r){return a(r,r.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});return e.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},e;function a(t,n,i){return new(r.Matrix.storage(n||"default"))(t,i)}}exports.name="matrix",exports.factory=r;
},{}],488:[function(require,module,exports) {
"use strict";function n(n,r,e,t){var u=t("add",{"number, number":function(n,r){return n+r},"Complex, Complex":function(n,r){return n.add(r)},"BigNumber, BigNumber":function(n,r){return n.plus(r)},"Fraction, Fraction":function(n,r){return n.add(r)},"Unit, Unit":function(n,r){if(null==n.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var e=n.clone();return e.value=u(e.value,r.value),e.fixPrefix=!1,e}});return u}exports.factory=n;
},{}],557:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function t(t,e,a,n){var i=t.DenseMatrix;return function(t,e,a,o){var s=t._data,f=t._size,h=t._datatype,p=e._values,d=e._index,m=e._ptr,u=e._size,v=e._datatype;if(f.length!==u.length)throw new r(f.length,u.length);if(f[0]!==u[0]||f[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+u+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var x,_,g=f[0],w=f[1],c="string"==typeof h&&h===v?h:void 0,l=c?n.find(a,[c,c]):a,y=[];for(x=0;x<g;x++)y[x]=[];var M=[],D=[];for(_=0;_<w;_++){for(var z=_+1,E=m[_],q=m[_+1],A=E;A<q;A++)M[x=d[A]]=o?l(p[A],s[x][_]):l(s[x][_],p[A]),D[x]=z;for(x=0;x<g;x++)D[x]===z?y[x][_]=M[x]:y[x][_]=s[x][_]}return new i({data:y,size:[g,w],datatype:c})}}exports.name="algorithm01",exports.factory=t;
},{"../../../error/DimensionError":99}],558:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function e(e,t,i,n){var a=i(require("../../../function/relational/equalScalar")),o=e.SparseMatrix;return function(e,t,i){var s=e._values,l=e._index,f=e._ptr,u=e._size,h=e._datatype,v=t._values,p=t._index,d=t._ptr,c=t._size,g=t._datatype;if(u.length!==c.length)throw new r(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var _,m=u[0],x=u[1],w=a,y=0,q=i;"string"==typeof h&&h===g&&(_=h,w=n.find(a,[_,_]),y=n.convert(0,_),q=n.find(i,[_,_]));var z,M,D,E,S,A=s&&v?[]:void 0,B=[],R=[],b=new o({values:A,index:B,ptr:R,size:[m,x],datatype:_}),j=s&&v?[]:void 0,k=s&&v?[]:void 0,C=[],F=[];for(M=0;M<x;M++){R[M]=B.length;var G=M+1;for(E=f[M],S=f[M+1],D=E;D<S;D++)z=l[D],B.push(z),C[z]=G,j&&(j[z]=s[D]);for(E=d[M],S=d[M+1],D=E;D<S;D++)if(C[z=p[D]]===G){if(j){var H=q(j[z],v[D]);w(H,y)?C[z]=null:j[z]=H}}else B.push(z),F[z]=G,k&&(k[z]=v[D]);if(j&&k)for(D=R[M];D<B.length;)C[z=B[D]]===G?(A[D]=j[z],D++):F[z]===G?(A[D]=k[z],D++):B.splice(D,1)}return R[x]=B.length,b}}exports.name="algorithm04",exports.factory=e;
},{"../../../error/DimensionError":99,"../../../function/relational/equalScalar":479}],559:[function(require,module,exports) {
"use strict";function r(r,a,t,e){var n=r.DenseMatrix;return function(r,a,t,o){var i=r._values,f=r._index,s=r._ptr,v=r._size,p=r._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var u,c=v[0],d=v[1],x=t;"string"==typeof p&&(u=p,a=e.convert(a,u),x=e.find(t,[u,u]));for(var _=[],l=new n({data:_,size:[c,d],datatype:u}),y=[],m=[],w=0;w<d;w++){for(var g=w+1,h=s[w],z=s[w+1],M=h;M<z;M++){var S=f[M];y[S]=i[M],m[S]=g}for(var C=0;C<c;C++)0===w&&(_[C]=[]),m[C]===g?_[C][w]=o?x(a,y[C]):x(y[C],a):_[C][w]=a}return l}}exports.name="algorithm10",exports.factory=r;
},{}],539:[function(require,module,exports) {
"use strict";var r=require("../../../utils/index"),t=require("../../../error/DimensionError"),e=r.string,n=e.isString;function a(r,e,n,a){var i=r.DenseMatrix,o=function(r,t,e,n,a,i){var s=[];if(t===e.length-1)for(var f=0;f<n;f++)s[f]=r(a[f],i[f]);else for(var g=0;g<n;g++)s[g]=o(r,t+1,e,e[t+1],a[g],i[g]);return s};return function(r,e,n){var s,f=r._data,g=r._size,h=r._datatype,u=e._data,l=e._size,v=e._datatype,c=[];if(g.length!==l.length)throw new t(g.length,l.length);for(var d=0;d<g.length;d++){if(g[d]!==l[d])throw new RangeError("Dimension mismatch. Matrix A ("+g+") must match Matrix B ("+l+")");c[d]=g[d]}var m=n;"string"==typeof h&&h===v&&(s=h,e=a.convert(e,s),m=a.find(n,[s,s]));var p=c.length>0?o(m,0,c,c[0],f,u):[];return new i({data:p,size:c,datatype:s})}}exports.name="algorithm13",exports.factory=a;
},{"../../../utils/index":529,"../../../error/DimensionError":99}],541:[function(require,module,exports) {
"use strict";var t=require("../../../utils/object").clone;function r(r,e,a,n){var i=r.DenseMatrix,o=function(t,r,e,a,n,i,s){var f=[];if(r===e.length-1)for(var u=0;u<a;u++)f[u]=s?t(i,n[u]):t(n[u],i);else for(var c=0;c<a;c++)f[c]=o(t,r+1,e,e[r+1],n[c],i,s);return f};return function(r,e,a,s){var f,u=r._data,c=r._size,v=r._datatype,l=a;"string"==typeof v&&(f=v,e=n.convert(e,f),l=n.find(a,[f,f]));var d=c.length>0?o(l,0,c,c[0],u,e,s):[];return new i({data:d,size:t(c),datatype:f})}}exports.name="algorithm14",exports.factory=r;
},{"../../../utils/object":86}],478:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").extend;function t(t,a,e,i){var u=e(require("../../type/matrix/function/matrix")),n=e(require("./addScalar")),s=require("../../utils/latex.js"),o=e(require("../../type/matrix/utils/algorithm01")),c=e(require("../../type/matrix/utils/algorithm04")),l=e(require("../../type/matrix/utils/algorithm10")),f=e(require("../../type/matrix/utils/algorithm13")),y=e(require("../../type/matrix/utils/algorithm14")),x=i("add",r({"Matrix, Matrix":function(r,t){var a;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":a=c(r,t,n);break;default:a=o(t,r,n,!0)}break;default:switch(t.storage()){case"sparse":a=o(r,t,n,!1);break;default:a=f(r,t,n)}}return a},"Array, Array":function(r,t){return x(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return x(u(r),t)},"Matrix, Array":function(r,t){return x(r,u(t))},"Matrix, any":function(r,t){var a;switch(r.storage()){case"sparse":a=l(r,t,n,!1);break;default:a=y(r,t,n,!1)}return a},"any, Matrix":function(r,t){var a;switch(t.storage()){case"sparse":a=l(t,r,n,!0);break;default:a=y(t,r,n,!0)}return a},"Array, any":function(r,t){return y(u(r),t,n,!1).valueOf()},"any, Array":function(r,t){return y(u(t),r,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(r,t,a){for(var e=x(r,t),i=0;i<a.length;i++)e=x(e,a[i]);return e}},n.signatures));return x.toTex={2:"\\left(${args[0]}"+s.operators.add+"${args[1]}\\right)"},x}exports.name="add",exports.factory=t;
},{"../../utils/object":86,"../../type/matrix/function/matrix":147,"./addScalar":488,"../../utils/latex.js":282,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm04":558,"../../type/matrix/utils/algorithm10":559,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],145:[function(require,module,exports) {
"use strict";function e(e,t,a){var i=a(require("../../function/arithmetic/add")),s=a(require("../../function/relational/equalScalar"));function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}return r.prototype.type="Spa",r.prototype.isSpa=!0,r.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var a=this._heap.insert(e,t);this._values[e]=a}},r.prototype.get=function(e){var t=this._values[e];return t?t.value:0},r.prototype.accumulate=function(e,t){var a=this._values[e];a?a.value=i(a.value,t):(a=this._heap.insert(e,t),this._values[e]=a)},r.prototype.forEach=function(e,t,a){var i=this._heap,r=this._values,u=[],o=i.extractMinimum();for(o&&u.push(o);o&&o.key<=t;)o.key>=e&&(s(o.value,0)||a(o.key,o.value,this)),(o=i.extractMinimum())&&u.push(o);for(var h=0;h<u.length;h++){var v=u[h];r[(o=i.insert(v.key,v.value)).key]=o}},r.prototype.swap=function(e,t){var a=this._values[e],i=this._values[t];if(!a&&i)a=this._heap.insert(e,i.value),this._heap.remove(i),this._values[e]=a,this._values[t]=void 0;else if(a&&!i)i=this._heap.insert(t,a.value),this._heap.remove(a),this._values[t]=i,this._values[e]=void 0;else if(a&&i){var s=a.value;a.value=i.value,i.value=s}},r}exports.name="Spa",exports.path="type",exports.factory=e;
},{"../../function/arithmetic/add":478,"../../function/relational/equalScalar":479}],545:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function t(t,e,a,n){var o=t.DenseMatrix;return function(t,e,a,i){var s=t._data,f=t._size,v=t._datatype,h=e._values,p=e._index,m=e._ptr,d=e._size,u=e._datatype;if(f.length!==d.length)throw new r(f.length,d.length);if(f[0]!==d[0]||f[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+d+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var x,_=f[0],c=f[1],g=0,w=a;"string"==typeof v&&v===u&&(x=v,g=n.convert(0,x),w=n.find(a,[x,x]));for(var l=[],y=0;y<_;y++)l[y]=[];for(var M=[],D=[],z=0;z<c;z++){for(var E=z+1,q=m[z],A=m[z+1],B=q;B<A;B++){var C=p[B];M[C]=i?w(h[B],s[C][z]):w(s[C][z],h[B]),D[C]=E}for(var P=0;P<_;P++)D[P]===E?l[P][z]=M[P]:l[P][z]=i?w(g,s[P][z]):w(s[P][z],g)}return new o({data:l,size:[_,c],datatype:x})}}exports.name="algorithm03",exports.factory=t;
},{"../../../error/DimensionError":99}],549:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function t(t,e,a,n){var i=t.DenseMatrix,o=function(r,t,e,a,n){for(var i=r._values,o=r._index,s=r._ptr,f=s[t],v=s[t+1];f<v;f++){var h=o[f];e[h]=n,a[h]=i[f]}};return function(t,e,a){var s=t._size,f=t._datatype,v=e._size,h=e._datatype;if(s.length!==v.length)throw new r(s.length,v.length);if(s[0]!==v[0]||s[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+v+")");var u,c,m,g=s[0],p=s[1],_=0,d=a;"string"==typeof f&&f===h&&(u=f,_=n.convert(0,u),d=n.find(a,[u,u]));var l=[];for(c=0;c<g;c++)l[c]=[];var x=new i({data:l,size:[g,p],datatype:u}),w=[],y=[],z=[],D=[];for(m=0;m<p;m++){var M=m+1;for(o(t,m,z,w,M),o(e,m,D,y,M),c=0;c<g;c++){var E=z[c]===M?w[c]:_,q=D[c]===M?y[c]:_;l[c][m]=d(E,q)}}return x}}exports.name="algorithm07",exports.factory=t;
},{"../../../error/DimensionError":99}],544:[function(require,module,exports) {
"use strict";function r(r,a,t,e){var n=r.DenseMatrix;return function(r,a,t,o){var i=r._values,f=r._index,s=r._ptr,v=r._size,p=r._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var u,c=v[0],d=v[1],x=t;"string"==typeof p&&(u=p,a=e.convert(a,u),x=e.find(t,[u,u]));for(var _=[],l=new n({data:_,size:[c,d],datatype:u}),y=[],m=[],w=0;w<d;w++){for(var g=w+1,h=s[w],z=s[w+1],M=h;M<z;M++){var S=f[M];y[S]=i[M],m[S]=g}for(var C=0;C<c;C++)0===w&&(_[C]=[]),m[C]===g?_[C][w]=o?x(a,y[C]):x(y[C],a):_[C][w]=o?x(a,0):x(0,a)}return l}}exports.name="algorithm12",exports.factory=r;
},{}],220:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").nearlyEqual,e=require("../../utils/bignumber/nearlyEqual");function t(t,a,n,i){var u=n(require("../../type/matrix/function/matrix")),o=n(require("../../type/matrix/utils/algorithm03")),s=n(require("../../type/matrix/utils/algorithm07")),l=n(require("../../type/matrix/utils/algorithm12")),c=n(require("../../type/matrix/utils/algorithm13")),f=n(require("../../type/matrix/utils/algorithm14")),m=require("../../utils/latex"),p=i("smaller",{"boolean, boolean":function(r,e){return r<e},"number, number":function(e,t){return e<t&&!r(e,t,a.epsilon)},"BigNumber, BigNumber":function(r,t){return r.lt(t)&&!e(r,t,a.epsilon)},"Fraction, Fraction":function(r,e){return-1===r.compare(e)},"Complex, Complex":function(r,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,e){if(!r.equalBase(e))throw new Error("Cannot compare units with different base");return p(r.value,e.value)},"string, string":function(r,e){return r<e},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=s(r,e,p);break;default:t=o(e,r,p,!0)}break;default:switch(e.storage()){case"sparse":t=o(r,e,p,!1);break;default:t=c(r,e,p)}}return t},"Array, Array":function(r,e){return p(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return p(u(r),e)},"Matrix, Array":function(r,e){return p(r,u(e))},"Matrix, any":function(r,e){var t;switch(r.storage()){case"sparse":t=l(r,e,p,!1);break;default:t=f(r,e,p,!1)}return t},"any, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=l(e,r,p,!0);break;default:t=f(e,r,p,!0)}return t},"Array, any":function(r,e){return f(u(r),e,p,!1).valueOf()},"any, Array":function(r,e){return f(u(e),r,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+m.operators.smaller+"${args[1]}\\right)"},p}exports.name="smaller",exports.factory=t;
},{"../../utils/number":134,"../../utils/bignumber/nearlyEqual":548,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541,"../../utils/latex":282}],218:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").nearlyEqual,e=require("../../utils/bignumber/nearlyEqual");function t(t,a,n,i){var u=n(require("../../type/matrix/function/matrix")),o=n(require("../../type/matrix/utils/algorithm03")),s=n(require("../../type/matrix/utils/algorithm07")),l=n(require("../../type/matrix/utils/algorithm12")),c=n(require("../../type/matrix/utils/algorithm13")),f=n(require("../../type/matrix/utils/algorithm14")),m=require("../../utils/latex"),g=i("larger",{"boolean, boolean":function(r,e){return r>e},"number, number":function(e,t){return e>t&&!r(e,t,a.epsilon)},"BigNumber, BigNumber":function(r,t){return r.gt(t)&&!e(r,t,a.epsilon)},"Fraction, Fraction":function(r,e){return 1===r.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,e){if(!r.equalBase(e))throw new Error("Cannot compare units with different base");return g(r.value,e.value)},"string, string":function(r,e){return r>e},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=s(r,e,g);break;default:t=o(e,r,g,!0)}break;default:switch(e.storage()){case"sparse":t=o(r,e,g,!1);break;default:t=c(r,e,g)}}return t},"Array, Array":function(r,e){return g(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return g(u(r),e)},"Matrix, Array":function(r,e){return g(r,u(e))},"Matrix, any":function(r,e){var t;switch(r.storage()){case"sparse":t=l(r,e,g,!1);break;default:t=f(r,e,g,!1)}return t},"any, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=l(e,r,g,!0);break;default:t=f(e,r,g,!0)}return t},"Array, any":function(r,e){return f(u(r),e,g,!1).valueOf()},"any, Array":function(r,e){return f(u(e),r,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+m.operators.larger+"${args[1]}\\right)"},g}exports.name="larger",exports.factory=t;
},{"../../utils/number":134,"../../utils/bignumber/nearlyEqual":548,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541,"../../utils/latex":282}],141:[function(require,module,exports) {
"use strict";function t(t,i,r,e){var h=r(require("../../function/relational/smaller")),n=r(require("../../function/relational/larger")),l=1/Math.log((1+Math.sqrt(5))/2);function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(t,i){var r={key:t,value:i,degree:0};if(this._minimum){var e=this._minimum;r.left=e,r.right=e.right,e.right=r,r.right.left=r,h(t,e.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return!!this._minimum},o.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,r=t.degree,e=t.child;r>0;){var h=e.right;e.left.right=e.right,e.right.left=e.left,e.left=i,e.right=i.right,i.right=e,e.right.left=e,e.parent=null,e=h,r--}return t.left.right=t.right,t.right.left=t.left,t==t.right?i=null:(i=t.right,i=a(i,this._size)),this._size--,this._minimum=i,t},o.prototype.remove=function(t){this._minimum=f(this._minimum,t,-1),this.extractMinimum()};var f=function(t,i,r){i.key=r;var e=i.parent;return e&&h(i.key,e.key)&&(g(t,i,e),u(t,e)),h(i.key,t.key)&&(t=i),t},g=function(t,i,r){i.left.right=i.right,i.right.left=i.left,r.degree--,r.child==i&&(r.child=i.right),0===r.degree&&(r.child=null),i.left=t,i.right=t.right,t.right=i,i.right.left=i,i.parent=null,i.mark=!1},u=function(t,i){var r=i.parent;r&&(i.mark?(g(t,i,r),u(r)):i.mark=!0)},a=function(t,i){var r,e,o,f=Math.floor(Math.log(i)*l)+1,g=new Array(f),u=0,a=t;if(a)for(u++,a=a.right;a!==t;)u++,a=a.right;for(;u>0;){for(var m=a.degree,s=a.right;r=g[m];){if(n(a.key,r.key)){var c=r;r=a,a=c}o=a,(e=r).left.right=e.right,e.right.left=e.left,e.parent=o,o.child?(e.left=o.child,e.right=o.child.right,o.child.right=e,e.right.left=e):(o.child=e,e.right=e,e.left=e),o.degree++,e.mark=!1,g[m]=null,m++}g[m]=a,a=s,u--}t=null;for(var p=0;p<f;p++)(r=g[p])&&(t?(r.left.right=r.right,r.right.left=r.left,r.left=t,r.right=t.right,t.right=r,r.right.left=r,h(r.key,t.key)&&(t=r)):t=r);return t};return o}exports.name="FibonacciHeap",exports.path="type",exports.factory=t;
},{"../../function/relational/smaller":220,"../../function/relational/larger":218}],142:[function(require,module,exports) {
"use strict";var t=require("../../utils/index"),e=t.string,n=t.object,a=Array.isArray,i=e.isString;function r(e,r,o){var s=o(require("./DenseMatrix")),u=o(require("../../function/relational/smaller"));function p(e,n){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!i(n))throw new Error("Invalid datatype: "+n);if(e&&!0===e.isMatrix||a(e)){var r=new s(e,n);this._data=r._data,this._size=r._size,this._datatype=r._datatype,this._min=null,this._max=null}else if(e&&a(e.data)&&a(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+t.types.type(e)+")");this._data=[],this._size=[0],this._datatype=n,this._min=null,this._max=null}}return p.prototype=new s,p.prototype.type="ImmutableDenseMatrix",p.prototype.isImmutableDenseMatrix=!0,p.prototype.subset=function(t){switch(arguments.length){case 1:var e=s.prototype.subset.call(this,t);return e.isMatrix?new p({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},p.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},p.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},p.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},p.prototype.clone=function(){return new p({data:n.clone(this._data),size:n.clone(this._size),datatype:this._datatype})},p.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},p.fromJSON=function(t){return new p(t)},p.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},p.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||u(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},p.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||u(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},p}exports.name="ImmutableDenseMatrix",exports.path="type",exports.factory=r;
},{"../../utils/index":529,"./DenseMatrix":138,"../../function/relational/smaller":220}],143:[function(require,module,exports) {
"use strict";var t=require("../../utils/object").clone,n=require("../../utils/number").isInteger;function i(i){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var n=0,i=arguments.length;n<i;n++){var s=arguments[n];if(s&&!0===s.isRange)this._dimensions.push(s),this._isScalar=!1;else if(s&&(Array.isArray(s)||!0===s.isMatrix)){var o=r(s.valueOf());this._dimensions.push(o);var a=o.size();1===a.length&&1===a[0]||(this._isScalar=!1)}else if("number"==typeof s)this._dimensions.push(r([s]));else{if("string"!=typeof s)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(s)}}}function r(t){for(var e=0,r=t.length;e<r;e++)if("number"!=typeof t[e]||!n(t[e]))throw new TypeError("Index parameters must be positive integer numbers");return new i.ImmutableDenseMatrix(t)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var n=new e;return n._dimensions=t(this._dimensions),n._isScalar=this._isScalar,n},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],n=0,i=this._dimensions.length;n<i;n++){var e=this._dimensions[n];t[n]="string"==typeof e?1:e.size()[0]}return t},e.prototype.max=function(){for(var t=[],n=0,i=this._dimensions.length;n<i;n++){var e=this._dimensions[n];t[n]="string"==typeof e?e:e.max()}return t},e.prototype.min=function(){for(var t=[],n=0,i=this._dimensions.length;n<i;n++){var e=this._dimensions[n];t[n]="string"==typeof e?e:e.min()}return t},e.prototype.forEach=function(t){for(var n=0,i=this._dimensions.length;n<i;n++)t(this._dimensions[n],n,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],n=0,i=this._dimensions.length;n<i;n++){var e=this._dimensions[n];t.push("string"==typeof e?e:e.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],n=0,i=this._dimensions.length;n<i;n++){var e=this._dimensions[n];"string"==typeof e?t.push(JSON.stringify(e)):t.push(e.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}exports.name="Index",exports.path="type",exports.factory=i;
},{"../../utils/object":86,"../../utils/number":134}],144:[function(require,module,exports) {
"use strict";var t=require("../../utils/number");function r(r,e,n,s){function i(t,r,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(!0===t.isBigNumber)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=r)if(!0===r.isBigNumber)r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(null!=e)if(!0===e.isBigNumber)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=r?parseFloat(r):0,this.step=null!=e?parseFloat(e):1}return i.prototype.type="Range",i.prototype.isRange=!0,i.parse=function(t){if("string"!=typeof t)return null;var r=t.split(":").map(function(t){return parseFloat(t)});if(r.some(function(t){return isNaN(t)}))return null;switch(r.length){case 2:return new i(r[0],r[1]);case 3:return new i(r[0],r[2],r[1]);default:return null}},i.prototype.clone=function(){return new i(this.start,this.end,this.step)},i.prototype.size=function(){var r=0,e=this.start,n=this.step,s=this.end-e;return t.sign(n)==t.sign(s)?r=Math.ceil(s/n):0==s&&(r=0),isNaN(r)&&(r=0),[r]},i.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},i.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},i.prototype.forEach=function(t){var r=this.start,e=this.step,n=this.end,s=0;if(e>0)for(;r<n;)t(r,[s],this),r+=e,s++;else if(e<0)for(;r>n;)t(r,[s],this),r+=e,s++},i.prototype.map=function(t){var r=[];return this.forEach(function(e,n,s){r[n[0]]=t(e,n,s)}),r},i.prototype.toArray=function(){var t=[];return this.forEach(function(r,e){t[e[0]]=r}),t},i.prototype.valueOf=function(){return this.toArray()},i.prototype.format=function(r){var e=t.format(this.start,r);return 1!=this.step&&(e+=":"+t.format(this.step,r)),e+=":"+t.format(this.end,r)},i.prototype.toString=function(){return this.format()},i.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},i.fromJSON=function(t){return new i(t.start,t.end,t.step)},i}exports.name="Range",exports.path="type",exports.factory=r;
},{"../../utils/number":134}],148:[function(require,module,exports) {
"use strict";function r(r,n,e,t){return t("index",{"...number | string | BigNumber | Range | Array | Matrix":function(n){var e=n.map(function(r){return r&&!0===r.isBigNumber?r.toNumber():r&&(Array.isArray(r)||!0===r.isMatrix)?r.map(function(r){return r&&!0===r.isBigNumber?r.toNumber():r}):r}),t=new r.Index;return r.Index.apply(t,e),t}})}exports.name="index",exports.factory=r;
},{}],146:[function(require,module,exports) {
"use strict";function r(r,n,t,e){var s=r.SparseMatrix,a=e("sparse",{"":function(){return new s([])},string:function(r){return new s([],r)},"Array | Matrix":function(r){return new s(r)},"Array | Matrix, string":function(r,n){return new s(r,n)}});return a.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},a}exports.name="sparse",exports.factory=r;
},{}],104:[function(require,module,exports) {
module.exports=[require("./Matrix"),require("./DenseMatrix"),require("./SparseMatrix"),require("./Spa"),require("./FibonacciHeap"),require("./ImmutableDenseMatrix"),require("./MatrixIndex"),require("./Range"),require("./function/index"),require("./function/matrix"),require("./function/sparse")];
},{"./Matrix":139,"./DenseMatrix":138,"./SparseMatrix":140,"./Spa":145,"./FibonacciHeap":141,"./ImmutableDenseMatrix":142,"./MatrixIndex":143,"./Range":144,"./function/index":148,"./function/matrix":147,"./function/sparse":146}],94:[function(require,module,exports) {
"use strict";var r=require("./../utils/collection/deepMap");function t(t,n,e,u){var i=u("number",{"":function(){return 0},number:function(r){return r},string:function(r){var t=Number(r);if(isNaN(t))throw new SyntaxError('String "'+r+'" is no valid number');return t},BigNumber:function(r){return r.toNumber()},Fraction:function(r){return r.valueOf()},Unit:function(r){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(r,t){return r.toNumber(t)},"Array | Matrix":function(t){return r(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}exports.name="number",exports.factory=t;
},{"./../utils/collection/deepMap":132}],157:[function(require,module,exports) {
"use strict";function t(t,e,r,n){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return o.prototype.type="ResultSet",o.prototype.isResultSet=!0,o.prototype.valueOf=function(){return this.entries},o.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},o.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},o.fromJSON=function(t){return new o(t.entries)},o}exports.name="ResultSet",exports.path="type",exports.factory=t;
},{}],107:[function(require,module,exports) {
module.exports=[require("./ResultSet")];
},{"./ResultSet":157}],95:[function(require,module,exports) {
"use strict";var r=require("./../utils/collection/deepMap"),t=require("../utils/number");function n(n,e,u,i){var o=i("string",{"":function(){return""},number:t.format,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":function(t){return r(t,o)},any:function(r){return String(r)}});return o.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},o}exports.name="string",exports.factory=n;
},{"./../utils/collection/deepMap":132,"../utils/number":134}],88:[function(require,module,exports) {
var e=require("../function").memoize;function n(e){return e[0].precision}exports.e=e(function(e){return new e(1).exp()},n),exports.phi=e(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},n),exports.pi=e(function(e){return pi=e.acos(-1)},n),exports.tau=e(function(e){return exports.pi(e).times(2)},n);
},{"../function":153}],514:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function n(n,e,t,u){var i=require("../../utils/latex"),o=u("unaryMinus",{number:function(r){return-r},Complex:function(r){return r.neg()},BigNumber:function(r){return r.neg()},Fraction:function(r){return r.neg()},Unit:function(r){var n=r.clone();return n.value=o(r.value),n},"Array | Matrix":function(n){return r(n,o,!0)}});return o.toTex={1:i.operators.unaryMinus+"\\left(${args[0]}\\right)"},o}exports.name="unaryMinus",exports.factory=n;
},{"../../utils/collection/deepMap":132,"../../utils/latex":282}],543:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function e(e,t,i,a){var n=i(require("../../../function/relational/equalScalar")),o=e.SparseMatrix;return function(e,t,i){var s=e._values,l=e._index,u=e._ptr,f=e._size,h=e._datatype,v=t._values,p=t._index,d=t._ptr,c=t._size,g=t._datatype;if(f.length!==c.length)throw new r(f.length,c.length);if(f[0]!==c[0]||f[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+c+")");var _,m=f[0],x=f[1],w=n,y=0,q=i;"string"==typeof h&&h===g&&(_=h,w=a.find(n,[_,_]),y=a.convert(0,_),q=a.find(i,[_,_]));var z,M,D,E,S=s&&v?[]:void 0,A=[],B=[],R=new o({values:S,index:A,ptr:B,size:[m,x],datatype:_}),b=S?[]:void 0,j=S?[]:void 0,k=[],C=[];for(M=0;M<x;M++){B[M]=A.length;var F=M+1;for(D=u[M],E=u[M+1];D<E;D++)z=l[D],A.push(z),k[z]=F,b&&(b[z]=s[D]);for(D=d[M],E=d[M+1];D<E;D++)k[z=p[D]]!==F&&A.push(z),C[z]=F,j&&(j[z]=v[D]);if(S)for(D=B[M];D<A.length;){var G=k[z=A[D]],H=C[z];if(G===F||H===F){var I=q(G===F?b[z]:y,H===F?j[z]:y);w(I,y)?A.splice(D,1):(S.push(I),D++)}}}return B[x]=A.length,R}}exports.name="algorithm05",exports.factory=e;
},{"../../../error/DimensionError":99,"../../../function/relational/equalScalar":479}],513:[function(require,module,exports) {
"use strict";var r=require("../../error/DimensionError");function t(t,e,a,i){var n=require("../../utils/latex"),u=a(require("../../type/matrix/function/matrix")),s=a(require("./addScalar")),o=a(require("./unaryMinus")),l=a(require("../../type/matrix/utils/algorithm01")),c=a(require("../../type/matrix/utils/algorithm03")),f=a(require("../../type/matrix/utils/algorithm05")),m=a(require("../../type/matrix/utils/algorithm10")),h=a(require("../../type/matrix/utils/algorithm13")),x=a(require("../../type/matrix/utils/algorithm14")),g=i("subtract",{"number, number":function(r,t){return r-t},"Complex, Complex":function(r,t){return r.sub(t)},"BigNumber, BigNumber":function(r,t){return r.minus(t)},"Fraction, Fraction":function(r,t){return r.sub(t)},"Unit, Unit":function(r,t){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var e=r.clone();return e.value=g(e.value,t.value),e.fixPrefix=!1,e},"Matrix, Matrix":function(t,e){var a,i=t.size(),n=e.size();if(i.length!==n.length)throw new r(i.length,n.length);switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":a=f(t,e,g);break;default:a=c(e,t,g,!0)}break;default:switch(e.storage()){case"sparse":a=l(t,e,g,!1);break;default:a=h(t,e,g)}}return a},"Array, Array":function(r,t){return g(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return g(u(r),t)},"Matrix, Array":function(r,t){return g(r,u(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=m(r,o(t),s);break;default:e=x(r,t,g)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=m(t,r,g,!0);break;default:e=x(t,r,g,!0)}return e},"Array, any":function(r,t){return x(u(r),t,g,!1).valueOf()},"any, Array":function(r,t){return x(u(t),r,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+n.operators.subtract+"${args[1]}\\right)"},g}exports.name="subtract",exports.factory=t;
},{"../../error/DimensionError":99,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"./addScalar":488,"./unaryMinus":514,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm05":543,"../../type/matrix/utils/algorithm10":559,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],546:[function(require,module,exports) {
"use strict";function n(n,r,u,e){var t=e("multiplyScalar",{"number, number":function(n,r){return n*r},"Complex, Complex":function(n,r){return n.mul(r)},"BigNumber, BigNumber":function(n,r){return n.times(r)},"Fraction, Fraction":function(n,r){return n.mul(r)},"number | Fraction | BigNumber | Complex, Unit":function(n,r){var u=r.clone();return u.value=null===u.value?u._normalize(n):t(u.value,n),u},"Unit, number | Fraction | BigNumber | Complex":function(n,r){var u=n.clone();return u.value=null===u.value?u._normalize(r):t(u.value,r),u},"Unit, Unit":function(n,r){return n.multiply(r)}});return t}exports.factory=n;
},{}],547:[function(require,module,exports) {
"use strict";function n(n,r,u,e){var i=u(require("./multiplyScalar")),t=e("divide",{"number, number":function(n,r){return n/r},"Complex, Complex":function(n,r){return n.div(r)},"BigNumber, BigNumber":function(n,r){return n.div(r)},"Fraction, Fraction":function(n,r){return n.div(r)},"Unit, number | Fraction | BigNumber":function(n,r){var u=n.clone();return u.value=t(null===u.value?u._normalize(1):u.value,r),u},"number | Fraction | BigNumber, Unit":function(n,r){var u=r.pow(-1);return u.value=i(null===u.value?u._normalize(1):u.value,n),u},"Unit, Unit":function(n,r){return n.divide(r)}});return t}exports.factory=n;
},{"./multiplyScalar":546}],196:[function(require,module,exports) {
"use strict";var r=require("../../utils/array"),e=require("../../utils/number").isInteger;function t(t,n,i,u){var a=i(require("../../type/matrix/function/matrix")),o=u("eye",{"":function(){return"Matrix"===n.matrix?a([]):[]},string:function(r){return a(r)},"number | BigNumber":function(r){return s(r,r,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, string":function(r,e){return s(r,r,e)},"number | BigNumber, number | BigNumber":function(r,e){return s(r,e,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(r,e,t){return s(r,e,t)},Array:function(r){return m(r)},"Array, string":function(r,e){return m(r,e)},Matrix:function(r){return m(r.valueOf(),r.storage())},"Matrix, string":function(r,e){return m(r.valueOf(),e)}});return o.toTex=void 0,o;function m(r,e){switch(r.length){case 0:return e?a(e):[];case 1:return s(r[0],r[0],e);case 2:return s(r[0],r[1],e);default:throw new Error("Vector containing two values expected")}}function s(n,i,u){var a=n&&!0===n.isBigNumber?t.BigNumber:i&&!0===i.isBigNumber?t.BigNumber:null;if(n&&!0===n.isBigNumber&&(n=n.toNumber()),i&&!0===i.isBigNumber&&(i=i.toNumber()),!e(n)||n<1)throw new Error("Parameters in function eye must be positive integers");if(!e(i)||i<1)throw new Error("Parameters in function eye must be positive integers");var o=a?new t.BigNumber(1):1,m=a?new a(0):0,s=[n,i];if(u)return t.Matrix.storage(u).diagonal(s,o,0,m);for(var f=r.resize([],s,m),g=n<i?n:i,c=0;c<g;c++)f[c][c]=o;return f}}exports.name="eye",exports.factory=t;
},{"../../utils/array":87,"../../utils/number":134,"../../type/matrix/function/matrix":147}],538:[function(require,module,exports) {
"use strict";function r(r,a,e,t){var n=e(require("../../../function/relational/equalScalar")),o=r.SparseMatrix;return function(r,a,e,i){var p=r._values,s=r._index,u=r._ptr,f=r._size,l=r._datatype;if(!p)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v,c=f[0],d=f[1],h=n,x=0,_=e;"string"==typeof l&&(v=l,h=t.find(n,[v,v]),x=t.convert(0,v),a=t.convert(a,v),_=t.find(e,[v,v]));for(var g=[],y=[],S=[],m=new o({values:g,index:y,ptr:S,size:[c,d],datatype:v}),w=0;w<d;w++){S[w]=y.length;for(var q=u[w],z=u[w+1],M=q;M<z;M++){var C=s[M],E=i?_(a,p[M]):_(p[M],a);h(E,x)||(y.push(C),g.push(E))}}return S[d]=y.length,m}}exports.name="algorithm11",exports.factory=r;
},{"../../../function/relational/equalScalar":479}],505:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").extend,t=require("../../utils/array");function a(a,e,n,i){var s=require("../../utils/latex"),o=n(require("../../type/matrix/function/matrix")),u=n(require("./addScalar")),l=n(require("./multiplyScalar")),f=n(require("../relational/equalScalar")),d=n(require("../../type/matrix/utils/algorithm11")),c=n(require("../../type/matrix/utils/algorithm14")),p=a.DenseMatrix,v=a.SparseMatrix,y=i("multiply",r({"Array, Array":function(r,a){h(t.size(r),t.size(a));var e=y(o(r),o(a));return e&&!0===e.isMatrix?e.valueOf():e},"Matrix, Matrix":function(r,t){var a=r.size(),e=t.size();return h(a,e),1===a.length?1===e.length?m(r,t,a[0]):_(r,t):1===e.length?w(r,t):x(r,t)},"Matrix, Array":function(r,t){return y(r,o(t))},"Array, Matrix":function(r,t){return y(o(r,t.storage()),t)},"Matrix, any":function(r,t){var a;switch(r.storage()){case"sparse":a=d(r,t,l,!1);break;case"dense":a=c(r,t,l,!1)}return a},"any, Matrix":function(r,t){var a;switch(t.storage()){case"sparse":a=d(t,r,l,!0);break;case"dense":a=c(t,r,l,!0)}return a},"Array, any":function(r,t){return c(o(r),t,l,!1).valueOf()},"any, Array":function(r,t){return c(o(t),r,l,!0).valueOf()},"any, any":l,"any, any, ...any":function(r,t,a){for(var e=y(r,t),n=0;n<a.length;n++)e=y(e,a[n]);return e}},l.signatures)),h=function(r,t){switch(r.length){case 1:switch(t.length){case 1:if(r[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(r[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+r[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(r[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+r[1]+") must match Vector length ("+t[0]+")");break;case 2:if(r[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+r[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+r.length+" dimensions)")}},m=function(r,t,a){if(0===a)throw new Error("Cannot multiply two empty vectors");var e,n=r._data,s=r._datatype,o=t._data,f=t._datatype,d=u,c=l;s&&f&&s===f&&"string"==typeof s&&(e=s,d=i.find(u,[e,e]),c=i.find(l,[e,e]));for(var p=c(n[0],o[0]),v=1;v<a;v++)p=d(p,c(n[v],o[v]));return p},_=function(r,t){switch(t.storage()){case"dense":return g(r,t)}throw new Error("Not implemented")},g=function(r,t){var a,e=r._data,n=r._size,s=r._datatype,o=t._data,f=t._size,d=t._datatype,c=n[0],v=f[1],y=u,h=l;s&&d&&s===d&&"string"==typeof s&&(a=s,y=i.find(u,[a,a]),h=i.find(l,[a,a]));for(var m=[],_=0;_<v;_++){for(var g=h(e[0],o[0][_]),w=1;w<c;w++)g=y(g,h(e[w],o[w][_]));m[_]=g}return new p({data:m,size:[v],datatype:a})},w=function(r,t){switch(r.storage()){case"dense":return z(r,t);case"sparse":return b(r,t)}},x=function(r,t){switch(r.storage()){case"dense":switch(t.storage()){case"dense":return M(r,t);case"sparse":return E(r,t)}break;case"sparse":switch(t.storage()){case"dense":return q(r,t);case"sparse":return k(r,t)}}},z=function(r,t){var a,e=r._data,n=r._size,s=r._datatype,o=t._data,f=t._datatype,d=n[0],c=n[1],v=u,y=l;s&&f&&s===f&&"string"==typeof s&&(a=s,v=i.find(u,[a,a]),y=i.find(l,[a,a]));for(var h=[],m=0;m<d;m++){for(var _=e[m],g=y(_[0],o[0]),w=1;w<c;w++)g=v(g,y(_[w],o[w]));h[m]=g}return new p({data:h,size:[d],datatype:a})},M=function(r,t){var a,e=r._data,n=r._size,s=r._datatype,o=t._data,f=t._size,d=t._datatype,c=n[0],v=n[1],y=f[1],h=u,m=l;s&&d&&s===d&&"string"==typeof s&&(a=s,h=i.find(u,[a,a]),m=i.find(l,[a,a]));for(var _=[],g=0;g<c;g++){var w=e[g];_[g]=[];for(var x=0;x<y;x++){for(var z=m(w[0],o[0][x]),M=1;M<v;M++)z=h(z,m(w[M],o[M][x]));_[g][x]=z}}return new p({data:_,size:[c,y],datatype:a})},E=function(r,t){var a=r._data,e=r._size,n=r._datatype,s=t._values,o=t._index,d=t._ptr,c=t._size,p=t._datatype;if(!s)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var y,h=e[0],m=c[1],_=u,g=l,w=f,x=0;n&&p&&n===p&&"string"==typeof n&&(y=n,_=i.find(u,[y,y]),g=i.find(l,[y,y]),w=i.find(f,[y,y]),x=i.convert(0,y));for(var z=[],M=[],E=[],b=new v({values:z,index:M,ptr:E,size:[h,m],datatype:y}),q=0;q<m;q++){E[q]=M.length;var k=d[q],A=d[q+1];if(A>k)for(var D=0,C=0;C<h;C++){for(var R,S=C+1,B=k;B<A;B++){var O=o[B];D!==S?(R=g(a[C][O],s[B]),D=S):R=_(R,g(a[C][O],s[B]))}D!==S||w(R,x)||(M.push(C),z.push(R))}}return E[m]=M.length,b},b=function(r,t){var a=r._values,e=r._index,n=r._ptr,s=r._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var o,d=t._data,c=t._datatype,p=r._size[0],y=t._size[0],h=[],m=[],_=[],g=u,w=l,x=f,z=0;s&&c&&s===c&&"string"==typeof s&&(o=s,g=i.find(u,[o,o]),w=i.find(l,[o,o]),x=i.find(f,[o,o]),z=i.convert(0,o));var M=[],E=[];_[0]=0;for(var b=0;b<y;b++){var q=d[b];if(!x(q,z))for(var k=n[b],A=n[b+1],D=k;D<A;D++){var C=e[D];E[C]?M[C]=g(M[C],w(q,a[D])):(E[C]=!0,m.push(C),M[C]=w(q,a[D]))}}for(var R=m.length,S=0;S<R;S++){var B=m[S];h[S]=M[B]}return _[1]=m.length,new v({values:h,index:m,ptr:_,size:[p,1],datatype:o})},q=function(r,t){var a=r._values,e=r._index,n=r._ptr,s=r._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var o,d=t._data,c=t._datatype,p=r._size[0],y=t._size[0],h=t._size[1],m=u,_=l,g=f,w=0;s&&c&&s===c&&"string"==typeof s&&(o=s,m=i.find(u,[o,o]),_=i.find(l,[o,o]),g=i.find(f,[o,o]),w=i.convert(0,o));for(var x=[],z=[],M=[],E=new v({values:x,index:z,ptr:M,size:[p,h],datatype:o}),b=[],q=[],k=0;k<h;k++){M[k]=z.length;for(var A=k+1,D=0;D<y;D++){var C=d[D][k];if(!g(C,w))for(var R=n[D],S=n[D+1],B=R;B<S;B++){var O=e[B];q[O]!==A?(q[O]=A,z.push(O),b[O]=_(C,a[B])):b[O]=m(b[O],_(C,a[B]))}}for(var P=M[k],V=z.length,$=P;$<V;$++){var j=z[$];x[$]=b[j]}}return M[h]=z.length,E},k=function(r,t){var a,e=r._values,n=r._index,s=r._ptr,o=r._datatype,f=t._values,d=t._index,c=t._ptr,p=t._datatype,y=r._size[0],h=t._size[1],m=e&&f,_=u,g=l;o&&p&&o===p&&"string"==typeof o&&(a=o,_=i.find(u,[a,a]),g=i.find(l,[a,a]));for(var w,x,z,M,E,b,q,k,A=m?[]:void 0,D=[],C=[],R=new v({values:A,index:D,ptr:C,size:[y,h],datatype:a}),S=m?[]:void 0,B=[],O=0;O<h;O++){C[O]=D.length;var P=O+1;for(E=c[O],b=c[O+1],M=E;M<b;M++)if(k=d[M],m)for(x=s[k],z=s[k+1],w=x;w<z;w++)B[q=n[w]]!==P?(B[q]=P,D.push(q),S[q]=g(f[M],e[w])):S[q]=_(S[q],g(f[M],e[w]));else for(x=s[k],z=s[k+1],w=x;w<z;w++)B[q=n[w]]!==P&&(B[q]=P,D.push(q));if(m)for(var V=C[O],$=D.length,j=V;j<$;j++){var N=D[j];A[j]=S[N]}}return C[h]=D.length,R};return y.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},y}exports.name="multiply",exports.factory=a;
},{"../../utils/object":86,"../../utils/array":87,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"./addScalar":488,"./multiplyScalar":546,"../relational/equalScalar":479,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm14":541}],509:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,e=require("../../utils/array").size;function t(t,n,i,o){var u=require("../../utils/latex"),a=i(require("../matrix/eye")),p=i(require("./multiply")),f=i(require("../../type/matrix/function/matrix")),s=i(require("../../type/fraction/function/fraction")),m=i(require("../../type/number")),b=o("pow",{"number, number":c,"Complex, Complex":function(r,e){return r.pow(e)},"BigNumber, BigNumber":function(r,e){return e.isInteger()||r>=0||n.predictable?r.pow(e):new t.Complex(r.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(r,e){if(1!==e.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(r.valueOf(),e.valueOf())}return r.pow(e)},"Array, number":l,"Array, BigNumber":function(r,e){return l(r,e.toNumber())},"Matrix, number":w,"Matrix, BigNumber":function(r,e){return w(r,e.toNumber())},"Unit, number":function(r,e){return r.pow(e)}});function c(e,i){if(n.predictable&&!r(i)&&e<0)try{var o=s(i),u=m(o);if((i===u||Math.abs((i-u)/i)<1e-14)&&o.d%2==1)return(o.n%2==0?1:-1)*Math.pow(-e,i)}catch(r){}return r(i)||e>=0||n.predictable?Math.pow(e,i):new t.Complex(e,0).pow(i,0)}function l(t,n){if(!r(n)||n<0)throw new TypeError("For A^b, b must be a positive integer (value is "+n+")");var i=e(t);if(2!=i.length)throw new Error("For A^b, A must be 2 dimensional (A has "+i.length+" dimensions)");if(i[0]!=i[1])throw new Error("For A^b, A must be square (size is "+i[0]+"x"+i[1]+")");for(var o=a(i[0]).valueOf(),u=t;n>=1;)1==(1&n)&&(o=p(u,o)),n>>=1,u=p(u,u);return o}function w(r,e){return f(l(r.valueOf(),e))}return b.toTex={2:"\\left(${args[0]}\\right)"+u.operators.pow+"{${args[1]}}"},b}exports.name="pow",exports.factory=t;
},{"../../utils/number":134,"../../utils/array":87,"../../utils/latex":282,"../matrix/eye":196,"./multiply":505,"../../type/matrix/function/matrix":147,"../../type/fraction/function/fraction":149,"../../type/number":94}],487:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,n,e,a){var u=a("abs",{number:Math.abs,Complex:function(r){return r.abs()},BigNumber:function(r){return r.abs()},Fraction:function(r){return r.abs()},"Array | Matrix":function(t){return r(t,u,!0)},Unit:function(r){return r.abs()}});return u.toTex={1:"\\left|${args[0]}\\right|"},u}exports.name="abs",exports.factory=t;
},{"../../utils/collection/deepMap":132}],497:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,i,o){var n=o("fix",{number:function(r){return r>0?Math.floor(r):Math.ceil(r)},Complex:function(r){return new e.Complex(r.re>0?Math.floor(r.re):Math.ceil(r.re),r.im>0?Math.floor(r.im):Math.ceil(r.im))},BigNumber:function(r){return r.isNegative()?r.ceil():r.floor()},Fraction:function(r){return r.s<0?r.ceil():r.floor()},"Array | Matrix":function(e){return r(e,n,!0)}});return n.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},n}exports.name="fix",exports.factory=e;
},{"../../utils/collection/deepMap":132}],217:[function(require,module,exports) {
"use strict";function r(r,t,a,e){var i=a(require("../../type/matrix/function/matrix")),u=a(require("./equalScalar")),n=a(require("../../type/matrix/utils/algorithm03")),s=a(require("../../type/matrix/utils/algorithm07")),l=a(require("../../type/matrix/utils/algorithm12")),o=a(require("../../type/matrix/utils/algorithm13")),c=a(require("../../type/matrix/utils/algorithm14")),f=require("../../utils/latex"),y=e("equal",{"any, any":function(r,t){return null===r?null===t:null===t?null===r:void 0===r?void 0===t:void 0===t?void 0===r:u(r,t)},"Matrix, Matrix":function(r,t){var a;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":a=s(r,t,u);break;default:a=n(t,r,u,!0)}break;default:switch(t.storage()){case"sparse":a=n(r,t,u,!1);break;default:a=o(r,t,u)}}return a},"Array, Array":function(r,t){return y(i(r),i(t)).valueOf()},"Array, Matrix":function(r,t){return y(i(r),t)},"Matrix, Array":function(r,t){return y(r,i(t))},"Matrix, any":function(r,t){var a;switch(r.storage()){case"sparse":a=l(r,t,u,!1);break;default:a=c(r,t,u,!1)}return a},"any, Matrix":function(r,t){var a;switch(t.storage()){case"sparse":a=l(t,r,u,!0);break;default:a=c(t,r,u,!0)}return a},"Array, any":function(r,t){return c(i(r),t,u,!1).valueOf()},"any, Array":function(r,t){return c(i(t),r,u,!0).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+f.operators.equal+"${args[1]}\\right)"},y}exports.name="equal",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"./equalScalar":479,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541,"../../utils/latex":282}],275:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),e=require("../../utils/number");function n(e,n,t,i){var u=i("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(e){return r(e,u)}});return u}exports.name="isNumeric",exports.factory=n;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],235:[function(require,module,exports) {
"use strict";var r=require("../../utils/string");function t(t,o,a,e){var n=e("format",{any:r.format,"any, Object | function | number":r.format});return n.toTex=void 0,n}exports.name="format",exports.factory=t;
},{"../../utils/string":151}],280:[function(require,module,exports) {
"use strict";var r=require("../../utils/types");function i(i,e,t,n){var u=n("_typeof",{any:function(i){var e=r.type(i);if("Object"===e){if(!0===i.isBigNumber)return"BigNumber";if(!0===i.isComplex)return"Complex";if(!0===i.isFraction)return"Fraction";if(!0===i.isMatrix)return"Matrix";if(!0===i.isUnit)return"Unit";if(!0===i.isIndex)return"Index";if(!0===i.isRange)return"Range";if(!0===i.isChain)return"Chain";if(!0===i.isHelp)return"Help"}return e}});return u.toTex=void 0,u}exports.name="typeof",exports.factory=i;
},{"../../utils/types":152}],176:[function(require,module,exports) {
"use strict";var e=require("../../utils/string").endsWith,i=require("../../utils/object").clone,n=require("../../utils/bignumber/constants");function t(t,a,s,r,f){var u,o,l,m=s(require("../../function/arithmetic/addScalar")),c=s(require("../../function/arithmetic/subtract")),p=s(require("../../function/arithmetic/multiplyScalar")),v=s(require("../../function/arithmetic/divideScalar")),E=s(require("../../function/arithmetic/pow")),N=s(require("../../function/arithmetic/abs")),h=s(require("../../function/arithmetic/fix")),O=s(require("../../function/relational/equal")),b=s(require("../../function/utils/isNumeric")),x=s(require("../../function/string/format")),d=s(require("../../function/utils/typeof")),T=s(require("../../type/number")),S=s(require("../../type/complex/Complex"));function R(e,i){if(!(this instanceof R))throw new Error("Constructor must be called with the new operator");if(void 0!==e&&!b(e)&&!e.isComplex)throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!=i&&("string"!=typeof i||""==i))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=i){var n=R.parse(i);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:F,prefix:H.NONE,power:0}],this.dimensions=[];for(var t=0;t<P.length;t++)this.dimensions[t]=0}this.value=void 0!=e?this._normalize(e):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function g(){for(;" "==l||"\t"==l;)C()}function U(e){return e>="0"&&e<="9"}function C(){o++,l=u.charAt(o)}function w(e){o=e,l=u.charAt(o)}function y(){var e,i,n="";if(e=o,"+"==l?C():"-"==l&&(n+=l,C()),!((i=l)>="0"&&i<="9"||"."==i))return w(e),null;if("."==l){if(n+=l,C(),!U(l))return w(e),null}else{for(;U(l);)n+=l,C();"."==l&&(n+=l,C())}for(;U(l);)n+=l,C();if("E"==l||"e"==l){var t="",a=o;if(t+=l,C(),"+"!=l&&"-"!=l||(t+=l,C()),!U(l))return w(a),n;for(n+=t;U(l);)n+=l,C()}return n}function L(){for(var e="",i=u.charCodeAt(o);i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122;)e+=l,C(),i=u.charCodeAt(o);return((i=e.charCodeAt(0))>=65&&i<=90||i>=97&&i<=122)&&e||null}function M(e){return l===e?(C(),e):null}function A(i){if(q.hasOwnProperty(i))return{unit:a=q[i],prefix:t=a.prefixes[""]};for(var n in q)if(q.hasOwnProperty(n)&&e(i,n)){var t,a=q[n],s=i.length-n.length,r=i.substring(0,s);if(void 0!==(t=a.prefixes[r]))return{unit:a,prefix:t}}return null}R.prototype.type="Unit",R.prototype.isUnit=!0,R.parse=function(e,i){if(i=i||{},o=-1,l="","string"!=typeof(u=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var n=new R;n.units=[],C(),g();var s=y(),r=null;s&&(r="BigNumber"===a.number?new t.BigNumber(s):"Fraction"===a.number?new t.Fraction(s):parseFloat(s)),g();for(var f=1,m=!1,c=[],p=1;;){for(g();"("===l;)c.push(f),p*=f,f=1,C(),g();if(!l)break;var v=l,E=L();if(null==E)throw new SyntaxError('Unexpected "'+v+'" in "'+u+'" at index '+o.toString());var N=A(E);if(null==N)throw new SyntaxError('Unit "'+E+'" not found.');var h=f*p;if(g(),M("^")){g();var O=y();if(null==O)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');h*=O}n.units.push({unit:N.unit,prefix:N.prefix,power:h});for(var b=0;b<P.length;b++)n.dimensions[b]+=(N.unit.dimensions[b]||0)*h;for(g();")"===l;){if(0===c.length)throw new SyntaxError('Unmatched ")" in "'+u+'" at index '+o.toString());p/=c.pop(),C(),g()}if(m=!1,M("*")?(f=1,m=!0):M("/")?(f=-1,m=!0):f=1,N.unit.base){var x=N.unit.base.key;B.auto[x]={unit:N.unit,prefix:N.prefix}}}if(g(),l)throw new SyntaxError('Could not parse: "'+e+'"');if(m)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==c.length)throw new SyntaxError('Unmatched "(" in "'+u+'"');if(0==n.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return n.value=void 0!=r?n._normalize(r):null,n},R.prototype.clone=function(){var e=new R;e.fixPrefix=this.fixPrefix,e.isUnitListSimplified=this.isUnitListSimplified,e.value=i(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var n=0;n<this.units.length;n++){e.units[n]={};for(var t in this.units[n])this.units[n].hasOwnProperty(t)&&(e.units[n][t]=this.units[n][t])}return e},R.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},R.prototype._normalize=function(e){var i,n,t,a,s;if(null==e||0===this.units.length)return e;if(this._isDerived()){var r=e;s=R._getNumberConverter(d(e));for(var f=0;f<this.units.length;f++)i=s(this.units[f].unit.value),a=s(this.units[f].prefix.value),t=s(this.units[f].power),r=p(r,E(p(i,a),t));return r}return i=(s=R._getNumberConverter(d(e)))(this.units[0].unit.value),n=s(this.units[0].unit.offset),a=s(this.units[0].prefix.value),p(m(e,n),p(i,a))},R.prototype._denormalize=function(e,i){var n,t,a,s,r;if(null==e||0===this.units.length)return e;if(this._isDerived()){var f=e;r=R._getNumberConverter(d(e));for(var u=0;u<this.units.length;u++)n=r(this.units[u].unit.value),s=r(this.units[u].prefix.value),a=r(this.units[u].power),f=v(f,E(p(n,s),a));return f}return n=(r=R._getNumberConverter(d(e)))(this.units[0].unit.value),s=r(this.units[0].prefix.value),t=r(this.units[0].unit.offset),c(v(v(e,n),void 0==i?s:i),t)},R.isValuelessUnit=function(e){return null!=A(e)},R.prototype.hasBase=function(e){if("string"==typeof e&&(e=_[e]),!e)return!1;for(var i=0;i<P.length;i++)if(Math.abs((this.dimensions[i]||0)-(e.dimensions[i]||0))>1e-12)return!1;return!0},R.prototype.equalBase=function(e){for(var i=0;i<P.length;i++)if(Math.abs((this.dimensions[i]||0)-(e.dimensions[i]||0))>1e-12)return!1;return!0},R.prototype.equals=function(e){return this.equalBase(e)&&O(this.value,e.value)},R.prototype.multiply=function(e){for(var i=this.clone(),n=0;n<P.length;n++)i.dimensions[n]=(this.dimensions[n]||0)+(e.dimensions[n]||0);for(n=0;n<e.units.length;n++){var t={};for(var a in e.units[n])t[a]=e.units[n][a];i.units.push(t)}if(null!=this.value||null!=e.value){var s=null==this.value?this._normalize(1):this.value,r=null==e.value?e._normalize(1):e.value;i.value=p(s,r)}else i.value=null;return i.isUnitListSimplified=!1,I(i)},R.prototype.divide=function(e){for(var i=this.clone(),n=0;n<P.length;n++)i.dimensions[n]=(this.dimensions[n]||0)-(e.dimensions[n]||0);for(n=0;n<e.units.length;n++){var t={};for(var a in e.units[n])t[a]=e.units[n][a];t.power=-t.power,i.units.push(t)}if(null!=this.value||null!=e.value){var s=null==this.value?this._normalize(1):this.value,r=null==e.value?e._normalize(1):e.value;i.value=v(s,r)}else i.value=null;return i.isUnitListSimplified=!1,I(i)},R.prototype.pow=function(e){for(var i=this.clone(),n=0;n<P.length;n++)i.dimensions[n]=(this.dimensions[n]||0)*e;for(n=0;n<i.units.length;n++)i.units[n].power*=e;return null!=i.value?i.value=E(i.value,e):i.value=null,i.isUnitListSimplified=!1,I(i)};var I=function(e){return e.equalBase(_.NONE)&&null!==e.value&&!a.predictable?e.value:e};R.prototype.abs=function(){var e=this.clone();e.value=N(e.value);for(var i in e.units)"VA"!==e.units[i].unit.name&&"VAR"!==e.units[i].unit.name||(e.units[i].unit=q.W);return e},R.prototype.to=function(e){var n,t=null==this.value?this._normalize(1):this.value;if("string"==typeof e){if(n=R.parse(e),!this.equalBase(n))throw new Error("Units do not match");if(null!==n.value)throw new Error("Cannot convert to a unit with a value");return n.value=i(t),n.fixPrefix=!0,n.isUnitListSimplified=!0,n}if(e&&e.isUnit){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(n=e.clone()).value=i(t),n.fixPrefix=!0,n.isUnitListSimplified=!0,n}throw new Error("String or Unit expected as parameter")},R.prototype.toNumber=function(e){return T(this.toNumeric(e))},R.prototype.toNumeric=function(e){var i=this;return e&&(i=this.to(e)),i._isDerived()?i._denormalize(i.value):i._denormalize(i.value,i.units[0].prefix.value)},R.prototype.toString=function(){return this.format()},R.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},R.fromJSON=function(e){var i=new R(e.value,e.unit);return i.fixPrefix=e.fixPrefix||!1,i},R.prototype.valueOf=R.prototype.toString,R.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var e,i,n=[];for(var t in z)if(this.hasBase(_[t])){e=t;break}if("NONE"===e)this.units=[];else if(e&&z.hasOwnProperty(e)&&(i=z[e]),i)this.units=[{unit:i.unit,prefix:i.prefix,power:1}];else{for(var a=!1,s=0;s<P.length;s++){var r=P[s];Math.abs(this.dimensions[s]||0)>1e-12&&(z.hasOwnProperty(r)?n.push({unit:z[r].unit,prefix:z[r].prefix,power:this.dimensions[s]||0}):a=!0)}n.length<this.units.length&&!a&&(this.units=n)}this.isUnitListSimplified=!0}},R.prototype.toSI=function(){for(var e=this.clone(),i=[],n=0;n<P.length;n++){var t=P[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!B.si.hasOwnProperty(t))throw new Error("Cannot express custom unit "+t+" in SI units");i.push({unit:B.si[t].unit,prefix:B.si[t].prefix,power:e.dimensions[n]||0})}}return e.units=i,e.isUnitListSimplified=!0,e},R.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var e="",i="",n=0,t=0,a=0;a<this.units.length;a++)this.units[a].power>0?(n++,e+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power-1)>1e-15&&(e+="^"+this.units[a].power)):this.units[a].power<0&&t++;if(t>0)for(a=0;a<this.units.length;a++)this.units[a].power<0&&(n>0?(i+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(i+="^"+-this.units[a].power)):(i+=" "+this.units[a].prefix.name+this.units[a].unit.name,i+="^"+this.units[a].power));e=e.substr(1),i=i.substr(1),n>1&&t>0&&(e="("+e+")"),t>1&&n>0&&(i="("+i+")");var s=e;return n>0&&t>0&&(s+=" / "),s+=i},R.prototype.format=function(e){this.simplifyUnitListLazy();var i=!1;void 0!==this.value&&null!==this.value&&this.value.isComplex&&(i=Math.abs(this.value.re)<1e-14,Math.abs(this.value.im));for(var n in this.units)this.units[n].unit&&("VA"===this.units[n].unit.name&&i?this.units[n].unit=q.VAR:"VAR"!==this.units[n].unit.name||i||(this.units[n].unit=q.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var t=this._denormalize(this.value),a=null!==this.value?x(t,e||{}):"",s=this.formatUnits();return this.value&&this.value.isComplex&&(a="("+a+")"),s.length>0&&a.length>0&&(a+=" "),a+=s},R.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=N(this.value),i=N(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var t=this.units[0].power,a=Math.log(e/Math.pow(n.value*i,t))/Math.LN10-1.2;if(a>-2.200001&&a<1.800001)return n;a=Math.abs(a);var s=this.units[0].unit.prefixes;for(var r in s)if(s.hasOwnProperty(r)){var f=s[r];if(f.scientific){var u=Math.abs(Math.log(e/Math.pow(f.value*i,t))/Math.LN10-1.2);(u<a||u===a&&f.name.length<n.name.length)&&(n=f,a=u)}}return n},R.prototype.splitUnit=function(e){for(var i=this.clone(),n=[],t=0;t<e.length&&(i=i.to(e[t]),t!=e.length-1);t++){var a=new R(h(i.toNumeric()),e[t].toString());n.push(a),i=c(i,a)}return n.push(i),n};var H={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}},SHORTLONG:{}};for(var G in H.SHORT)H.SHORT.hasOwnProperty(G)&&(H.SHORTLONG[G]=H.SHORT[G]);for(var G in H.LONG)H.LONG.hasOwnProperty(G)&&(H.SHORTLONG[G]=H.LONG[G]);var P=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],_={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var G in _)_[G].key=G;var F={name:"",base:{},value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},q={meter:{name:"meter",base:_.LENGTH,prefixes:H.LONG,value:1,offset:0},inch:{name:"inch",base:_.LENGTH,prefixes:H.NONE,value:.0254,offset:0},foot:{name:"foot",base:_.LENGTH,prefixes:H.NONE,value:.3048,offset:0},yard:{name:"yard",base:_.LENGTH,prefixes:H.NONE,value:.9144,offset:0},mile:{name:"mile",base:_.LENGTH,prefixes:H.NONE,value:1609.344,offset:0},link:{name:"link",base:_.LENGTH,prefixes:H.NONE,value:.201168,offset:0},rod:{name:"rod",base:_.LENGTH,prefixes:H.NONE,value:5.02921,offset:0},chain:{name:"chain",base:_.LENGTH,prefixes:H.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:_.LENGTH,prefixes:H.NONE,value:1e-10,offset:0},m:{name:"m",base:_.LENGTH,prefixes:H.SHORT,value:1,offset:0},in:{name:"in",base:_.LENGTH,prefixes:H.NONE,value:.0254,offset:0},ft:{name:"ft",base:_.LENGTH,prefixes:H.NONE,value:.3048,offset:0},yd:{name:"yd",base:_.LENGTH,prefixes:H.NONE,value:.9144,offset:0},mi:{name:"mi",base:_.LENGTH,prefixes:H.NONE,value:1609.344,offset:0},li:{name:"li",base:_.LENGTH,prefixes:H.NONE,value:.201168,offset:0},rd:{name:"rd",base:_.LENGTH,prefixes:H.NONE,value:5.02921,offset:0},ch:{name:"ch",base:_.LENGTH,prefixes:H.NONE,value:20.1168,offset:0},mil:{name:"mil",base:_.LENGTH,prefixes:H.NONE,value:254e-7,offset:0},m2:{name:"m2",base:_.SURFACE,prefixes:H.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:_.SURFACE,prefixes:H.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:_.SURFACE,prefixes:H.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:_.SURFACE,prefixes:H.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:_.SURFACE,prefixes:H.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:_.SURFACE,prefixes:H.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:_.SURFACE,prefixes:H.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:_.SURFACE,prefixes:H.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:_.SURFACE,prefixes:H.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:_.SURFACE,prefixes:H.NONE,value:1e4,offset:0},m3:{name:"m3",base:_.VOLUME,prefixes:H.CUBIC,value:1,offset:0},L:{name:"L",base:_.VOLUME,prefixes:H.SHORT,value:.001,offset:0},l:{name:"l",base:_.VOLUME,prefixes:H.SHORT,value:.001,offset:0},litre:{name:"litre",base:_.VOLUME,prefixes:H.LONG,value:.001,offset:0},cuin:{name:"cuin",base:_.VOLUME,prefixes:H.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:_.VOLUME,prefixes:H.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:_.VOLUME,prefixes:H.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:_.VOLUME,prefixes:H.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:_.VOLUME,prefixes:H.NONE,value:15e-6,offset:0},drop:{name:"drop",base:_.VOLUME,prefixes:H.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:_.VOLUME,prefixes:H.NONE,value:5e-8,offset:0},minim:{name:"minim",base:_.VOLUME,prefixes:H.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:_.VOLUME,prefixes:H.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:_.VOLUME,prefixes:H.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:_.VOLUME,prefixes:H.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:_.VOLUME,prefixes:H.NONE,value:1e-6,offset:0},cup:{name:"cup",base:_.VOLUME,prefixes:H.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:_.VOLUME,prefixes:H.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:_.VOLUME,prefixes:H.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:_.VOLUME,prefixes:H.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:_.VOLUME,prefixes:H.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:_.VOLUME,prefixes:H.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:_.VOLUME,prefixes:H.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:_.VOLUME,prefixes:H.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:_.VOLUME,prefixes:H.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:_.VOLUME,prefixes:H.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:_.VOLUME,prefixes:H.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:_.VOLUME,prefixes:H.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:_.VOLUME,prefixes:H.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:_.VOLUME,prefixes:H.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:_.VOLUME,prefixes:H.NONE,value:.1173478,offset:0},obl:{name:"obl",base:_.VOLUME,prefixes:H.NONE,value:.1589873,offset:0},g:{name:"g",base:_.MASS,prefixes:H.SHORT,value:.001,offset:0},gram:{name:"gram",base:_.MASS,prefixes:H.LONG,value:.001,offset:0},ton:{name:"ton",base:_.MASS,prefixes:H.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:_.MASS,prefixes:H.SHORT,value:1e3,offset:0},grain:{name:"grain",base:_.MASS,prefixes:H.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:_.MASS,prefixes:H.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:_.MASS,prefixes:H.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:_.MASS,prefixes:H.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:_.MASS,prefixes:H.NONE,value:45.359237,offset:0},stick:{name:"stick",base:_.MASS,prefixes:H.NONE,value:.115,offset:0},stone:{name:"stone",base:_.MASS,prefixes:H.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:_.MASS,prefixes:H.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:_.MASS,prefixes:H.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:_.MASS,prefixes:H.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:_.MASS,prefixes:H.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:_.MASS,prefixes:H.NONE,value:45.359237,offset:0},s:{name:"s",base:_.TIME,prefixes:H.SHORT,value:1,offset:0},min:{name:"min",base:_.TIME,prefixes:H.NONE,value:60,offset:0},h:{name:"h",base:_.TIME,prefixes:H.NONE,value:3600,offset:0},second:{name:"second",base:_.TIME,prefixes:H.LONG,value:1,offset:0},sec:{name:"sec",base:_.TIME,prefixes:H.LONG,value:1,offset:0},minute:{name:"minute",base:_.TIME,prefixes:H.NONE,value:60,offset:0},hour:{name:"hour",base:_.TIME,prefixes:H.NONE,value:3600,offset:0},day:{name:"day",base:_.TIME,prefixes:H.NONE,value:86400,offset:0},week:{name:"week",base:_.TIME,prefixes:H.NONE,value:604800,offset:0},month:{name:"month",base:_.TIME,prefixes:H.NONE,value:2629800,offset:0},year:{name:"year",base:_.TIME,prefixes:H.NONE,value:31557600,offset:0},decade:{name:"year",base:_.TIME,prefixes:H.NONE,value:315576e3,offset:0},century:{name:"century",base:_.TIME,prefixes:H.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:_.TIME,prefixes:H.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:_.FREQUENCY,prefixes:H.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:_.FREQUENCY,prefixes:H.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:_.ANGLE,prefixes:H.LONG,value:1,offset:0},deg:{name:"deg",base:_.ANGLE,prefixes:H.LONG,value:null,offset:0},grad:{name:"grad",base:_.ANGLE,prefixes:H.LONG,value:null,offset:0},cycle:{name:"cycle",base:_.ANGLE,prefixes:H.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:_.ANGLE,prefixes:H.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:_.ANGLE,prefixes:H.NONE,value:null,offset:0},A:{name:"A",base:_.CURRENT,prefixes:H.SHORT,value:1,offset:0},ampere:{name:"ampere",base:_.CURRENT,prefixes:H.LONG,value:1,offset:0},K:{name:"K",base:_.TEMPERATURE,prefixes:H.NONE,value:1,offset:0},degC:{name:"degC",base:_.TEMPERATURE,prefixes:H.NONE,value:1,offset:273.15},degF:{name:"degF",base:_.TEMPERATURE,prefixes:H.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:_.TEMPERATURE,prefixes:H.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:_.TEMPERATURE,prefixes:H.NONE,value:1,offset:0},celsius:{name:"celsius",base:_.TEMPERATURE,prefixes:H.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:_.TEMPERATURE,prefixes:H.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:_.TEMPERATURE,prefixes:H.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:_.AMOUNT_OF_SUBSTANCE,prefixes:H.SHORT,value:1,offset:0},mole:{name:"mole",base:_.AMOUNT_OF_SUBSTANCE,prefixes:H.LONG,value:1,offset:0},cd:{name:"cd",base:_.LUMINOUS_INTENSITY,prefixes:H.NONE,value:1,offset:0},candela:{name:"candela",base:_.LUMINOUS_INTENSITY,prefixes:H.NONE,value:1,offset:0},N:{name:"N",base:_.FORCE,prefixes:H.SHORT,value:1,offset:0},newton:{name:"newton",base:_.FORCE,prefixes:H.LONG,value:1,offset:0},dyn:{name:"dyn",base:_.FORCE,prefixes:H.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:_.FORCE,prefixes:H.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:_.FORCE,prefixes:H.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:_.FORCE,prefixes:H.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:_.FORCE,prefixes:H.LONG,value:4448.2216,offset:0},J:{name:"J",base:_.ENERGY,prefixes:H.SHORT,value:1,offset:0},joule:{name:"joule",base:_.ENERGY,prefixes:H.SHORT,value:1,offset:0},erg:{name:"erg",base:_.ENERGY,prefixes:H.NONE,value:1e-5,offset:0},Wh:{name:"Wh",base:_.ENERGY,prefixes:H.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:_.ENERGY,prefixes:H.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:_.ENERGY,prefixes:H.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:_.ENERGY,prefixes:H.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:_.POWER,prefixes:H.SHORT,value:1,offset:0},watt:{name:"W",base:_.POWER,prefixes:H.LONG,value:1,offset:0},hp:{name:"hp",base:_.POWER,prefixes:H.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:_.POWER,prefixes:H.SHORT,value:S.I,offset:0},VA:{name:"VA",base:_.POWER,prefixes:H.SHORT,value:1,offset:0},Pa:{name:"Pa",base:_.PRESSURE,prefixes:H.SHORT,value:1,offset:0},psi:{name:"psi",base:_.PRESSURE,prefixes:H.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:_.PRESSURE,prefixes:H.NONE,value:101325,offset:0},bar:{name:"bar",base:_.PRESSURE,prefixes:H.NONE,value:1e5,offset:0},torr:{name:"torr",base:_.PRESSURE,prefixes:H.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:_.PRESSURE,prefixes:H.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:_.PRESSURE,prefixes:H.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:_.PRESSURE,prefixes:H.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:_.ELECTRIC_CHARGE,prefixes:H.LONG,value:1,offset:0},C:{name:"C",base:_.ELECTRIC_CHARGE,prefixes:H.SHORT,value:1,offset:0},farad:{name:"farad",base:_.ELECTRIC_CAPACITANCE,prefixes:H.LONG,value:1,offset:0},F:{name:"F",base:_.ELECTRIC_CAPACITANCE,prefixes:H.SHORT,value:1,offset:0},volt:{name:"volt",base:_.ELECTRIC_POTENTIAL,prefixes:H.LONG,value:1,offset:0},V:{name:"V",base:_.ELECTRIC_POTENTIAL,prefixes:H.SHORT,value:1,offset:0},ohm:{name:"ohm",base:_.ELECTRIC_RESISTANCE,prefixes:H.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:_.ELECTRIC_INDUCTANCE,prefixes:H.LONG,value:1,offset:0},H:{name:"H",base:_.ELECTRIC_INDUCTANCE,prefixes:H.SHORT,value:1,offset:0},siemens:{name:"siemens",base:_.ELECTRIC_CONDUCTANCE,prefixes:H.LONG,value:1,offset:0},S:{name:"S",base:_.ELECTRIC_CONDUCTANCE,prefixes:H.SHORT,value:1,offset:0},weber:{name:"weber",base:_.MAGNETIC_FLUX,prefixes:H.LONG,value:1,offset:0},Wb:{name:"Wb",base:_.MAGNETIC_FLUX,prefixes:H.SHORT,value:1,offset:0},tesla:{name:"tesla",base:_.MAGNETIC_FLUX_DENSITY,prefixes:H.LONG,value:1,offset:0},T:{name:"T",base:_.MAGNETIC_FLUX_DENSITY,prefixes:H.SHORT,value:1,offset:0},b:{name:"b",base:_.BIT,prefixes:H.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:_.BIT,prefixes:H.BINARY_LONG,value:1,offset:0},B:{name:"B",base:_.BIT,prefixes:H.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:_.BIT,prefixes:H.BINARY_LONG,value:8,offset:0}},V={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};function k(e){if("BigNumber"===e.number){var i=n.pi(t.BigNumber);q.rad.value=new t.BigNumber(1),q.deg.value=i.div(180),q.grad.value=i.div(200),q.cycle.value=i.times(2),q.arcsec.value=i.div(648e3),q.arcmin.value=i.div(10800)}else q.rad.value=1,q.deg.value=Math.PI/180,q.grad.value=Math.PI/200,q.cycle.value=2*Math.PI,q.arcsec.value=Math.PI/648e3,q.arcmin.value=Math.PI/10800}k(a),f.on("config",function(e,i){e.number!==i.number&&k(e)});var B={si:{NONE:{unit:F,prefix:H.NONE[""]},LENGTH:{unit:q.m,prefix:H.SHORT[""]},MASS:{unit:q.g,prefix:H.SHORT.k},TIME:{unit:q.s,prefix:H.SHORT[""]},CURRENT:{unit:q.A,prefix:H.SHORT[""]},TEMPERATURE:{unit:q.K,prefix:H.SHORT[""]},LUMINOUS_INTENSITY:{unit:q.cd,prefix:H.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:q.mol,prefix:H.SHORT[""]},ANGLE:{unit:q.rad,prefix:H.SHORT[""]},BIT:{unit:q.bit,prefix:H.SHORT[""]},FORCE:{unit:q.N,prefix:H.SHORT[""]},ENERGY:{unit:q.J,prefix:H.SHORT[""]},POWER:{unit:q.W,prefix:H.SHORT[""]},PRESSURE:{unit:q.Pa,prefix:H.SHORT[""]},ELECTRIC_CHARGE:{unit:q.C,prefix:H.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:q.F,prefix:H.SHORT[""]},ELECTRIC_POTENTIAL:{unit:q.V,prefix:H.SHORT[""]},ELECTRIC_RESISTANCE:{unit:q.ohm,prefix:H.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:q.H,prefix:H.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:q.S,prefix:H.SHORT[""]},MAGNETIC_FLUX:{unit:q.Wb,prefix:H.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:q.T,prefix:H.SHORT[""]},FREQUENCY:{unit:q.Hz,prefix:H.SHORT[""]}}};B.cgs=JSON.parse(JSON.stringify(B.si)),B.cgs.LENGTH={unit:q.m,prefix:H.SHORT.c},B.cgs.MASS={unit:q.g,prefix:H.SHORT[""]},B.cgs.FORCE={unit:q.dyn,prefix:H.SHORT[""]},B.cgs.ENERGY={unit:q.erg,prefix:H.NONE[""]},B.us=JSON.parse(JSON.stringify(B.si)),B.us.LENGTH={unit:q.ft,prefix:H.NONE[""]},B.us.MASS={unit:q.lbm,prefix:H.NONE[""]},B.us.TEMPERATURE={unit:q.degF,prefix:H.NONE[""]},B.us.FORCE={unit:q.lbf,prefix:H.NONE[""]},B.us.ENERGY={unit:q.BTU,prefix:H.BTU[""]},B.us.POWER={unit:q.hp,prefix:H.NONE[""]},B.us.PRESSURE={unit:q.psi,prefix:H.NONE[""]},B.auto=JSON.parse(JSON.stringify(B.si));var z=B.auto;R.setUnitSystem=function(e){if(!B.hasOwnProperty(e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(B).join(", "));z=B[e]},R.getUnitSystem=function(){for(var e in B)if(B[e]===z)return e},R.typeConverters={BigNumber:function(e){return new t.BigNumber(e+"")},Fraction:function(e){return new t.Fraction(e)},Complex:function(e){return e},number:function(e){return e}},R._getNumberConverter=function(e){if(!R.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return R.typeConverters[e]};for(var G in q){(W=q[G]).dimensions=W.base.dimensions}for(var Y in V)if(V.hasOwnProperty(Y)){var W=q[V[Y]],D={};for(var G in W)W.hasOwnProperty(G)&&(D[G]=W[G]);D.name=Y,q[Y]=D}return R.createUnit=function(e,i){if("object"!=typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(i&&i.override)for(var n in e)if(e.hasOwnProperty(n)&&R.deleteUnit(n),e[n].aliases)for(var t=0;t<e[n].aliases.length;t++)R.deleteUnit(e[n].aliases[t]);var a;for(var n in e)e.hasOwnProperty(n)&&(a=R.createUnitSingle(n,e[n]));return a},R.createUnitSingle=function(e,i,n){if(void 0!==i&&null!==i||(i={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(q.hasOwnProperty(e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var i=0;i<e.length;i++){var n=e.charAt(i),t=function(e){return/^[a-zA-Z]$/.test(e)};if(0===i&&!t(n))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(i>0&&!(t(n)||(a=n,a>="0"&&a<="9")))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}var a}(e);var t,a,s=null,r=[],f=0;if(i&&"Unit"===i.type)s=i.clone();else if("string"==typeof i)""!==i&&(t=i);else{if("object"!=typeof i)throw new TypeError('Cannot create unit "'+e+'" from "'+i.toString()+'": expecting "string" or "Unit" or "Object"');t=i.definition,a=i.prefixes,f=i.offset,r=i.aliases}if(r)for(var u=0;u<r.length;u++)if(q.hasOwnProperty(r[u]))throw new Error('Cannot create alias "'+r[u]+'": a unit with that name already exists');if(t&&"string"==typeof t&&!s)try{s=R.parse(t,{allowNoUnits:!0})}catch(i){throw i.message='Could not create unit "'+e+'" from "'+t+'": '+i.message,i}else t&&"Unit"===t.type&&(s=t.clone());r=r||[],f=f||0,a=a&&a.toUpperCase&&H[a.toUpperCase()]||H.NONE;var o={};if(s){o={name:e,value:s.value,dimensions:s.dimensions.slice(0),prefixes:a,offset:f};var l=!1;for(var u in _)if(_.hasOwnProperty(u)){for(var m=!0,c=0;c<P.length;c++)if(Math.abs((o.dimensions[c]||0)-(_[u].dimensions[c]||0))>1e-12){m=!1;break}if(m){l=!0;break}}if(!l){p=e+"_STUFF";(E={dimensions:s.dimensions.slice(0)}).key=p,_[p]=E,z[p]={unit:o,prefix:H.NONE[""]},o.base=p}}else{var p=e+"_STUFF";if(P.indexOf(p)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');P.push(p);for(var v in _)_.hasOwnProperty(v)&&(_[v].dimensions[P.length-1]=0);var E={dimensions:[]};for(u=0;u<P.length;u++)E.dimensions[u]=0;E.dimensions[P.length-1]=1,E.key=p,_[p]=E,o={name:e,value:1,dimensions:_[p].dimensions.slice(0),prefixes:a,offset:f,base:p},z[p]={unit:o,prefix:H.NONE[""]}}R.UNITS[e]=o;for(u=0;u<r.length;u++){var N=r[u],h={};for(var O in o)o.hasOwnProperty(O)&&(h[O]=o[O]);h.name=N,R.UNITS[N]=h}return new R(null,e)},R.deleteUnit=function(e){delete R.UNITS[e]},R.PREFIXES=H,R.BASE_UNITS=_,R.UNITS=q,R.UNIT_SYSTEMS=B,R}exports.name="Unit",exports.path="type",exports.factory=t,exports.math=!0;
},{"../../utils/string":151,"../../utils/object":86,"../../utils/bignumber/constants":88,"../../function/arithmetic/addScalar":488,"../../function/arithmetic/subtract":513,"../../function/arithmetic/multiplyScalar":546,"../../function/arithmetic/divideScalar":547,"../../function/arithmetic/pow":509,"../../function/arithmetic/abs":487,"../../function/arithmetic/fix":497,"../../function/relational/equal":217,"../../function/utils/isNumeric":275,"../../function/string/format":235,"../../function/utils/typeof":280,"../../type/number":94,"../../type/complex/Complex":136}],178:[function(require,module,exports) {
"use strict";var t=require("../../../utils/collection/deepMap");function n(n,r,e,i){var u=i("unit",{Unit:function(t){return t.clone()},string:function(t){return n.Unit.isValuelessUnit(t)?new n.Unit(null,t):n.Unit.parse(t)},"number | BigNumber | Fraction | Complex, string":function(t,r){return new n.Unit(t,r)},"Array | Matrix":function(n){return t(n,u)}});return u.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},u}exports.name="unit",exports.factory=n;
},{"../../../utils/collection/deepMap":132}],180:[function(require,module,exports) {
"use strict";var t=require("../../../utils/collection/deepMap");function n(t,n,e,r){return r("createUnit",{"Object, Object":function(n,e){return t.Unit.createUnit(n,e)},Object:function(n){return t.Unit.createUnit(n,{})},"string, Unit | string | Object, Object":function(n,e,r){var i={};return i[n]=e,t.Unit.createUnit(i,r)},"string, Unit | string | Object":function(n,e){var r={};return r[n]=e,t.Unit.createUnit(r,{})},string:function(n){var e={};return e[n]={},t.Unit.createUnit(e,{})}})}exports.name="createUnit",exports.factory=n;
},{"../../../utils/collection/deepMap":132}],179:[function(require,module,exports) {
"use strict";var t=require("../../../utils/collection/deepMap");function i(t,i,r,n){return n("splitUnit",{"Unit, Array":function(t,i){return t.splitUnit(i)}})}exports.name="splitUnit",exports.factory=i;
},{"../../../utils/collection/deepMap":132}],177:[function(require,module,exports) {
var n=require("../../utils/object").lazy;function t(t,e,r,u,o){function c(n){var e=t.Unit.parse(n);return e.fixPrefix=!0,e}n(o,"speedOfLight",function(){return c("299792458 m s^-1")}),n(o,"gravitationConstant",function(){return c("6.6738480e-11 m^3 kg^-1 s^-2")}),n(o,"planckConstant",function(){return c("6.626069311e-34 J s")}),n(o,"reducedPlanckConstant",function(){return c("1.05457172647e-34 J s")}),n(o,"magneticConstant",function(){return c("1.2566370614e-6 N A^-2")}),n(o,"electricConstant",function(){return c("8.854187817e-12 F m^-1")}),n(o,"vacuumImpedance",function(){return c("376.730313461 ohm")}),n(o,"coulomb",function(){return c("8.9875517873681764e9 N m^2 C^-2")}),n(o,"elementaryCharge",function(){return c("1.60217656535e-19 C")}),n(o,"bohrMagneton",function(){return c("9.2740096820e-24 J T^-1")}),n(o,"conductanceQuantum",function(){return c("7.748091734625e-5 S")}),n(o,"inverseConductanceQuantum",function(){return c("12906.403721742 ohm")}),n(o,"magneticFluxQuantum",function(){return c("2.06783375846e-15 Wb")}),n(o,"nuclearMagneton",function(){return c("5.0507835311e-27 J T^-1")}),n(o,"klitzing",function(){return c("25812.807443484 ohm")}),n(o,"bohrRadius",function(){return c("5.291772109217e-11 m")}),n(o,"classicalElectronRadius",function(){return c("2.817940326727e-15 m")}),n(o,"electronMass",function(){return c("9.1093829140e-31 kg")}),n(o,"fermiCoupling",function(){return c("1.1663645e-5 GeV^-2")}),n(o,"fineStructure",function(){return.007297352569824}),n(o,"hartreeEnergy",function(){return c("4.3597443419e-18 J")}),n(o,"protonMass",function(){return c("1.67262177774e-27 kg")}),n(o,"deuteronMass",function(){return c("3.3435830926e-27 kg")}),n(o,"neutronMass",function(){return c("1.6749271613e-27 kg")}),n(o,"quantumOfCirculation",function(){return c("3.636947552024e-4 m^2 s^-1")}),n(o,"rydberg",function(){return c("10973731.56853955 m^-1")}),n(o,"thomsonCrossSection",function(){return c("6.65245873413e-29 m^2")}),n(o,"weakMixingAngle",function(){return.222321}),n(o,"efimovFactor",function(){return 22.7}),n(o,"atomicMass",function(){return c("1.66053892173e-27 kg")}),n(o,"avogadro",function(){return c("6.0221412927e23 mol^-1")}),n(o,"boltzmann",function(){return c("1.380648813e-23 J K^-1")}),n(o,"faraday",function(){return c("96485.336521 C mol^-1")}),n(o,"firstRadiation",function(){return c("3.7417715317e-16 W m^2")}),n(o,"loschmidt",function(){return c("2.686780524e25 m^-3")}),n(o,"gasConstant",function(){return c("8.314462175 J K^-1 mol^-1")}),n(o,"molarPlanckConstant",function(){return c("3.990312717628e-10 J s mol^-1")}),n(o,"molarVolume",function(){return c("2.241396820e-10 m^3 mol^-1")}),n(o,"sackurTetrode",function(){return-1.164870823}),n(o,"secondRadiation",function(){return c("1.438777013e-2 m K")}),n(o,"stefanBoltzmann",function(){return c("5.67037321e-8 W m^-2 K^-4")}),n(o,"wienDisplacement",function(){return c("2.897772126e-3 m K")}),n(o,"molarMass",function(){return c("1e-3 kg mol^-1")}),n(o,"molarMassC12",function(){return c("1.2e-2 kg mol^-1")}),n(o,"gravity",function(){return c("9.80665 m s^-2")}),n(o,"planckLength",function(){return c("1.61619997e-35 m")}),n(o,"planckMass",function(){return c("2.1765113e-8 kg")}),n(o,"planckTime",function(){return c("5.3910632e-44 s")}),n(o,"planckCharge",function(){return c("1.87554595641e-18 C")}),n(o,"planckTemperature",function(){return c("1.41683385e+32 K")})}exports.factory=t,exports.lazy=!1,exports.math=!0;
},{"../../utils/object":86}],106:[function(require,module,exports) {
module.exports=[require("./Unit"),require("./function/unit"),require("./function/createUnit"),require("./function/splitUnit"),require("./physicalConstants")];
},{"./Unit":176,"./function/unit":178,"./function/createUnit":180,"./function/splitUnit":179,"./physicalConstants":177}],39:[function(require,module,exports) {
module.exports=[require("./bignumber"),require("./boolean"),require("./chain"),require("./complex"),require("./fraction"),require("./matrix"),require("./number"),require("./resultset"),require("./string"),require("./unit")];
},{"./bignumber":101,"./boolean":93,"./chain":103,"./complex":102,"./fraction":105,"./matrix":104,"./number":94,"./resultset":107,"./string":95,"./unit":106}],85:[function(require,module,exports) {
module.exports="3.11.2";
},{}],38:[function(require,module,exports) {
"use strict";var n=require("./utils/object"),e=require("./utils/bignumber/constants");function r(u,i,t,a,N){N.on("config",function(n,e){n.number!==e.number&&r(u,i,t,a,N)}),N.true=!0,N.false=!1,N.null=null,N.uninitialized=require("./utils/array").UNINITIALIZED,"BigNumber"===i.number?(N[1/0]=new u.BigNumber(1/0),N.NaN=new u.BigNumber(NaN),n.lazy(N,"pi",function(){return e.pi(u.BigNumber)}),n.lazy(N,"tau",function(){return e.tau(u.BigNumber)}),n.lazy(N,"e",function(){return e.e(u.BigNumber)}),n.lazy(N,"phi",function(){return e.phi(u.BigNumber)}),n.lazy(N,"E",function(){return N.e}),n.lazy(N,"LN2",function(){return new u.BigNumber(2).ln()}),n.lazy(N,"LN10",function(){return new u.BigNumber(10).ln()}),n.lazy(N,"LOG2E",function(){return new u.BigNumber(1).div(new u.BigNumber(2).ln())}),n.lazy(N,"LOG10E",function(){return new u.BigNumber(1).div(new u.BigNumber(10).ln())}),n.lazy(N,"PI",function(){return N.pi}),n.lazy(N,"SQRT1_2",function(){return new u.BigNumber("0.5").sqrt()}),n.lazy(N,"SQRT2",function(){return new u.BigNumber(2).sqrt()})):(N[1/0]=1/0,N.NaN=NaN,N.pi=Math.PI,N.tau=2*Math.PI,N.e=Math.E,N.phi=1.618033988749895,N.E=N.e,N.LN2=Math.LN2,N.LN10=Math.LN10,N.LOG2E=Math.LOG2E,N.LOG10E=Math.LOG10E,N.PI=N.pi,N.SQRT1_2=Math.SQRT1_2,N.SQRT2=Math.SQRT2),N.i=u.Complex.I,N.version=require("./version")}exports.factory=r,exports.lazy=!1,exports.math=!0;
},{"./utils/object":86,"./utils/bignumber/constants":88,"./utils/array":87,"./version":85}],283:[function(require,module,exports) {
module.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};
},{}],284:[function(require,module,exports) {
module.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};
},{}],285:[function(require,module,exports) {
module.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};
},{}],286:[function(require,module,exports) {
module.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};
},{}],287:[function(require,module,exports) {
module.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};
},{}],288:[function(require,module,exports) {
module.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};
},{}],289:[function(require,module,exports) {
module.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};
},{}],290:[function(require,module,exports) {
module.exports={name:"number",category:"Construction",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};
},{}],291:[function(require,module,exports) {
module.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};
},{}],292:[function(require,module,exports) {
module.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};
},{}],293:[function(require,module,exports) {
module.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};
},{}],294:[function(require,module,exports) {
module.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};
},{}],295:[function(require,module,exports) {
module.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};
},{}],296:[function(require,module,exports) {
module.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};
},{}],297:[function(require,module,exports) {
module.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};
},{}],298:[function(require,module,exports) {
module.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};
},{}],299:[function(require,module,exports) {
module.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};
},{}],300:[function(require,module,exports) {
module.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};
},{}],301:[function(require,module,exports) {
module.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};
},{}],302:[function(require,module,exports) {
module.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};
},{}],303:[function(require,module,exports) {
module.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};
},{}],304:[function(require,module,exports) {
module.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};
},{}],305:[function(require,module,exports) {
module.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};
},{}],306:[function(require,module,exports) {
module.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]};
},{}],307:[function(require,module,exports) {
module.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};
},{}],308:[function(require,module,exports) {
module.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};
},{}],310:[function(require,module,exports) {
module.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};
},{}],309:[function(require,module,exports) {
module.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};
},{}],311:[function(require,module,exports) {
module.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};
},{}],319:[function(require,module,exports) {
module.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr)","derivative(expr, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]};
},{}],320:[function(require,module,exports) {
module.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]};
},{}],321:[function(require,module,exports) {
module.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu"]};
},{}],323:[function(require,module,exports) {
module.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};
},{}],324:[function(require,module,exports) {
module.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]};
},{}],322:[function(require,module,exports) {
module.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup"]};
},{}],327:[function(require,module,exports) {
module.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]};
},{}],325:[function(require,module,exports) {
module.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};
},{}],326:[function(require,module,exports) {
module.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};
},{}],328:[function(require,module,exports) {
module.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};
},{}],329:[function(require,module,exports) {
module.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};
},{}],330:[function(require,module,exports) {
module.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};
},{}],331:[function(require,module,exports) {
module.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};
},{}],332:[function(require,module,exports) {
module.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};
},{}],333:[function(require,module,exports) {
module.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};
},{}],334:[function(require,module,exports) {
module.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};
},{}],335:[function(require,module,exports) {
module.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]};
},{}],336:[function(require,module,exports) {
module.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};
},{}],337:[function(require,module,exports) {
module.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};
},{}],338:[function(require,module,exports) {
module.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};
},{}],340:[function(require,module,exports) {
module.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};
},{}],339:[function(require,module,exports) {
module.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};
},{}],341:[function(require,module,exports) {
module.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]};
},{}],342:[function(require,module,exports) {
module.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};
},{}],343:[function(require,module,exports) {
module.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};
},{}],344:[function(require,module,exports) {
module.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};
},{}],345:[function(require,module,exports) {
module.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]};
},{}],346:[function(require,module,exports) {
module.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]};
},{}],347:[function(require,module,exports) {
module.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]};
},{}],348:[function(require,module,exports) {
module.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]};
},{}],350:[function(require,module,exports) {
module.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};
},{}],349:[function(require,module,exports) {
module.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]};
},{}],352:[function(require,module,exports) {
module.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};
},{}],351:[function(require,module,exports) {
module.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};
},{}],353:[function(require,module,exports) {
module.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};
},{}],354:[function(require,module,exports) {
module.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};
},{}],355:[function(require,module,exports) {
module.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};
},{}],356:[function(require,module,exports) {
module.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};
},{}],357:[function(require,module,exports) {
module.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};
},{}],359:[function(require,module,exports) {
module.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};
},{}],358:[function(require,module,exports) {
module.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};
},{}],360:[function(require,module,exports) {
module.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};
},{}],361:[function(require,module,exports) {
module.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};
},{}],362:[function(require,module,exports) {
module.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};
},{}],363:[function(require,module,exports) {
module.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};
},{}],364:[function(require,module,exports) {
module.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};
},{}],365:[function(require,module,exports) {
module.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};
},{}],366:[function(require,module,exports) {
module.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};
},{}],312:[function(require,module,exports) {
module.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};
},{}],314:[function(require,module,exports) {
module.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};
},{}],313:[function(require,module,exports) {
module.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]};
},{}],367:[function(require,module,exports) {
module.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};
},{}],368:[function(require,module,exports) {
module.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};
},{}],370:[function(require,module,exports) {
module.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};
},{}],369:[function(require,module,exports) {
module.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};
},{}],371:[function(require,module,exports) {
module.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]};
},{}],372:[function(require,module,exports) {
module.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};
},{}],373:[function(require,module,exports) {
module.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};
},{}],374:[function(require,module,exports) {
module.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};
},{}],375:[function(require,module,exports) {
module.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};
},{}],376:[function(require,module,exports) {
module.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};
},{}],377:[function(require,module,exports) {
module.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};
},{}],378:[function(require,module,exports) {
module.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]};
},{}],380:[function(require,module,exports) {
module.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};
},{}],379:[function(require,module,exports) {
module.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};
},{}],382:[function(require,module,exports) {
module.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};
},{}],381:[function(require,module,exports) {
module.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};
},{}],383:[function(require,module,exports) {
module.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};
},{}],384:[function(require,module,exports) {
module.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};
},{}],385:[function(require,module,exports) {
module.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};
},{}],386:[function(require,module,exports) {
module.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};
},{}],387:[function(require,module,exports) {
module.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]};
},{}],389:[function(require,module,exports) {
module.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]};
},{}],388:[function(require,module,exports) {
module.exports={name:"kron",category:"Matrix",syntax:["math.kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};
},{}],390:[function(require,module,exports) {
module.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]};
},{}],391:[function(require,module,exports) {
module.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]};
},{}],392:[function(require,module,exports) {
module.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]};
},{}],393:[function(require,module,exports) {
module.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};
},{}],394:[function(require,module,exports) {
module.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};
},{}],395:[function(require,module,exports) {
module.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]};
},{}],396:[function(require,module,exports) {
module.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};
},{}],397:[function(require,module,exports) {
module.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]};
},{}],398:[function(require,module,exports) {
module.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]};
},{}],399:[function(require,module,exports) {
module.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]};
},{}],400:[function(require,module,exports) {
module.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]};
},{}],401:[function(require,module,exports) {
module.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]};
},{}],403:[function(require,module,exports) {
module.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]};
},{}],402:[function(require,module,exports) {
module.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]};
},{}],404:[function(require,module,exports) {
module.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]};
},{}],405:[function(require,module,exports) {
module.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};
},{}],406:[function(require,module,exports) {
module.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};
},{}],407:[function(require,module,exports) {
module.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};
},{}],408:[function(require,module,exports) {
module.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]};
},{}],410:[function(require,module,exports) {
module.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};
},{}],409:[function(require,module,exports) {
module.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};
},{}],411:[function(require,module,exports) {
module.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]};
},{}],412:[function(require,module,exports) {
module.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]};
},{}],413:[function(require,module,exports) {
module.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};
},{}],414:[function(require,module,exports) {
module.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};
},{}],415:[function(require,module,exports) {
module.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};
},{}],416:[function(require,module,exports) {
module.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]};
},{}],417:[function(require,module,exports) {
module.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};
},{}],418:[function(require,module,exports) {
module.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};
},{}],419:[function(require,module,exports) {
module.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};
},{}],421:[function(require,module,exports) {
module.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};
},{}],422:[function(require,module,exports) {
module.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])","mad(10, 20, 30)"],seealso:["mean","median","std","abs"]};
},{}],420:[function(require,module,exports) {
module.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]};
},{}],423:[function(require,module,exports) {
module.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]};
},{}],424:[function(require,module,exports) {
module.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]};
},{}],425:[function(require,module,exports) {
module.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]};
},{}],426:[function(require,module,exports) {
module.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]};
},{}],428:[function(require,module,exports) {
module.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]};
},{}],427:[function(require,module,exports) {
module.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]};
},{}],429:[function(require,module,exports) {
module.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]};
},{}],430:[function(require,module,exports) {
module.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]};
},{}],431:[function(require,module,exports) {
module.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};
},{}],432:[function(require,module,exports) {
module.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};
},{}],433:[function(require,module,exports) {
module.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};
},{}],434:[function(require,module,exports) {
module.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};
},{}],435:[function(require,module,exports) {
module.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]};
},{}],436:[function(require,module,exports) {
module.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]};
},{}],438:[function(require,module,exports) {
module.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};
},{}],437:[function(require,module,exports) {
module.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};
},{}],439:[function(require,module,exports) {
module.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};
},{}],440:[function(require,module,exports) {
module.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]};
},{}],441:[function(require,module,exports) {
module.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};
},{}],442:[function(require,module,exports) {
module.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]};
},{}],443:[function(require,module,exports) {
module.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};
},{}],444:[function(require,module,exports) {
module.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};
},{}],446:[function(require,module,exports) {
module.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};
},{}],445:[function(require,module,exports) {
module.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};
},{}],447:[function(require,module,exports) {
module.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};
},{}],448:[function(require,module,exports) {
module.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};
},{}],449:[function(require,module,exports) {
module.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};
},{}],450:[function(require,module,exports) {
module.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};
},{}],451:[function(require,module,exports) {
module.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};
},{}],452:[function(require,module,exports) {
module.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};
},{}],453:[function(require,module,exports) {
module.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};
},{}],454:[function(require,module,exports) {
module.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};
},{}],456:[function(require,module,exports) {
module.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};
},{}],455:[function(require,module,exports) {
module.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};
},{}],457:[function(require,module,exports) {
module.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};
},{}],458:[function(require,module,exports) {
module.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};
},{}],460:[function(require,module,exports) {
module.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};
},{}],459:[function(require,module,exports) {
module.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};
},{}],462:[function(require,module,exports) {
module.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};
},{}],461:[function(require,module,exports) {
module.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};
},{}],463:[function(require,module,exports) {
module.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]};
},{}],464:[function(require,module,exports) {
module.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};
},{}],465:[function(require,module,exports) {
module.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};
},{}],466:[function(require,module,exports) {
module.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};
},{}],467:[function(require,module,exports) {
module.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]};
},{}],111:[function(require,module,exports) {
function e(e,i,t,r){var n={};return n.bignumber=require("./construction/bignumber"),n.boolean=require("./construction/boolean"),n.complex=require("./construction/complex"),n.createUnit=require("./construction/createUnit"),n.fraction=require("./construction/fraction"),n.index=require("./construction/index"),n.matrix=require("./construction/matrix"),n.number=require("./construction/number"),n.sparse=require("./construction/sparse"),n.splitUnit=require("./construction/splitUnit"),n.string=require("./construction/string"),n.unit=require("./construction/unit"),n.e=require("./constants/e"),n.E=require("./constants/e"),n.false=require("./constants/false"),n.i=require("./constants/i"),n[1/0]=require("./constants/Infinity"),n.LN2=require("./constants/LN2"),n.LN10=require("./constants/LN10"),n.LOG2E=require("./constants/LOG2E"),n.LOG10E=require("./constants/LOG10E"),n.NaN=require("./constants/NaN"),n.null=require("./constants/null"),n.pi=require("./constants/pi"),n.PI=require("./constants/pi"),n.phi=require("./constants/phi"),n.SQRT1_2=require("./constants/SQRT1_2"),n.SQRT2=require("./constants/SQRT2"),n.tau=require("./constants/tau"),n.true=require("./constants/true"),n.version=require("./constants/version"),n.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},n.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},n.planckConstant={description:"Planck constant",examples:["planckConstant"]},n.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},n.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},n.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},n.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},n.coulomb={description:"Coulomb's constant",examples:["coulomb"]},n.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},n.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},n.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},n.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},n.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},n.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},n.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},n.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},n.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},n.electronMass={description:"Electron mass",examples:["electronMass"]},n.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},n.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},n.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},n.protonMass={description:"Proton mass",examples:["protonMass"]},n.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},n.neutronMass={description:"Neutron mass",examples:["neutronMass"]},n.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},n.rydberg={description:"Rydberg constant",examples:["rydberg"]},n.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},n.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},n.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},n.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},n.avogadro={description:"Avogadro's number",examples:["avogadro"]},n.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},n.faraday={description:"Faraday constant",examples:["faraday"]},n.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},n.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},n.gasConstant={description:"Gas constant",examples:["gasConstant"]},n.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},n.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},n.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},n.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},n.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},n.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},n.molarMass={description:"Molar mass constant",examples:["molarMass"]},n.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},n.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},n.planckLength={description:"Planck length",examples:["planckLength"]},n.planckMass={description:"Planck mass",examples:["planckMass"]},n.planckTime={description:"Planck time",examples:["planckTime"]},n.planckCharge={description:"Planck charge",examples:["planckCharge"]},n.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},n.derivative=require("./function/algebra/derivative"),n.lsolve=require("./function/algebra/lsolve"),n.lup=require("./function/algebra/lup"),n.lusolve=require("./function/algebra/lusolve"),n.simplify=require("./function/algebra/simplify"),n.slu=require("./function/algebra/slu"),n.usolve=require("./function/algebra/usolve"),n.abs=require("./function/arithmetic/abs"),n.add=require("./function/arithmetic/add"),n.cbrt=require("./function/arithmetic/cbrt"),n.ceil=require("./function/arithmetic/ceil"),n.cube=require("./function/arithmetic/cube"),n.divide=require("./function/arithmetic/divide"),n.dotDivide=require("./function/arithmetic/dotDivide"),n.dotMultiply=require("./function/arithmetic/dotMultiply"),n.dotPow=require("./function/arithmetic/dotPow"),n.exp=require("./function/arithmetic/exp"),n.fix=require("./function/arithmetic/fix"),n.floor=require("./function/arithmetic/floor"),n.gcd=require("./function/arithmetic/gcd"),n.hypot=require("./function/arithmetic/hypot"),n.lcm=require("./function/arithmetic/lcm"),n.log=require("./function/arithmetic/log"),n.log10=require("./function/arithmetic/log10"),n.mod=require("./function/arithmetic/mod"),n.multiply=require("./function/arithmetic/multiply"),n.norm=require("./function/arithmetic/norm"),n.nthRoot=require("./function/arithmetic/nthRoot"),n.pow=require("./function/arithmetic/pow"),n.round=require("./function/arithmetic/round"),n.sign=require("./function/arithmetic/sign"),n.sqrt=require("./function/arithmetic/sqrt"),n.square=require("./function/arithmetic/square"),n.subtract=require("./function/arithmetic/subtract"),n.unaryMinus=require("./function/arithmetic/unaryMinus"),n.unaryPlus=require("./function/arithmetic/unaryPlus"),n.xgcd=require("./function/arithmetic/xgcd"),n.bitAnd=require("./function/bitwise/bitAnd"),n.bitNot=require("./function/bitwise/bitNot"),n.bitOr=require("./function/bitwise/bitOr"),n.bitXor=require("./function/bitwise/bitXor"),n.leftShift=require("./function/bitwise/leftShift"),n.rightArithShift=require("./function/bitwise/rightArithShift"),n.rightLogShift=require("./function/bitwise/rightLogShift"),n.bellNumbers=require("./function/combinatorics/bellNumbers"),n.catalan=require("./function/combinatorics/catalan"),n.composition=require("./function/combinatorics/composition"),n.stirlingS2=require("./function/combinatorics/stirlingS2"),n.config=require("./core/config"),n.import=require("./core/import"),n.typed=require("./core/typed"),n.arg=require("./function/complex/arg"),n.conj=require("./function/complex/conj"),n.re=require("./function/complex/re"),n.im=require("./function/complex/im"),n.eval=require("./function/expression/eval"),n.help=require("./function/expression/help"),n.distance=require("./function/geometry/distance"),n.intersect=require("./function/geometry/intersect"),n.and=require("./function/logical/and"),n.not=require("./function/logical/not"),n.or=require("./function/logical/or"),n.xor=require("./function/logical/xor"),n.concat=require("./function/matrix/concat"),n.cross=require("./function/matrix/cross"),n.det=require("./function/matrix/det"),n.diag=require("./function/matrix/diag"),n.dot=require("./function/matrix/dot"),n.eye=require("./function/matrix/eye"),n.filter=require("./function/matrix/filter"),n.flatten=require("./function/matrix/flatten"),n.forEach=require("./function/matrix/forEach"),n.inv=require("./function/matrix/inv"),n.kron=require("./function/matrix/kron"),n.map=require("./function/matrix/map"),n.ones=require("./function/matrix/ones"),n.partitionSelect=require("./function/matrix/partitionSelect"),n.range=require("./function/matrix/range"),n.resize=require("./function/matrix/resize"),n.reshape=require("./function/matrix/reshape"),n.size=require("./function/matrix/size"),n.sort=require("./function/matrix/sort"),n.squeeze=require("./function/matrix/squeeze"),n.subset=require("./function/matrix/subset"),n.trace=require("./function/matrix/trace"),n.transpose=require("./function/matrix/transpose"),n.zeros=require("./function/matrix/zeros"),n.combinations=require("./function/probability/combinations"),n.factorial=require("./function/probability/factorial"),n.gamma=require("./function/probability/gamma"),n.kldivergence=require("./function/probability/kldivergence"),n.multinomial=require("./function/probability/multinomial"),n.permutations=require("./function/probability/permutations"),n.pickRandom=require("./function/probability/pickRandom"),n.random=require("./function/probability/random"),n.randomInt=require("./function/probability/randomInt"),n.compare=require("./function/relational/compare"),n.deepEqual=require("./function/relational/deepEqual"),n.equal=require("./function/relational/equal"),n.larger=require("./function/relational/larger"),n.largerEq=require("./function/relational/largerEq"),n.smaller=require("./function/relational/smaller"),n.smallerEq=require("./function/relational/smallerEq"),n.unequal=require("./function/relational/unequal"),n.erf=require("./function/special/erf"),n.mad=require("./function/statistics/mad"),n.max=require("./function/statistics/max"),n.mean=require("./function/statistics/mean"),n.median=require("./function/statistics/median"),n.min=require("./function/statistics/min"),n.mode=require("./function/statistics/mode"),n.prod=require("./function/statistics/prod"),n.quantileSeq=require("./function/statistics/quantileSeq"),n.std=require("./function/statistics/std"),n.sum=require("./function/statistics/sum"),n.var=require("./function/statistics/var"),n.acos=require("./function/trigonometry/acos"),n.acosh=require("./function/trigonometry/acosh"),n.acot=require("./function/trigonometry/acot"),n.acoth=require("./function/trigonometry/acoth"),n.acsc=require("./function/trigonometry/acsc"),n.acsch=require("./function/trigonometry/acsch"),n.asec=require("./function/trigonometry/asec"),n.asech=require("./function/trigonometry/asech"),n.asin=require("./function/trigonometry/asin"),n.asinh=require("./function/trigonometry/asinh"),n.atan=require("./function/trigonometry/atan"),n.atanh=require("./function/trigonometry/atanh"),n.atan2=require("./function/trigonometry/atan2"),n.cos=require("./function/trigonometry/cos"),n.cosh=require("./function/trigonometry/cosh"),n.cot=require("./function/trigonometry/cot"),n.coth=require("./function/trigonometry/coth"),n.csc=require("./function/trigonometry/csc"),n.csch=require("./function/trigonometry/csch"),n.sec=require("./function/trigonometry/sec"),n.sech=require("./function/trigonometry/sech"),n.sin=require("./function/trigonometry/sin"),n.sinh=require("./function/trigonometry/sinh"),n.tan=require("./function/trigonometry/tan"),n.tanh=require("./function/trigonometry/tanh"),n.to=require("./function/units/to"),n.clone=require("./function/utils/clone"),n.format=require("./function/utils/format"),n.isNaN=require("./function/utils/isNaN"),n.isInteger=require("./function/utils/isInteger"),n.isNegative=require("./function/utils/isNegative"),n.isNumeric=require("./function/utils/isNumeric"),n.isPositive=require("./function/utils/isPositive"),n.isPrime=require("./function/utils/isPrime"),n.isZero=require("./function/utils/isZero"),n.typeof=require("./function/utils/typeof"),n}exports.name="docs",exports.path="expression",exports.factory=e;
},{"./construction/bignumber":283,"./construction/boolean":284,"./construction/complex":285,"./construction/createUnit":286,"./construction/fraction":287,"./construction/index":288,"./construction/matrix":289,"./construction/number":290,"./construction/sparse":291,"./construction/splitUnit":292,"./construction/string":293,"./construction/unit":294,"./constants/e":295,"./constants/false":296,"./constants/i":297,"./constants/Infinity":298,"./constants/LN2":299,"./constants/LN10":300,"./constants/LOG2E":301,"./constants/LOG10E":302,"./constants/NaN":303,"./constants/null":304,"./constants/pi":305,"./constants/phi":306,"./constants/SQRT1_2":307,"./constants/SQRT2":308,"./constants/tau":310,"./constants/true":309,"./constants/version":311,"./function/algebra/derivative":319,"./function/algebra/lsolve":320,"./function/algebra/lup":321,"./function/algebra/lusolve":323,"./function/algebra/simplify":324,"./function/algebra/slu":322,"./function/algebra/usolve":327,"./function/arithmetic/abs":325,"./function/arithmetic/add":326,"./function/arithmetic/cbrt":328,"./function/arithmetic/ceil":329,"./function/arithmetic/cube":330,"./function/arithmetic/divide":331,"./function/arithmetic/dotDivide":332,"./function/arithmetic/dotMultiply":333,"./function/arithmetic/dotPow":334,"./function/arithmetic/exp":335,"./function/arithmetic/fix":336,"./function/arithmetic/floor":337,"./function/arithmetic/gcd":338,"./function/arithmetic/hypot":340,"./function/arithmetic/lcm":339,"./function/arithmetic/log":341,"./function/arithmetic/log10":342,"./function/arithmetic/mod":343,"./function/arithmetic/multiply":344,"./function/arithmetic/norm":345,"./function/arithmetic/nthRoot":346,"./function/arithmetic/pow":347,"./function/arithmetic/round":348,"./function/arithmetic/sign":350,"./function/arithmetic/sqrt":349,"./function/arithmetic/square":352,"./function/arithmetic/subtract":351,"./function/arithmetic/unaryMinus":353,"./function/arithmetic/unaryPlus":354,"./function/arithmetic/xgcd":355,"./function/bitwise/bitAnd":356,"./function/bitwise/bitNot":357,"./function/bitwise/bitOr":359,"./function/bitwise/bitXor":358,"./function/bitwise/leftShift":360,"./function/bitwise/rightArithShift":361,"./function/bitwise/rightLogShift":362,"./function/combinatorics/bellNumbers":363,"./function/combinatorics/catalan":364,"./function/combinatorics/composition":365,"./function/combinatorics/stirlingS2":366,"./core/config":312,"./core/import":314,"./core/typed":313,"./function/complex/arg":367,"./function/complex/conj":368,"./function/complex/re":370,"./function/complex/im":369,"./function/expression/eval":371,"./function/expression/help":372,"./function/geometry/distance":373,"./function/geometry/intersect":374,"./function/logical/and":375,"./function/logical/not":376,"./function/logical/or":377,"./function/logical/xor":378,"./function/matrix/concat":380,"./function/matrix/cross":379,"./function/matrix/det":382,"./function/matrix/diag":381,"./function/matrix/dot":383,"./function/matrix/eye":384,"./function/matrix/filter":385,"./function/matrix/flatten":386,"./function/matrix/forEach":387,"./function/matrix/inv":389,"./function/matrix/kron":388,"./function/matrix/map":390,"./function/matrix/ones":391,"./function/matrix/partitionSelect":392,"./function/matrix/range":393,"./function/matrix/resize":394,"./function/matrix/reshape":395,"./function/matrix/size":396,"./function/matrix/sort":397,"./function/matrix/squeeze":398,"./function/matrix/subset":399,"./function/matrix/trace":400,"./function/matrix/transpose":401,"./function/matrix/zeros":403,"./function/probability/combinations":402,"./function/probability/factorial":404,"./function/probability/gamma":405,"./function/probability/kldivergence":406,"./function/probability/multinomial":407,"./function/probability/permutations":408,"./function/probability/pickRandom":410,"./function/probability/random":409,"./function/probability/randomInt":411,"./function/relational/compare":412,"./function/relational/deepEqual":413,"./function/relational/equal":414,"./function/relational/larger":415,"./function/relational/largerEq":416,"./function/relational/smaller":417,"./function/relational/smallerEq":418,"./function/relational/unequal":419,"./function/special/erf":421,"./function/statistics/mad":422,"./function/statistics/max":420,"./function/statistics/mean":423,"./function/statistics/median":424,"./function/statistics/min":425,"./function/statistics/mode":426,"./function/statistics/prod":428,"./function/statistics/quantileSeq":427,"./function/statistics/std":429,"./function/statistics/sum":430,"./function/statistics/var":431,"./function/trigonometry/acos":432,"./function/trigonometry/acosh":433,"./function/trigonometry/acot":434,"./function/trigonometry/acoth":435,"./function/trigonometry/acsc":436,"./function/trigonometry/acsch":438,"./function/trigonometry/asec":437,"./function/trigonometry/asech":439,"./function/trigonometry/asin":440,"./function/trigonometry/asinh":441,"./function/trigonometry/atan":442,"./function/trigonometry/atanh":443,"./function/trigonometry/atan2":444,"./function/trigonometry/cos":446,"./function/trigonometry/cosh":445,"./function/trigonometry/cot":447,"./function/trigonometry/coth":448,"./function/trigonometry/csc":449,"./function/trigonometry/csch":450,"./function/trigonometry/sec":451,"./function/trigonometry/sech":452,"./function/trigonometry/sin":453,"./function/trigonometry/sinh":454,"./function/trigonometry/tan":456,"./function/trigonometry/tanh":455,"./function/units/to":457,"./function/utils/clone":458,"./function/utils/format":460,"./function/utils/isNaN":459,"./function/utils/isInteger":462,"./function/utils/isNegative":461,"./function/utils/isNumeric":463,"./function/utils/isPositive":464,"./function/utils/isPrime":465,"./function/utils/isZero":466,"./function/utils/typeof":467}],530:[function(require,module,exports) {
function e(e){if(e===Function)throw new Error('Access to "Function" is disabled');return e}exports.getSafeValue=e;
},{}],533:[function(require,module,exports) {
"use strict";module.exports={end:!0};
},{}],168:[function(require,module,exports) {
"use strict";var t=require("../keywords"),e=require("../../utils/object").extend,o=require("../../utils/object").deepEqual;function r(e,r,n,i,c){function p(){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator")}function a(e){for(var o in e)if(e.hasOwnProperty(o)&&o in t)throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}return p.prototype.eval=function(t){return this.compile().eval(t)},p.prototype.type="Node",p.prototype.isNode=!0,p.prototype.comment="",p.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var t={math:c.expression.transform,args:{},_validateScope:a},e=this._compile(t,{}),o=Object.keys(t).map(function(t){return"    var "+t+' = defs["'+t+'"];'}).join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+e+";  }};";return new Function("defs",o)(t)},p.prototype._compile=function(t,e){throw new Error("Cannot compile a Node interface")},p.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},p.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},p.prototype._ifNode=function(t){if(!t||!t.isNode)throw new TypeError("Callback function must return a Node");return t},p.prototype.traverse=function(t){t(this,null,null),function t(e,o){e.forEach(function(e,r,n){o(e,r,n),t(e,o)})}(this,t)},p.prototype.transform=function(t){return function t(e,o){return e.map(function(e,r,n){return t(o(e,r,n),o)})}(t(this,null,null),t)},p.prototype.filter=function(t){var e=[];return this.traverse(function(o,r,n){t(o,r,n)&&e.push(o)}),e},p.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},p.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},p.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},p.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},p.prototype.equals=function(t){return!!t&&o(this,t)},p.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},p.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},p.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},p.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},p.prototype.getIdentifier=function(){return this.type},p.prototype.getContent=function(){return this},p}exports.name="Node",exports.path="expression.node",exports.math=!0,exports.factory=r;
},{"../keywords":533,"../../utils/object":86}],556:[function(require,module,exports) {
var r=require("../../error/IndexError");exports.transform=function(e){return e&&e.isIndexError?new r(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e};
},{"../../error/IndexError":100}],211:[function(require,module,exports) {
"use strict";var e=require("../../utils/object").clone,n=require("../../utils/array").validateIndex,r=require("../../error/DimensionError");function t(t,s,a,u){var f=a(require("../../type/matrix/function/matrix")),c=u("subset",{"Array, Index":function(e,n){var r=f(e).subset(n);return r&&r.valueOf()},"Matrix, Index":function(e,n){return e.subset(n)},"Object, Index":i,"string, Index":function(e,t){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!=t.size().length)throw new r(t.size().length,1);var i=e.length;n(t.min()[0],i),n(t.max()[0],i);var o="";return t.dimension(0).forEach(function(n){o+=e.charAt(n)}),o},"Array, Index, any":function(n,r,t){return f(e(n)).subset(r,t,void 0).valueOf()},"Array, Index, any, any":function(n,r,t,i){return f(e(n)).subset(r,t,i).valueOf()},"Matrix, Index, any":function(e,n,r){return e.clone().subset(n,r)},"Matrix, Index, any, any":function(e,n,r,t){return e.clone().subset(n,r,t)},"string, Index, string":x,"string, Index, string, string":x,"Object, Index, any":o});return c.toTex=void 0,c;function x(e,t,i,o){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!=t.size().length)throw new r(t.size().length,1);if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";var s=t.dimension(0),a=s.size()[0];if(a!=i.length)throw new r(s.size()[0],i.length);var u=e.length;n(t.min()[0]),n(t.max()[0]);for(var f=[],c=0;c<u;c++)f[c]=e.charAt(c);if(s.forEach(function(e,n){f[e]=i.charAt(n[0])}),f.length>u)for(c=u-1,a=f.length;c<a;c++)f[c]||(f[c]=o);return f.join("")}}function i(e,n){if(1!==n.size().length)throw new r(n.size(),1);var t=n.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return e[t]}function o(n,t,i){if(1!==t.size().length)throw new r(t.size(),1);var o=t.dimension(0);if("string"!=typeof o)throw new TypeError("String expected as index to retrieve an object property");var s=e(n);return s[o]=i,s}exports.name="subset",exports.factory=t;
},{"../../utils/object":86,"../../utils/array":87,"../../error/DimensionError":99,"../../type/matrix/function/matrix":147}],531:[function(require,module,exports) {
"use strict";var r=require("../../transform/error.transform").transform,t=require("../../../utils/customs").getSafeValue;function e(e,o,n,u){var i=n(require("../../../function/matrix/subset")),f=n(require("../../../type/matrix/function/matrix"));return function(e,o){try{if(Array.isArray(e))return f(e).subset(o).valueOf();if(e&&"function"==typeof e.subset)return e.subset(o);if("string"==typeof e)return i(e,o);if("object"==typeof e||"function"==typeof e){if(!o.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return t(e[o.getObjectProperty()])}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw r(t)}}}exports.factory=e;
},{"../../transform/error.transform":556,"../../../utils/customs":530,"../../../function/matrix/subset":211,"../../../type/matrix/function/matrix":147}],160:[function(require,module,exports) {
"use strict";var e=require("../../utils/customs").getSafeValue;function t(t,o,i,r){var n=i(require("./Node")),s=i(require("./utils/access"));function c(e,t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError('Node expected for parameter "object"');if(!t||!t.isIndexNode)throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(e){return!(e.isAccessorNode||e.isArrayNode||e.isConstantNode||e.isFunctionNode||e.isObjectNode||e.isParenthesisNode||e.isSymbolNode)}return c.prototype=new n,c.prototype.type="AccessorNode",c.prototype.isAccessorNode=!0,c.prototype._compile=function(t,o){t.access=s,t.getSafeValue=e;var i=this.object._compile(t,o),r=this.index._compile(t,o);return this.index.isObjectProperty()?"getSafeValue("+i+'["'+this.index.getObjectProperty()+'"])':this.index.needsSize()?"(function () {  var object = "+i+";  var size = math.size(object).valueOf();  return access(object, "+r+");})()":"access("+i+", "+r+")"},c.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},c.prototype.map=function(e){return new c(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},c.prototype.clone=function(){return new c(this.object,this.index)},c.prototype._toString=function(e){var t=this.object.toString(e);return a(this.object)&&(t="("+t+")"),t+this.index.toString(e)},c.prototype._toTex=function(e){var t=this.object.toTex(e);return a(this.object)&&(t="\\left("+t+"\\right)"),t+this.index.toTex(e)},c}exports.name="AccessorNode",exports.path="expression.node",exports.factory=t;
},{"../../utils/customs":530,"./Node":168,"./utils/access":531}],162:[function(require,module,exports) {
"use strict";function t(t,e,r,o){var i=r(require("./Node"));function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(function(t){return t&&t.isNode}))throw new TypeError("Array containing Nodes expected");var e=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:e,set:e})}return n.prototype=new i,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(t,e){var r="Array"!==t.math.config().matrix,o=this.items.map(function(r){return r._compile(t,e)});return(r?"math.matrix([":"[")+o.join(",")+(r?"])":"]")},n.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this)}},n.prototype.map=function(t){for(var e=[],r=0;r<this.items.length;r++)e[r]=this._ifNode(t(this.items[r],"items["+r+"]",this));return new n(e)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(t){return"["+this.items.map(function(e){return e.toString(t)}).join(", ")+"]"},n.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(r){r.items?e+=r.items.map(function(e){return e.toTex(t)}).join("&"):e+=r.toTex(t),e+="\\\\"}),e+="\\end{bmatrix}"},n}exports.name="ArrayNode",exports.path="expression.node",exports.factory=t;
},{"./Node":168}],534:[function(require,module,exports) {
"use strict";var r=require("../../transform/error.transform").transform;function t(t,e,o,n){var i=o(require("../../../function/matrix/subset")),u=o(require("../../../type/matrix/function/matrix"));return function(t,e,o){try{if(Array.isArray(t))return u(t).subset(e,o).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,o);if("string"==typeof t)return i(t,e,o);if("object"==typeof t){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return t[e.getObjectProperty()]=o,t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw r(t)}}}exports.factory=t;
},{"../../transform/error.transform":556,"../../../function/matrix/subset":211,"../../../type/matrix/function/matrix":147}],532:[function(require,module,exports) {
"use strict";var t=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function i(i,e){var a=i;"keep"!==e&&(a=i.getContent());for(var o=a.getIdentifier(),r=0;r<t.length;r++)if(o in t[r])return r;return null}function e(e,a){var o=e;"keep"!==a&&(o=e.getContent());var r=o.getIdentifier(),s=i(o,a);if(null===s)return null;var v=t[s][r];if(v.hasOwnProperty("associativity")){if("left"===v.associativity)return"left";if("right"===v.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+v.associativity+"'.")}return null}function a(e,a,o){var r=e,s=a;if("keep"!==o)r=e.getContent(),s=a.getContent();var v=r.getIdentifier(),l=s.getIdentifier(),c=i(r,o);if(null===c)return null;var d=t[c][v];if(d.hasOwnProperty("associativeWith")&&d.associativeWith instanceof Array){for(var n=0;n<d.associativeWith.length;n++)if(d.associativeWith[n]===l)return!0;return!1}return null}module.exports.properties=t,module.exports.getPrecedence=i,module.exports.getAssociativity=e,module.exports.isAssociativeWith=a;
},{}],161:[function(require,module,exports) {
"use strict";var e=require("../../utils/latex");function t(e,t,i,r){var n=i(require("./Node")),o=(i(require("./ArrayNode")),i(require("../../type/matrix/function/matrix")),i(require("./utils/assign"))),s=i(require("./utils/access")),a=(require("../keywords"),require("../operators"));function c(e,t,i){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=i?t:null,this.value=i||t,!e||!e.isSymbolNode&&!e.isAccessorNode)throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(e&&e.isSymbolNode&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!this.index.isIndexNode)throw new TypeError('IndexNode expected as "index"');if(!this.value||!this.value.isNode)throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function h(e,t){t||(t="keep");var i=a.getPrecedence(e,t),r=a.getPrecedence(e.value,t);return"all"===t||null!==r&&r<=i}return c.prototype=new n,c.prototype.type="AssignmentNode",c.prototype.isAssignmentNode=!0,c.prototype._compile=function(e,t){var i;e.assign=o,e.access=s;var r=this.object._compile(e,t),n=this.index?this.index._compile(e,t):null,a=this.value._compile(e,t);if(this.index){if(this.index.isObjectProperty())return r+'["'+this.index.getObjectProperty()+'"] = '+a;if(this.object.isSymbolNode)return"(function () {  var object = "+r+";  var value = "+a+";  "+(i=this.index.needsSize()?"var size = math.size(object).valueOf();":"")+'  scope["'+this.object.name+'"] = assign(object, '+n+", value);  return value;})()";i=this.index.needsSize()?"var size = math.size(object).valueOf();":"";var c=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var h='["'+this.object.index.getObjectProperty()+'"]';return"(function () {  var parent = "+c+";  var object = parent"+h+";  var value = "+a+";"+i+"  parent"+h+" = assign(object, "+n+", value);  return value;})()"}return"(function () {  var parent = "+c+";  "+(this.object.index.needsSize()?"var size = math.size(parent).valueOf();":"")+"  var parentIndex = "+this.object.index._compile(e,t)+";  var object = access(parent, parentIndex);  var value = "+a+";  "+i+"  assign(parent, parentIndex, assign(object, "+n+", value));  return value;})()"}if(!this.object.isSymbolNode)throw new TypeError("SymbolNode expected as object");return'scope["'+this.object.name+'"] = '+a},c.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},c.prototype.map=function(e){return new c(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},c.prototype.clone=function(){return new c(this.object,this.index,this.value)},c.prototype._toString=function(e){var t=this.object.toString(e),i=this.index?this.index.toString(e):"",r=this.value.toString(e);return h(this,e&&e.parenthesis)&&(r="("+r+")"),t+i+" = "+r},c.prototype._toTex=function(e){var t=this.object.toTex(e),i=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return h(this,e&&e.parenthesis)&&(r="\\left("+r+"\\right)"),t+i+":="+r},c}exports.name="AssignmentNode",exports.path="expression.node",exports.factory=t;
},{"../../utils/latex":282,"./Node":168,"./ArrayNode":162,"../../type/matrix/function/matrix":147,"./utils/assign":534,"./utils/access":531,"../keywords":533,"../operators":532}],163:[function(require,module,exports) {
"use strict";function e(e,o,t,r){var n=t(require("./Node")),i=t(require("../../type/resultset/ResultSet"));function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var o=e&&e.node,t=!e||void 0===e.visible||e.visible;if(!o||!o.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof t)throw new TypeError('Property "visible" must be a boolean');return{node:o,visible:t}})}return s.prototype=new n,s.prototype.type="BlockNode",s.prototype.isBlockNode=!0,s.prototype._compile=function(e,o){return e.ResultSet=i,"(function () {var results = [];"+this.blocks.map(function(t){var r=t.node._compile(e,o);return t.visible?"results.push("+r+");":r+";"}).join("")+"return new ResultSet(results);})()"},s.prototype.forEach=function(e){for(var o=0;o<this.blocks.length;o++)e(this.blocks[o].node,"blocks["+o+"].node",this)},s.prototype.map=function(e){for(var o=[],t=0;t<this.blocks.length;t++){var r=this.blocks[t],n=this._ifNode(e(r.node,"blocks["+t+"].node",this));o[t]={node:n,visible:r.visible}}return new s(o)},s.prototype.clone=function(){return new s(this.blocks.map(function(e){return{node:e.node,visible:e.visible}}))},s.prototype._toString=function(e){return this.blocks.map(function(o){return o.node.toString(e)+(o.visible?"":";")}).join("\n")},s.prototype._toTex=function(e){return this.blocks.map(function(o){return o.node.toTex(e)+(o.visible?"":";")}).join("\\;\\;\n")},s}exports.name="BlockNode",exports.path="expression.node",exports.factory=e;
},{"./Node":168,"../../type/resultset/ResultSet":157}],164:[function(require,module,exports) {
"use strict";var t=require("../../utils/latex"),e=require("../operators");function r(t,r,o,i){var n=o(require("./Node"));function s(t,e,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Parameter condition must be a Node");if(!e||!e.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!r||!r.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=r}return s.prototype=new n,s.prototype.type="ConditionalNode",s.prototype.isConditionalNode=!0,s.prototype._compile=function(t,e){return t.testCondition=function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(!0===e.isBigNumber)return!e.isZero();if(!0===e.isComplex)return!(!e.re&&!e.im);if(!0===e.isUnit)return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+t.math.typeof(e)+'"')},"testCondition("+this.condition._compile(t,e)+") ? ( "+this.trueExpr._compile(t,e)+") : ( "+this.falseExpr._compile(t,e)+")"},s.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},s.prototype.clone=function(){return new s(this.condition,this.trueExpr,this.falseExpr)},s.prototype._toString=function(t){var r=t&&t.parenthesis?t.parenthesis:"keep",o=e.getPrecedence(this,r),i=this.condition.toString(t),n=e.getPrecedence(this.condition,r);("all"===r||"OperatorNode"===this.condition.type||null!==n&&n<=o)&&(i="("+i+")");var s=this.trueExpr.toString(t),p=e.getPrecedence(this.trueExpr,r);("all"===r||"OperatorNode"===this.trueExpr.type||null!==p&&p<=o)&&(s="("+s+")");var a=this.falseExpr.toString(t),u=e.getPrecedence(this.falseExpr,r);return("all"===r||"OperatorNode"===this.falseExpr.type||null!==u&&u<=o)&&(a="("+a+")"),i+" ? "+s+" : "+a},s.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},s}exports.name="ConditionalNode",exports.path="expression.node",exports.factory=r;
},{"../../utils/latex":282,"../operators":532,"./Node":168}],165:[function(require,module,exports) {
"use strict";var e=require("../../utils/types").type;function t(t,r,n,o){var i=n(require("./Node"));function u(t,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(r){if("string"!=typeof r)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof t)throw new TypeError('String expected for parameter "value"');this.value=t,this.valueType=r}else this.value=t+"",this.valueType=e(t);if(!a[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var a={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};return u.prototype=new i,u.prototype.type="ConstantNode",u.prototype.isConstantNode=!0,u.prototype._compile=function(e,t){switch(this.valueType){case"number":var r=e.math.config().number;return"BigNumber"===r?'math.bignumber("'+this.value+'")':"Fraction"===r?'math.fraction("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)});case"string":return'"'+this.value+'"';case"boolean":case"undefined":case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},u.prototype.forEach=function(e){},u.prototype.map=function(e){return this.clone()},u.prototype.clone=function(){return new u(this.value,this.valueType)},u.prototype._toString=function(e){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},u.prototype._toTex=function(e){var t,r=this.value;switch(this.valueType){case"string":return'\\mathtt{"'+r+'"}';case"number":return-1!==(t=r.toLowerCase().indexOf("e"))?r.substring(0,t)+"\\cdot10^{"+r.substring(t+1)+"}":r;default:return r}},u}exports.name="ConstantNode",exports.path="expression.node",exports.factory=t;
},{"../../utils/types":152,"./Node":168}],167:[function(require,module,exports) {
"use strict";var e=require("../keywords"),t=require("../../utils/latex"),r=require("../operators");function n(e){return"string"==typeof e}function i(n,i,o,s){var p=o(require("./Node"));function a(t,r,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(r))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n||!n.isNode)throw new TypeError('Node expected for parameter "expr"');if(t in e)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=r.map(function(e){return e&&e.name||e}),this.types=r.map(function(e){return e&&e.type||"any"}),this.expr=n}function h(e,t){var n=r.getPrecedence(e,t),i=r.getPrecedence(e.expr,t);return"all"===t||null!==i&&i<=n}return a.prototype=new p,a.prototype.type="FunctionAssignmentNode",a.prototype.isFunctionAssignmentNode=!0,a.prototype._compile=function(e,t){e.typed=s;var r=Object.create(t);this.params.forEach(function(e){r[e]=!0});var n=this.expr._compile(e,r);return'scope["'+this.name+'"] =   (function () {    var fn = typed("'+this.name+'", {      "'+this.types.join(",")+'": function ('+this.params.join(",")+") {        return "+n+'      }    });    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })()'},a.prototype.forEach=function(e){e(this.expr,"expr",this)},a.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new a(this.name,this.params.slice(0),t)},a.prototype.clone=function(){return new a(this.name,this.params.slice(0),this.expr)},a.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return h(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},a.prototype._toTex=function(e){var r=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return h(this,r)&&(n="\\left("+n+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(t.toSymbol).join(",")+"\\right):="+n},a}exports.name="FunctionAssignmentNode",exports.path="expression.node",exports.factory=i;
},{"../keywords":533,"../../utils/latex":282,"../operators":532,"./Node":168}],173:[function(require,module,exports) {
"use strict";var t=require("../operators");function e(e,r,s,i){var n=s(require("./Node"));function o(t,e,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Node expected");if(!e||!e.isNode)throw new TypeError("Node expected");if(r&&(!r||!r.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=r||null}function p(e,r){var s=t.getPrecedence(e,r),i={},n=t.getPrecedence(e.start,r);if(i.start=null!==n&&n<=s||"all"===r,e.step){var o=t.getPrecedence(e.step,r);i.step=null!==o&&o<=s||"all"===r}var p=t.getPrecedence(e.end,r);return i.end=null!==p&&p<=s||"all"===r,i}return o.prototype=new n,o.prototype.type="RangeNode",o.prototype.isRangeNode=!0,o.prototype.needsEnd=function(){return this.filter(function(t){return t&&t.isSymbolNode&&"end"==t.name}).length>0},o.prototype._compile=function(t,e){return"math.range("+this.start._compile(t,e)+", "+this.end._compile(t,e)+(this.step?", "+this.step._compile(t,e):"")+")"},o.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},o.prototype.map=function(t){return new o(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},o.prototype.clone=function(){return new o(this.start,this.end,this.step&&this.step)},o.prototype._toString=function(t){var e,r=p(this,t&&t.parenthesis?t.parenthesis:"keep"),s=this.start.toString(t);if(r.start&&(s="("+s+")"),e=s,this.step){var i=this.step.toString(t);r.step&&(i="("+i+")"),e+=":"+i}var n=this.end.toString(t);return r.end&&(n="("+n+")"),e+=":"+n},o.prototype._toTex=function(t){var e=p(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left("+r+"\\right)"),this.step){var s=this.step.toTex(t);e.step&&(s="\\left("+s+"\\right)"),r+=":"+s}var i=this.end.toTex(t);return e.end&&(i="\\left("+i+"\\right)"),r+=":"+i},o}exports.name="RangeNode",exports.path="expression.node",exports.factory=e;
},{"../operators":532,"./Node":168}],174:[function(require,module,exports) {
"use strict";var e=require("../../utils/latex"),t=require("../../utils/customs").getSafeValue;function n(n,o,r,i,a){var s=r(require("./Node")),p=r(require("../../type/unit/Unit"));function u(e){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}function m(e){throw new Error("Undefined symbol "+e)}return u.prototype=new s,u.prototype.type="SymbolNode",u.prototype.isSymbolNode=!0,u.prototype._compile=function(e,n){return e.undef=m,e.Unit=p,e.getSafeValue=t,n[this.name]?this.name:this.name in e.math?'getSafeValue("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'getSafeValue("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(p.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},u.prototype.forEach=function(e){},u.prototype.map=function(e){return this.clone()},u.prototype.clone=function(){return new u(this.name)},u.prototype._toString=function(e){return this.name},u.prototype._toTex=function(t){var n=!1;void 0===a[this.name]&&p.isValuelessUnit(this.name)&&(n=!0);var o=e.toSymbol(this.name,n);return"\\"===o[0]?o:" "+o},u}exports.name="SymbolNode",exports.path="expression.node",exports.math=!0,exports.factory=n;
},{"../../utils/latex":282,"../../utils/customs":530,"./Node":168,"../../type/unit/Unit":176}],166:[function(require,module,exports) {
"use strict";function e(e,t,n,o){var i=n(require("./Node")),r=(n(require("./RangeNode")),n(require("./SymbolNode")),n(require("../../type/matrix/Range"))),s=Array.isArray;function p(e,t){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!s(e)||!e.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}return p.prototype=new i,p.prototype.type="IndexNode",p.prototype.isIndexNode=!0,p.prototype._compile=function(e,t){var n=Object.create(t);return e.range=function(e,t,n){return new r(e&&!0===e.isBigNumber?e.toNumber():e,t&&!0===t.isBigNumber?t.toNumber():t,n&&!0===n.isBigNumber?n.toNumber():n)},"math.index("+this.dimensions.map(function(t,o){return t&&t.isRangeNode?t.needsEnd()?(n.end=!0,"(function () {var end = size["+o+"]; return range("+t.start._compile(e,n)+", "+t.end._compile(e,n)+", "+(t.step?t.step._compile(e,n):"1")+"); })()"):"range("+t.start._compile(e,n)+", "+t.end._compile(e,n)+", "+(t.step?t.step._compile(e,n):"1")+")":t.isSymbolNode&&"end"===t.name?(n.end=!0,"(function () {var end = size["+o+"]; return "+t._compile(e,n)+"; })()"):t._compile(e,n)}).join(", ")+")"},p.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},p.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new p(t)},p.prototype.clone=function(){return new p(this.dimensions.slice(0))},p.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&this.dimensions[0].isConstantNode&&"string"===this.dimensions[0].valueType},p.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},p.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},p.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},p.prototype.needsSize=function(){return this.dimensions.some(function(e){return e.isRangeNode&&e.needsEnd()||e.isSymbolNode&&"end"===e.name})},p}exports.name="IndexNode",exports.path="expression.node",exports.factory=e;
},{"./Node":168,"./RangeNode":173,"./SymbolNode":174,"../../type/matrix/Range":144}],170:[function(require,module,exports) {
"use strict";var r=require("../../utils/string");function t(r,t,e,o){var i=e(require("./Node"));function p(r){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=r||{},r&&("object"!=typeof r||Object.keys(r).some(function(t){return!r[t]||!r[t].isNode})))throw new TypeError("Object containing Nodes expected")}return p.prototype=new i,p.prototype.type="ObjectNode",p.prototype.isObjectNode=!0,p.prototype._compile=function(r,t){var e=[];for(var o in this.properties)this.properties.hasOwnProperty(o)&&e.push('"'+o+'": '+this.properties[o]._compile(r,t));return"{"+e.join(", ")+"}"},p.prototype.forEach=function(r){for(var t in this.properties)this.properties.hasOwnProperty(t)&&r(this.properties[t],'properties["'+t+'"]',this)},p.prototype.map=function(r){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this._ifNode(r(this.properties[e],'properties["'+e+'"]',this)));return new p(t)},p.prototype.clone=function(){var r={};for(var t in this.properties)this.properties.hasOwnProperty(t)&&(r[t]=this.properties[t]);return new p(r)},p.prototype._toString=function(r){var t=[];for(var e in this.properties)this.properties.hasOwnProperty(e)&&t.push('"'+e+'": '+this.properties[e].toString(r));return"{"+t.join(", ")+"}"},p.prototype._toTex=function(r){var t=[];for(var e in this.properties)this.properties.hasOwnProperty(e)&&t.push("\\mathbf{"+e+":} & "+this.properties[e].toTex(r)+"\\\\");return"\\left\\{\\begin{array}{ll}"+t.join("\n")+"\\end{array}\\right\\}"},p}exports.name="ObjectNode",exports.path="expression.node",exports.factory=t;
},{"../../utils/string":151,"./Node":168}],169:[function(require,module,exports) {
"use strict";var e=require("../../utils/latex"),t=require("../../utils/object").extend,r=require("../../utils/customs").getSafeValue;function n(n,o,i,s,a){var h=i(require("./Node")),p=i(require("./SymbolNode"));function c(e,t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new p(e)),!e||!e.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var r=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}c.prototype=new h,c.prototype.type="FunctionNode",c.prototype.isFunctionNode=!0,c.prototype._compile=function(e,t){var n,o=this.fn._compile(e,t),i=this.args.map(function(r){return r._compile(e,t)}),s=this._compileScope(e,t);if(this.fn.isSymbolNode){var a=this.fn.name,h=e.math[a];return"function"==typeof h&&1==h.rawArgs?(n=this._getUniqueArgumentsName(e),e[n]=this.args,o+"("+n+", math, "+s+")"):o+"("+i.join(", ")+")"}if(this.fn.isAccessorNode&&this.fn.index.isObjectProperty()){n=this._getUniqueArgumentsName(e),e[n]=this.args,e.getSafeValue=r;var p=this.fn.object._compile(e,t),c=this.fn.index.getObjectProperty();return"(function () {var object = "+p+';var value = getSafeValue(object["'+c+'"]);return (value && value.rawArgs)  ? object["'+c+'"]('+n+", math, "+s+') : object["'+c+'"]('+i.join(", ")+")})()"}return n=this._getUniqueArgumentsName(e),e[n]=this.args,"(function () {var fn = "+o+";return (fn && fn.rawArgs)  ? fn("+n+", math, "+s+") : fn("+i.join(", ")+")})()"},c.prototype._compileScope=function(e,r){var n=Object.keys(r);return 0===n.length?"scope":(e.extend=t,"extend(extend({}, scope), {"+n.map(function(e){return'"'+e+'": '+e}).join(", ")+"})")},c.prototype._getUniqueArgumentsName=function(e){var t,r=0;do{t="args"+r,r++}while(t in e);return t},c.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},c.prototype.map=function(e){for(var t=this.fn.map(e),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new c(t,r)},c.prototype.clone=function(){return new c(this.fn,this.args.slice(0))};var f=c.prototype.toString;function u(e,t,r){for(var n,o="",i=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),s=0;null!==(n=i.exec(e));)if(o+=e.substring(s,n.index),s=n.index,"$$"===n[0])o+="$",s++;else{s+=n[0].length;var a=t[n[1]];if(!a)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof a){case"string":o+=a;break;case"object":if(a.isNode)o+=a.toTex(r);else{if(!Array.isArray(a))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");o+=a.map(function(e,t){if(e&&e.isNode)return e.toTex(r);throw new TypeError("Template: "+n[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else{if(!a[n[2]]||!a[n[2]].isNode)throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");o+=a[n[2]].toTex(r)}}return o+=e.slice(s)}c.prototype.toString=function(e){var t,r=this.fn.toString(e);return e&&"object"==typeof e.handler&&e.handler.hasOwnProperty(r)&&(t=e.handler[r](this,e)),void 0!==t?t:f.call(this,e)},c.prototype._toString=function(e){var t=this.args.map(function(t){return t.toString(e)});return this.fn.toString(e)+"("+t.join(", ")+")"};var g=c.prototype.toTex;return c.prototype.toTex=function(e){var t;return e&&"object"==typeof e.handler&&e.handler.hasOwnProperty(this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:g.call(this,e)},c.prototype._toTex=function(t){var r,n,o=this.args.map(function(e){return e.toTex(t)});switch(!a[this.name]||"function"!=typeof a[this.name].toTex&&"object"!=typeof a[this.name].toTex&&"string"!=typeof a[this.name].toTex||(r=a[this.name].toTex),typeof r){case"function":n=r(this,t);break;case"string":n=u(r,this,t);break;case"object":switch(typeof r[o.length]){case"function":n=r[o.length](this,t);break;case"string":n=u(r[o.length],this,t)}}return void 0!==n?n:u(e.defaultTemplate,this,t)},c.prototype.getIdentifier=function(){return this.type+":"+this.name},c}exports.name="FunctionNode",exports.path="expression.node",exports.math=!0,exports.factory=n;
},{"../../utils/latex":282,"../../utils/object":86,"../../utils/customs":530,"./Node":168,"./SymbolNode":174}],171:[function(require,module,exports) {
"use strict";var t=require("../../utils/latex"),e=require("../operators");function r(r,i,n,o,s){var a=n(require("./Node"));n(require("./ConstantNode")),n(require("./SymbolNode")),n(require("./FunctionNode"));function p(t,e,r,i){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=r||[]}function h(t,r,i,n){var o=e.getPrecedence(t,r),s=e.getAssociativity(t,r);if("all"===r||i.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return i.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});if(0===i.length)return[];if(1===i.length){var a=e.getPrecedence(i[0],r);if(n&&null!==a){var p;if("keep"===r?(p=i[0].getIdentifier(),l=t.getIdentifier()):(p=i[0].getContent().getIdentifier(),l=t.getContent().getIdentifier()),!1===e.properties[o][l].latexLeftParens)return[!1];if(!1===e.properties[a][p].latexParens)return[!1]}return null===a?[!1]:a<=o?[!0]:[!1]}if(2===i.length){var h,f,g=e.getPrecedence(i[0],r),d=e.isAssociativeWith(t,i[0],r);h=null!==g&&(g===o&&"right"===s&&!d||g<o);var l,u,c,m=e.getPrecedence(i[1],r),y=e.isAssociativeWith(t,i[1],r);if(f=null!==m&&(m===o&&"left"===s&&!y||m<o),n)"keep"===r?(l=t.getIdentifier(),u=t.args[0].getIdentifier(),c=t.args[1].getIdentifier()):(l=t.getContent().getIdentifier(),u=t.args[0].getContent().getIdentifier(),c=t.args[1].getContent().getIdentifier()),null!==g&&(!1===e.properties[o][l].latexLeftParens&&(h=!1),!1===e.properties[g][u].latexParens&&(h=!1)),null!==m&&(!1===e.properties[o][l].latexRightParens&&(f=!1),!1===e.properties[m][c].latexParens&&(f=!1));return[h,f]}return i.length>2&&("OperatorNode:add"===t.getIdentifier()||"OperatorNode:multiply"===t.getIdentifier())?i.map(function(i){var n=e.getPrecedence(i,r),a=e.isAssociativeWith(t,i,r),p=e.getAssociativity(i,r);return null!==n&&(o===n&&s===p&&!a||n<o)}):void 0}return p.prototype=new a,p.prototype.type="OperatorNode",p.prototype.isOperatorNode=!0,p.prototype._compile=function(t,e){if(!t.math[this.fn])throw new Error("Function "+this.fn+' missing in provided namespace "math"');var r=this.args.map(function(r){return r._compile(t,e)});return"math."+this.fn+"("+r.join(", ")+")"},p.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},p.prototype.map=function(t){for(var e=[],r=0;r<this.args.length;r++)e[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new p(this.op,this.fn,e)},p.prototype.clone=function(){return new p(this.op,this.fn,this.args.slice(0),this.implicit)},p.prototype._toString=function(t){var r=t&&t.parenthesis?t.parenthesis:"keep",i=t&&t.implicit?t.implicit:"hide",n=this.args,o=h(this,r,n,!1);if(1===n.length){var s=e.getAssociativity(this,r),a=n[0].toString(t);return o[0]&&(a="("+a+")"),"right"===s?this.op+a:a+this.op}if(2==n.length){var p=n[0].toString(t),f=n[1].toString(t);return o[0]&&(p="("+p+")"),o[1]&&(f="("+f+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==i?p+" "+f:p+" "+this.op+" "+f}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var g=n.map(function(e,r){return e=e.toString(t),o[r]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===i?g.join(" "):g.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},p.prototype._toTex=function(r){var i=r&&r.parenthesis?r.parenthesis:"keep",n=r&&r.implicit?r.implicit:"hide",o=this.args,s=h(this,i,o,!0),a=t.operators[this.fn];if(a=void 0===a?this.op:a,1===o.length){var p=e.getAssociativity(this,i),f=o[0].toTex(r);return s[0]&&(f="\\left("+f+"\\right)"),"right"===p?a+f:f+a}if(2===o.length){var g=o[0],d=g.toTex(r);s[0]&&(d="\\left("+d+"\\right)");var l,u=o[1].toTex(r);switch(s[1]&&(u="\\left("+u+"\\right)"),l="keep"===i?g.getIdentifier():g.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+d+"}{"+u+"}";case"OperatorNode:pow":switch(d="{"+d+"}",u="{"+u+"}",l){case"ConditionalNode":case"OperatorNode:divide":d="\\left("+d+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return d+"~"+u}return d+a+u}if(o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var c=o.map(function(t,e){return t=t.toTex(r),s[e]&&(t="\\left("+t+"\\right)"),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?c.join("~"):c.join(a)}return"\\mathrm{"+this.fn+"}\\left("+o.map(function(t){return t.toTex(r)}).join(",")+"\\right)"},p.prototype.getIdentifier=function(){return this.type+":"+this.fn},p}exports.name="OperatorNode",exports.path="expression.node",exports.math=!0,exports.factory=r;
},{"../../utils/latex":282,"../operators":532,"./Node":168,"./ConstantNode":165,"./SymbolNode":174,"./FunctionNode":169}],172:[function(require,module,exports) {
"use strict";function t(t,e,n,o){var r=n(require("./Node"));function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "content"');this.content=t}return i.prototype=new r,i.prototype.type="ParenthesisNode",i.prototype.isParenthesisNode=!0,i.prototype._compile=function(t,e){return this.content._compile(t,e)},i.prototype.getContent=function(){return this.content.getContent()},i.prototype.forEach=function(t){t(this.content,"content",this)},i.prototype.map=function(t){return new i(t(this.content,"content",this))},i.prototype.clone=function(){return new i(this.content)},i.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},i.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left("+this.content.toTex(t)+"\\right)":this.content.toTex(t)},i}exports.name="ParenthesisNode",exports.path="expression.node",exports.factory=t;
},{"./Node":168}],108:[function(require,module,exports) {
"use strict";var e=require("../error/ArgumentsError"),r=require("../utils/collection/deepMap");function n(n,t,i,o){var u=i(require("./node/AccessorNode")),f=i(require("./node/ArrayNode")),a=i(require("./node/AssignmentNode")),s=i(require("./node/BlockNode")),c=i(require("./node/ConditionalNode")),d=i(require("./node/ConstantNode")),l=i(require("./node/FunctionAssignmentNode")),h=i(require("./node/IndexNode")),w=i(require("./node/ObjectNode")),D=i(require("./node/OperatorNode")),p=i(require("./node/ParenthesisNode")),m=i(require("./node/FunctionNode")),v=i(require("./node/RangeNode")),g=i(require("./node/SymbolNode"));function x(t,i){if(1!=arguments.length&&2!=arguments.length)throw new e("parse",arguments.length,1,2);if(M=i&&i.nodes?i.nodes:{},"string"==typeof t)return y=t,Y();if(Array.isArray(t)||t instanceof n.Matrix)return r(t,function(e){if("string"!=typeof e)throw new TypeError("String expected");return y=e,Y()});throw new TypeError("String or matrix expected")}var E={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},N={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},M={},y="",C="",L=0,b="",S="",I=E.NULL,q=0,O=null;function B(){L++,b=y.charAt(L)}function F(){return y.charAt(L-1)}function R(){return y.charAt(L+1)}function T(){for(I=E.NULL,S="",C="";x.isWhitespace(b,q);)B();if("#"==b)for(;"\n"!=b&&""!=b;)C+=b,B();if(""!=b){if("\n"==b&&!q)return I=E.DELIMITER,S=b,void B();var e=b+R(),r=e+y.charAt(L+2);if(3==r.length&&N[r])return I=E.DELIMITER,S=r,B(),B(),void B();if(2==e.length&&N[e])return I=E.DELIMITER,S=e,B(),void B();if(N[b])return I=E.DELIMITER,S=b,void B();if(x.isDigitDot(b)){if(I=E.NUMBER,"."==b)S+=b,B(),x.isDigit(b)||(I=E.DELIMITER);else{for(;x.isDigit(b);)S+=b,B();x.isDecimalMark(b,R())&&(S+=b,B())}for(;x.isDigit(b);)S+=b,B();if(e=R(),"E"==b||"e"==b)if(x.isDigit(e)||"-"==e||"+"==e){if(S+=b,B(),"+"!=b&&"-"!=b||(S+=b,B()),!x.isDigit(b))throw ie('Digit expected, got "'+b+'"');for(;x.isDigit(b);)S+=b,B();if(x.isDecimalMark(b,R()))throw ie('Digit expected, got "'+b+'"')}else if("."==e)throw B(),ie('Digit expected, got "'+b+'"')}else{if(!x.isAlpha(b,F(),R())){for(I=E.UNKNOWN;""!=b;)S+=b,B();throw ie('Syntax error in part "'+S+'"')}for(;x.isAlpha(b,F(),R())||x.isDigit(b);)S+=b,B();I=A.hasOwnProperty(S)?E.DELIMITER:E.SYMBOL}}else I=E.DELIMITER}function U(){do{T()}while("\n"==S)}function k(){q++}function P(){q--}function Y(){L=0,b=y.charAt(0),q=0,O=null,T();var e=function(){var e,r,n=[];""!=S&&"\n"!=S&&";"!=S&&((e=V()).comment=C);for(;"\n"==S||";"==S;)0==n.length&&e&&(r=";"!=S,n.push({node:e,visible:r})),T(),"\n"!=S&&";"!=S&&""!=S&&((e=V()).comment=C,r=";"!=S,n.push({node:e,visible:r}));return n.length>0?new s(n):(e||((e=new d("undefined","undefined")).comment=C),e)}();if(""!=S)throw I==E.DELIMITER?oe("Unexpected operator "+S):ie('Unexpected part "'+S+'"');return e}function V(){var e,r,n,t,i=function(){var e=function(){var e=j();for(;"or"==S;)U(),e=new D("or","or",[e,j()]);return e}();for(;"?"==S;){var r=O;O=q,U();var n=e,t=V();if(":"!=S)throw ie("False part of conditional expression expected");O=null,U();var i=V();e=new c(n,t,i),O=r}return e}();if("="==S){if(i&&i.isSymbolNode)return e=i.name,U(),n=V(),new a(new g(e),n);if(i&&i.isAccessorNode)return U(),n=V(),new a(i.object,i.index,n);if(i&&i.isFunctionNode&&(t=!0,r=[],e=i.name,i.args.forEach(function(e,n){e&&e.isSymbolNode?r[n]=e.name:t=!1}),t))return U(),n=V(),new l(e,r,n);throw ie("Invalid left hand side of assignment operator =")}return i}function j(){for(var e=W();"xor"==S;)U(),e=new D("xor","xor",[e,W()]);return e}function W(){for(var e=$();"and"==S;)U(),e=new D("and","and",[e,$()]);return e}function $(){for(var e=G();"|"==S;)U(),e=new D("|","bitOr",[e,G()]);return e}function G(){for(var e=K();"^|"==S;)U(),e=new D("^|","bitXor",[e,K()]);return e}function K(){for(var e=z();"&"==S;)U(),e=new D("&","bitAnd",[e,z()]);return e}function z(){var e,r,n,t,i;for(e=X(),r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};S in r;)t=r[n=S],U(),i=[e,X()],e=new D(n,t,i);return e}function X(){var e,r,n,t,i;for(e=Z(),r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};S in r;)t=r[n=S],U(),i=[e,Z()],e=new D(n,t,i);return e}function Z(){var e,r,n,t,i;for(e=_(),r={to:"to",in:"to"};S in r;)t=r[n=S],U(),"in"===n&&""===S?e=new D("*","multiply",[e,new g("in")],!0):(i=[e,_()],e=new D(n,t,i));return e}function _(){var e,r=[];if(e=":"==S?new d("1","number"):H(),":"==S&&O!==q){for(r.push(e);":"==S&&r.length<3;)U(),")"==S||"]"==S||","==S||""==S?r.push(new g("end")):r.push(H());e=3==r.length?new v(r[0],r[2],r[1]):new v(r[0],r[1])}return e}function H(){var e,r,n,t,i;for(e=J(),r={"+":"add","-":"subtract"};S in r;)t=r[n=S],U(),i=[e,J()],e=new D(n,t,i);return e}function J(){var e,r,n,t,i;for(r=e=Q(),n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(S in n)i=n[t=S],U(),r=Q(),e=new D(t,i,[e,r]);else{if(!(I==E.SYMBOL||"in"==S&&e&&e.isConstantNode)&&(I!=E.NUMBER||r.isConstantNode||r.isOperatorNode&&"!"!==r.op)&&"("!=S)break;r=Q(),e=new D("*","multiply",[e,r],!0)}return e}function Q(){var e,r,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[S];return n?(e=S,U(),r=[Q()],new D(e,n,r)):function(){var e,r,n,t;e=function(){var e,r,n,t;for(e=function(){var e,r,n,t=[];if(I==E.SYMBOL&&M[S]){if(e=M[S],T(),"("==S){if(t=[],k(),T(),")"!=S)for(t.push(V());","==S;)T(),t.push(V());if(")"!=S)throw ie("Parenthesis ) expected");P(),T()}return new e(t)}return I==E.SYMBOL||I==E.DELIMITER&&S in A?(r=S,T(),ee(new g(r))):'"'==S?(n=re(),ee(new d(n,"string"))):function(){var e,r,n,t;if("["==S){if(k(),T(),"]"!=S){var i=ne();if(";"==S){for(n=1,r=[i];";"==S;)T(),r[n]=ne(),n++;if("]"!=S)throw ie("End of matrix ] expected");P(),T(),t=r[0].items.length;for(var o=1;o<n;o++)if(r[o].items.length!=t)throw oe("Column dimensions mismatch ("+r[o].items.length+" != "+t+")");e=new f(r)}else{if("]"!=S)throw ie("End of matrix ] expected");P(),T(),e=i}}else P(),T(),e=new f([]);return ee(e)}return function(){if("{"==S){var e,r={};do{if(T(),"}"!=S){if('"'==S)e=re();else{if(I!=E.SYMBOL)throw ie("Symbol or string expected as object key");e=S,T()}if(":"!=S)throw ie("Colon : expected after object key");T(),r[e]=V()}}while(","==S);if("}"!=S)throw ie("Comma , or bracket } expected after object value");T();var n=new w(r);return n=ee(n)}return I==E.NUMBER?(t=S,T(),new d(t,"number")):function(){var e;if("("==S){if(k(),T(),e=V(),")"!=S)throw ie("Parenthesis ) expected");return P(),T(),e=ee(e=new p(e))}return function(){throw ie(""==S?"Unexpected end of expression":"Value expected")}()}();var t}()}()}(),r={"!":"factorial","'":"transpose"};S in r;)t=r[n=S],T(),e=ee(e=new D(n,t,[e]));return e}(),("^"==S||".^"==S)&&(n="^"==(r=S)?"pow":"dotPow",U(),t=[e,Q()],e=new D(r,n,t));return e}()}function ee(e,r){for(var n;!("("!=S&&"["!=S&&"."!=S||r&&-1===r.indexOf(S));)if(n=[],"("==S){if(!(e.isSymbolNode||e.isAccessorNode||e.isFunctionNode))return e;if(k(),T(),")"!=S)for(n.push(V());","==S;)T(),n.push(V());if(")"!=S)throw ie("Parenthesis ) expected");P(),T(),e=new m(e,n)}else if("["==S){if(k(),T(),"]"!=S)for(n.push(V());","==S;)T(),n.push(V());if("]"!=S)throw ie("Parenthesis ] expected");P(),T(),e=new u(e,new h(n))}else{if(T(),I!=E.SYMBOL)throw ie("Property name expected after dot");n.push(new d(S)),T();e=new u(e,new h(n,!0))}return e}function re(){for(var e="";""!=b&&'"'!=b;)"\\"==b&&(e+=b,B()),e+=b,B();if(T(),'"'!=S)throw ie('End of string " expected');return T(),e}function ne(){for(var e=[V()],r=1;","==S;)T(),e[r]=V(),r++;return new f(e)}function te(){return L-S.length+1}function ie(e){var r=te(),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function oe(e){var r=te(),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(e,r,n){return x.isValidLatinOrGreek(e)||x.isValidMathSymbol(e,n)||x.isValidMathSymbol(r,e)},x.isValidLatinOrGreek=function(e){return/^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},x.isValidMathSymbol=function(e,r){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(r)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(r)},x.isWhitespace=function(e,r){return" "==e||"\t"==e||"\n"==e&&r>0},x.isDecimalMark=function(e,r){return"."==e&&"/"!==r&&"*"!==r&&"^"!==r},x.isDigitDot=function(e){return e>="0"&&e<="9"||"."==e},x.isDigit=function(e){return e>="0"&&e<="9"},x}exports.name="parse",exports.path="expression",exports.factory=n;
},{"../error/ArgumentsError":98,"../utils/collection/deepMap":132,"./node/AccessorNode":160,"./node/ArrayNode":162,"./node/AssignmentNode":161,"./node/BlockNode":163,"./node/ConditionalNode":164,"./node/ConstantNode":165,"./node/FunctionAssignmentNode":167,"./node/IndexNode":166,"./node/ObjectNode":170,"./node/OperatorNode":171,"./node/ParenthesisNode":172,"./node/FunctionNode":169,"./node/RangeNode":173,"./node/SymbolNode":174}],315:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,i,n){var o=i(require("../parse"));return n("compile",{string:function(r){return o(r).compile()},"Array | Matrix":function(e){return r(e,function(r){return o(r).compile()})}})}exports.name="compile",exports.factory=e;
},{"../../utils/collection/deepMap":132,"../parse":108}],316:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,n,i){var c=n(require("../parse"));return i("compile",{string:function(r){return c(r).compile().eval({})},"string, Object":function(r,e){return c(r).compile().eval(e)},"Array | Matrix":function(e){var t={};return r(e,function(r){return c(r).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return r(e,function(r){return c(r).compile().eval(t)})}})}exports.name="eval",exports.factory=e;
},{"../../utils/collection/deepMap":132,"../parse":108}],317:[function(require,module,exports) {
"use strict";function r(r,e,n,o,t){var a=n(require("../docs"));return o("help",{any:function(e){var n,o=e;if("string"!=typeof e)for(n in t)if(t.hasOwnProperty(n)&&e===t[n]){o=n;break}var i=a[o];if(!i)throw new Error('No documentation found on "'+o+'"');return new r.Help(i)}})}exports.math=!0,exports.name="help",exports.factory=r;
},{"../docs":111}],318:[function(require,module,exports) {
"use strict";function r(r,t,e,a){var s=e(require("../parse"));return a("parse",{"string | Array | Matrix":s,"string | Array | Matrix, Object":s})}exports.name="parse",exports.factory=r;
},{"../parse":108}],110:[function(require,module,exports) {
"use strict";var e=require("../utils/object").extend;function t(t,r,o,s,p){var n=o(require("./parse"));function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return i.prototype.type="Parser",i.prototype.isParser=!0,i.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},i.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},i.prototype.eval=function(e){return n(e).compile().eval(this.scope)},i.prototype.get=function(e){return this.scope[e]},i.prototype.getAll=function(){return e({},this.scope)},i.prototype.set=function(e,t){return this.scope[e]=t},i.prototype.remove=function(e){delete this.scope[e]},i.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},i}exports.name="Parser",exports.path="expression",exports.factory=t,exports.math=!0;
},{"../utils/object":86,"./parse":108}],281:[function(require,module,exports) {
"use strict";function r(r,e,t,n,s){var a=t(require("../Parser"));return n("parser",{"":function(){return new a(s)}})}exports.name="parser",exports.factory=r,exports.math=!0;
},{"../Parser":110}],112:[function(require,module,exports) {
module.exports=[require("./compile"),require("./eval"),require("./help"),require("./parse"),require("./parser")];
},{"./compile":315,"./eval":316,"./help":317,"./parse":318,"./parser":281}],175:[function(require,module,exports) {
"use strict";function e(e,t,o,r){return function(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}}exports.name="UpdateNode",exports.path="expression.node",exports.factory=e;
},{}],113:[function(require,module,exports) {
module.exports=[require("./AccessorNode"),require("./ArrayNode"),require("./AssignmentNode"),require("./BlockNode"),require("./ConditionalNode"),require("./ConstantNode"),require("./IndexNode"),require("./FunctionAssignmentNode"),require("./FunctionNode"),require("./Node"),require("./ObjectNode"),require("./OperatorNode"),require("./ParenthesisNode"),require("./RangeNode"),require("./SymbolNode"),require("./UpdateNode")];
},{"./AccessorNode":160,"./ArrayNode":162,"./AssignmentNode":161,"./BlockNode":163,"./ConditionalNode":164,"./ConstantNode":165,"./IndexNode":166,"./FunctionAssignmentNode":167,"./FunctionNode":169,"./Node":168,"./ObjectNode":170,"./OperatorNode":171,"./ParenthesisNode":172,"./RangeNode":173,"./SymbolNode":174,"./UpdateNode":175}],191:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").clone,e=require("../../utils/number").isInteger,t=require("../../utils/array"),n=require("../../error/IndexError"),i=require("../../error/DimensionError");function o(o,a,f,s){var c=f(require("../../type/matrix/function/matrix")),l=s("concat",{"...Array | Matrix | number | BigNumber":function(o){var a,f,s=o.length,l=-1,h=!1,g=[];for(a=0;a<s;a++){var m=o[a];if(m&&!0===m.isMatrix&&(h=!0),"number"==typeof m||m&&!0===m.isBigNumber){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(f=l,l=m.valueOf(),!e(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>f)throw new n(l,f+1)}else{var w=r(m).valueOf(),x=t.size(w);if(g[a]=w,f=l,l=x.length-1,a>0&&l!=f)throw new i(f+1,l+1)}}if(0==g.length)throw new SyntaxError("At least one matrix expected");for(var v=g.shift();g.length;)v=u(v,g.shift(),l,0);return h?c(v):v},"...string":function(r){return r.join("")}});return l.toTex=void 0,l}function u(r,e,t,n){if(n<t){if(r.length!=e.length)throw new i(r.length,e.length);for(var o=[],a=0;a<r.length;a++)o[a]=u(r[a],e[a],t,n+1);return o}return r.concat(e)}exports.name="concat",exports.factory=o;
},{"../../utils/object":86,"../../utils/number":134,"../../utils/array":87,"../../error/IndexError":100,"../../error/DimensionError":99,"../../type/matrix/function/matrix":147}],468:[function(require,module,exports) {
"use strict";var r=require("./error.transform").transform;function t(t,n,e,o){var a=e(require("../../function/matrix/concat"));return o("concat",{"...any":function(t){var n=t.length-1,e=t[n];"number"==typeof e?t[n]=e-1:e&&!0===e.isBigNumber&&(t[n]=e.minus(1));try{return a.apply(null,t)}catch(t){throw r(t)}}})}exports.name="concat",exports.path="expression.transform",exports.factory=t;
},{"./error.transform":556,"../../function/matrix/concat":191}],197:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").size,t=require("../../utils/function").maxArgumentCount;function n(r,t,n,o){var u=n(require("../../type/matrix/function/matrix")),a=o("filter",{"Array, function":e,"Array, RegExp":i,"Matrix, function":function(r,t){return u(e(r.toArray(),t))},"Matrix, RegExp":function(r,t){return u(i(r.toArray(),t))}});return a.toTex=void 0,a}function e(n,e){if(1!==r(n).length)throw new Error("Only one dimensional matrices supported");var i=t(e);return n.filter(function(r,t,n){return 1===i?e(r):2===i?e(r,[t]):e(r,[t],n)})}function i(t,n){if(1!==r(t).length)throw new Error("Only one dimensional matrices supported");return t.filter(function(r){return n.test(r)})}exports.name="filter",exports.factory=n;
},{"../../utils/array":87,"../../utils/function":153,"../../type/matrix/function/matrix":147}],470:[function(require,module,exports) {
"use strict";function e(e,r,n,i){var o=n(require("../../function/matrix/filter"));n(require("../node/SymbolNode"));function t(e,r,n){var i,t;if(e[0]&&(i=e[0].compile().eval(n)),e[1])if(e[1]&&e[1].isSymbolNode)t=e[1].compile().eval(n);else{var a=n||{},f=e[1].filter(function(e){return e&&e.isSymbolNode&&!(e.name in r)&&!(e.name in a)})[0],l=Object.create(a),u=e[1].compile();if(!f)throw new Error("No undefined variable found in filter equation");var c=f.name;t=function(e){return l[c]=e,u.eval(l)}}return o(i,t)}return t.rawArgs=!0,t}exports.name="filter",exports.path="expression.transform",exports.factory=e;
},{"../../function/matrix/filter":197,"../node/SymbolNode":174}],199:[function(require,module,exports) {
"use strict";var r=require("../../utils/function").maxArgumentCount;function n(r,n,o,c){var a=c("forEach",{"Array, function":t,"Matrix, function":function(r,n){return r.forEach(n)}});return a.toTex=void 0,a}function t(n,t){var o=r(t),c=function(r,a){Array.isArray(r)?r.forEach(function(r,n){c(r,a.concat(n))}):1===o?t(r):2===o?t(r,a):t(r,a,n)};c(n,[])}exports.name="forEach",exports.factory=n;
},{"../../utils/function":153}],469:[function(require,module,exports) {
"use strict";var r=require("../../utils/function").maxArgumentCount;function t(t,n,o,a){o(require("../../function/matrix/forEach"));return a("forEach",{"Array | Matrix, function":function(t,n){var o=r(n),a=function(r,c){Array.isArray(r)?r.forEach(function(r,t){a(r,c.concat(t+1))}):1===o?n(r):2===o?n(r,c):n(r,c,t)};a(t.valueOf(),[])}})}exports.name="forEach",exports.path="expression.transform",exports.factory=t;
},{"../../utils/function":153,"../../function/matrix/forEach":199}],471:[function(require,module,exports) {
"use strict";function e(e,r,n){return function(){for(var r=[],n=0,t=arguments.length;n<t;n++){var i=arguments[n];if(i&&!0===i.isRange)i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(e){return e-1});else if(i&&(!0===i.isArray||i.isMatrix))i=i.map(function(e){return e-1});else if("number"==typeof i)i--;else if(i&&!0===i.isBigNumber)i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");r[n]=i}var s=new e.Index;return e.Index.apply(s,r),s}}exports.name="index",exports.path="expression.transform",exports.factory=e;
},{}],202:[function(require,module,exports) {
"use strict";var r=require("../../utils/function").maxArgumentCount;function n(r,n,u,a){var o=a("map",{"Array, function":t,"Matrix, function":function(r,n){return r.map(n)}});return o.toTex=void 0,o}function t(n,t){var u=r(t),a=function(r,o){return Array.isArray(r)?r.map(function(r,n){return a(r,o.concat(n))}):1===u?t(r):2===u?t(r,o):t(r,o,n)};return a(n,[])}exports.name="map",exports.factory=n;
},{"../../utils/function":153}],473:[function(require,module,exports) {
"use strict";var r=require("../../utils/function").maxArgumentCount;function n(r,n,u,e){u(require("../../function/matrix/map"));var i=u(require("../../type/matrix/function/matrix"));return e("max",{"Array, function":function(r,n){return t(r,n,r)},"Matrix, function":function(r,n){return i(t(r.valueOf(),n,r))}})}function t(n,t,u){var e=r(t);return function r(n,i){return Array.isArray(n)?n.map(function(n,t){return r(n,i.concat(t+1))}):1===e?t(n):2===e?t(n,i):t(n,i,u)}(n,[])}exports.name="map",exports.path="expression.transform",exports.factory=n;
},{"../../utils/function":153,"../../function/matrix/map":202,"../../type/matrix/function/matrix":147}],553:[function(require,module,exports) {
"use strict";module.exports=function(r){return Array.isArray(r)||r&&!0===r.isMatrix};
},{}],550:[function(require,module,exports) {
"use strict";module.exports=function r(a,t){a&&!0===a.isMatrix&&(a=a.valueOf());for(var e=0,i=a.length;e<i;e++){var s=a[e];Array.isArray(s)?r(s,t):t(s)}};
},{}],551:[function(require,module,exports) {
"use strict";var r=require("../array").size,e=require("../../error/IndexError");function t(r,e,i){var u,a,o,f;if(e<=0){if(Array.isArray(r[0])){for(f=n(r),a=[],u=0;u<f.length;u++)a[u]=t(f[u],e-1,i);return a}for(o=r[0],u=1;u<r.length;u++)o=i(o,r[u]);return o}for(a=[],u=0;u<r.length;u++)a[u]=t(r[u],e-1,i);return a}function n(r){var e,t,n=r.length,i=r[0].length,u=[];for(t=0;t<i;t++){var a=[];for(e=0;e<n;e++)a.push(r[e][t]);u.push(a)}return u}module.exports=function(n,i,u){var a=Array.isArray(n)?r(n):n.size();if(i<0||i>=a.length)throw new e(i,a.length);return n&&!0===n.isMatrix?n.create(t(n.valueOf(),i,u)):t(n,i,u)};
},{"../array":87,"../../error/IndexError":100}],552:[function(require,module,exports) {
"use strict";var r=require("./isCollection");module.exports=function(e){for(var t=0;t<e.length;t++)if(r(e[t]))return!0;return!1};
},{"./isCollection":553}],225:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepForEach"),e=require("../../utils/collection/reduce"),t=require("../../utils/collection/containsCollections");function n(n,i,o,a){var u=o(require("../relational/larger")),c=a("max",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(r,t){return e(r,t.valueOf(),l)},"...":function(r){if(t(r))throw new TypeError("Scalar values expected in function max");return f(r)}});return c.toTex="\\max\\left(${args}\\right)",c;function l(r,e){return u(r,e)?r:e}function f(e){var t=void 0;if(r(e,function(r){(void 0===t||u(r,t))&&(t=r)}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}}exports.name="max",exports.factory=n;
},{"../../utils/collection/deepForEach":550,"../../utils/collection/reduce":551,"../../utils/collection/containsCollections":552,"../relational/larger":218}],472:[function(require,module,exports) {
"use strict";var r=require("./error.transform").transform,t=require("../../utils/collection/isCollection");function e(e,n,i,o){var s=i(require("../../function/statistics/max"));return o("max",{"...any":function(e){if(2==e.length&&t(e[0])){var n=e[1];"number"==typeof n?e[1]=n-1:n&&!0===n.isBigNumber&&(e[1]=n.minus(1))}try{return s.apply(null,e)}catch(t){throw r(t)}}})}exports.name="max",exports.path="expression.transform",exports.factory=e;
},{"./error.transform":556,"../../utils/collection/isCollection":553,"../../function/statistics/max":225}],193:[function(require,module,exports) {
"use strict";var r=require("../../utils/index"),e=r.object,t=r.string;function n(r,n,i,a){var u=i(require("../../type/matrix/function/matrix")),o=i(require("../arithmetic/add")),s=i(require("../arithmetic/subtract")),c=i(require("../arithmetic/multiply")),f=i(require("../arithmetic/unaryMinus")),l=a("det",{any:function(r){return e.clone(r)},"Array | Matrix":function(r){var n;switch((n=r&&!0===r.isMatrix?r.size():Array.isArray(r)?(r=u(r)).size():[]).length){case 0:return e.clone(r);case 1:if(1==n[0])return e.clone(r.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+t.format(n)+")");case 2:var i=n[0],a=n[1];if(i==a)return function(r,t,n){if(1==t)return e.clone(r[0][0]);if(2==t)return s(c(r[0][0],r[1][1]),c(r[1][0],r[0][1]));for(var i=function(r){var e,t,n=new Array(r.length),i=0;for(e=1;e<r.length;e++)i=o(i,r[e][e]);for(e=0;e<r.length;e++){for(n[e]=new Array(r.length),n[e][e]=f(i),t=0;t<e;t++)n[e][t]=0;for(t=e+1;t<r.length;t++)n[e][t]=r[e][t];e+1<r.length&&(i=s(i,r[e+1][e+1]))}return n},a=r,u=0;u<t-1;u++)a=c(i(a),r);return t%2==0?f(a[0][0]):a[0][0]}(r.clone().valueOf(),i);throw new RangeError("Matrix must be square (size: "+t.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+t.format(n)+")")}}});return l.toTex={1:"\\det\\left(${args[0]}\\right)"},l}exports.name="det",exports.factory=n;
},{"../../utils/index":529,"../../type/matrix/function/matrix":147,"../arithmetic/add":478,"../arithmetic/subtract":513,"../arithmetic/multiply":505,"../arithmetic/unaryMinus":514}],200:[function(require,module,exports) {
"use strict";var r=require("../../utils/index");function e(e,t,i,a){var n=i(require("../../type/matrix/function/matrix")),o=i(require("../arithmetic/divideScalar")),u=i(require("../arithmetic/addScalar")),s=i(require("../arithmetic/multiply")),f=i(require("../arithmetic/unaryMinus")),c=i(require("../matrix/det")),l=i(require("./eye")),m=a("inv",{"Array | Matrix":function(e){var t=!0===e.isMatrix?e.size():r.array.size(e);switch(t.length){case 1:if(1==t[0])return!0===e.isMatrix?n([o(1,e.valueOf()[0])]):[o(1,e[0])];throw new RangeError("Matrix must be square (size: "+r.string.format(t)+")");case 2:var i=t[0],a=t[1];if(i==a)return!0===e.isMatrix?n(v(e.valueOf(),i,a),e.storage()):v(e,i,a);throw new RangeError("Matrix must be square (size: "+r.string.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+r.string.format(t)+")")}},any:function(r){return o(1,r)}});function v(r,e,t){var i,a,n,m,v;if(1==e){if(0==(m=r[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[o(1,m)]]}if(2==e){var x=c(r);if(0==x)throw Error("Cannot calculate inverse, determinant is zero");return[[o(r[1][1],x),o(f(r[0][1]),x)],[o(f(r[1][0]),x),o(r[0][0],x)]]}var h=r.concat();for(i=0;i<e;i++)h[i]=h[i].concat();for(var d=l(e).valueOf(),w=0;w<t;w++){for(i=w;i<e&&0==h[i][w];)i++;if(i==e||0==h[i][w])throw Error("Cannot calculate inverse, determinant is zero");i!=w&&(v=h[w],h[w]=h[i],h[i]=v,v=d[w],d[w]=d[i],d[i]=v);var g=h[w],q=d[w];for(i=0;i<e;i++){var y=h[i],z=d[i];if(i!=w){if(0!=y[w]){for(n=o(f(y[w]),g[w]),a=w;a<t;a++)y[a]=u(y[a],s(n,g[a]));for(a=0;a<t;a++)z[a]=u(z[a],s(n,q[a]))}}else{for(n=g[w],a=w;a<t;a++)y[a]=o(y[a],n);for(a=0;a<t;a++)z[a]=o(z[a],n)}}}return d}return m.toTex={1:"\\left(${args[0]}\\right)^{-1}"},m}exports.name="inv",exports.factory=e;
},{"../../utils/index":529,"../../type/matrix/function/matrix":147,"../arithmetic/divideScalar":547,"../arithmetic/addScalar":488,"../arithmetic/multiply":505,"../arithmetic/unaryMinus":514,"../matrix/det":193,"./eye":196}],492:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").extend;function e(e,t,i,a){var n=i(require("./divideScalar")),u=i(require("./multiply")),s=i(require("../matrix/inv")),c=i(require("../../type/matrix/function/matrix")),o=i(require("../../type/matrix/utils/algorithm11")),x=i(require("../../type/matrix/utils/algorithm14")),y=a("divide",r({"Array | Matrix, Array | Matrix":function(r,e){return u(r,s(e))},"Matrix, any":function(r,e){var t;switch(r.storage()){case"sparse":t=o(r,e,n,!1);break;case"dense":t=x(r,e,n,!1)}return t},"Array, any":function(r,e){return x(c(r),e,n,!1).valueOf()},"any, Array | Matrix":function(r,e){return u(r,s(e))}},n.signatures));return y.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},y}exports.name="divide",exports.factory=e;
},{"../../utils/object":86,"./divideScalar":547,"./multiply":505,"../matrix/inv":200,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm14":541}],226:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").size,e=require("../../utils/collection/deepForEach"),i=require("../../utils/collection/reduce"),t=require("../../utils/collection/containsCollections");function n(n,a,o,u){var c=o(require("../arithmetic/add")),l=o(require("../arithmetic/divide")),s=u("mean",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(e,t){var n=i(e,t,c),a=Array.isArray(e)?r(e):e.size();return l(n,a[t])},"...":function(r){if(t(r))throw new TypeError("Scalar values expected in function mean");return f(r)}});return s.toTex=void 0,s;function f(r){var i=0,t=0;if(e(r,function(r){i=c(i,r),t++}),0===t)throw new Error("Cannot calculate mean of an empty array");return l(i,t)}}exports.name="mean",exports.factory=n;
},{"../../utils/array":87,"../../utils/collection/deepForEach":550,"../../utils/collection/reduce":551,"../../utils/collection/containsCollections":552,"../arithmetic/add":478,"../arithmetic/divide":492}],474:[function(require,module,exports) {
"use strict";var r=require("./error.transform").transform,t=require("../../utils/collection/isCollection");function e(e,n,i,o){var s=i(require("../../function/statistics/mean"));return o("mean",{"...any":function(e){if(2==e.length&&t(e[0])){var n=e[1];"number"==typeof n?e[1]=n-1:n&&!0===n.isBigNumber&&(e[1]=n.minus(1))}try{return s.apply(null,e)}catch(t){throw r(t)}}})}exports.name="mean",exports.path="expression.transform",exports.factory=e;
},{"./error.transform":556,"../../utils/collection/isCollection":553,"../../function/statistics/mean":226}],228:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepForEach"),e=require("../../utils/collection/reduce"),n=require("../../utils/collection/containsCollections");function t(t,i,o,u){var a=o(require("../relational/smaller")),c=u("min",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(r,n){return e(r,n.valueOf(),l)},"...":function(r){if(n(r))throw new TypeError("Scalar values expected in function min");return f(r)}});return c.toTex="\\min\\left(${args}\\right)",c;function l(r,e){return a(r,e)?r:e}function f(e){var n=void 0;if(r(e,function(r){(void 0===n||a(r,n))&&(n=r)}),void 0===n)throw new Error("Cannot calculate min of an empty array");return n}}exports.name="min",exports.factory=t;
},{"../../utils/collection/deepForEach":550,"../../utils/collection/reduce":551,"../../utils/collection/containsCollections":552,"../relational/smaller":220}],475:[function(require,module,exports) {
"use strict";var r=require("./error.transform").transform,t=require("../../utils/collection/isCollection");function n(n,e,i,o){var s=i(require("../../function/statistics/min"));return o("min",{"...any":function(n){if(2==n.length&&t(n[0])){var e=n[1];"number"==typeof e?n[1]=e-1:e&&!0===e.isBigNumber&&(n[1]=e.minus(1))}try{return s.apply(null,n)}catch(t){throw r(t)}}})}exports.name="min",exports.path="expression.transform",exports.factory=n;
},{"./error.transform":556,"../../utils/collection/isCollection":553,"../../function/statistics/min":228}],205:[function(require,module,exports) {
"use strict";function r(r,n,e,u){var t=e(require("../../type/matrix/function/matrix")),i=new r.BigNumber(0),o=new r.BigNumber(1),f=u("range",{string:m,"string, boolean":m,"number, number":function(r,n){return s(b(r,n,1))},"number, number, number":function(r,n,e){return s(b(r,n,e))},"number, number, boolean":function(r,n,e){return s(e?a(r,n,1):b(r,n,1))},"number, number, number, boolean":function(r,n,e,u){return s(u?a(r,n,e):b(r,n,e))},"BigNumber, BigNumber":function(r,n){return s(g(r,n,o))},"BigNumber, BigNumber, BigNumber":function(r,n,e){return s(g(r,n,e))},"BigNumber, BigNumber, boolean":function(r,n,e){return s(e?l(r,n,o):g(r,n,o))},"BigNumber, BigNumber, BigNumber, boolean":function(r,n,e,u){return s(u?l(r,n,e):g(r,n,e))}});return f.toTex=void 0,f;function s(r){return"Array"===n.matrix?r:t(r)}function m(e,u){var t=function(r){var n=r.split(":").map(function(r){return Number(r)});if(n.some(function(r){return isNaN(r)}))return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}(e);if(!t)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===n.number?s((u?l:g)(new r.BigNumber(t.start),new r.BigNumber(t.end),new r.BigNumber(t.step))):s((u?a:b)(t.start,t.end,t.step))}function b(r,n,e){var u=[],t=r;if(e>0)for(;t<n;)u.push(t),t+=e;else if(e<0)for(;t>n;)u.push(t),t+=e;return u}function a(r,n,e){var u=[],t=r;if(e>0)for(;t<=n;)u.push(t),t+=e;else if(e<0)for(;t>=n;)u.push(t),t+=e;return u}function g(r,n,e){var u=[],t=r;if(e.gt(i))for(;t.lt(n);)u.push(t),t=t.plus(e);else if(e.lt(i))for(;t.gt(n);)u.push(t),t=t.plus(e);return u}function l(r,n,e){var u=[],t=r;if(e.gt(i))for(;t.lte(n);)u.push(t),t=t.plus(e);else if(e.lt(i))for(;t.gte(n);)u.push(t),t=t.plus(e);return u}}exports.name="range",exports.factory=r;
},{"../../type/matrix/function/matrix":147}],476:[function(require,module,exports) {
"use strict";function r(r,n,e,t){var a=e(require("../../function/matrix/range"));return t("range",{"...any":function(r){return"boolean"!=typeof r[r.length-1]&&r.push(!0),a.apply(null,r)}})}exports.name="range",exports.path="expression.transform",exports.factory=r;
},{"../../function/matrix/range":205}],477:[function(require,module,exports) {
"use strict";var r=require("./error.transform").transform;function t(t,e,s,n){var o=s(require("../../function/matrix/subset"));return n("subset",{"...any":function(t){try{return o.apply(null,t)}catch(t){throw r(t)}}})}exports.name="subset",exports.path="expression.transform",exports.factory=t;
},{"./error.transform":556,"../../function/matrix/subset":211}],114:[function(require,module,exports) {
module.exports=[require("./concat.transform"),require("./filter.transform"),require("./forEach.transform"),require("./index.transform"),require("./map.transform"),require("./max.transform"),require("./mean.transform"),require("./min.transform"),require("./range.transform"),require("./subset.transform")];
},{"./concat.transform":468,"./filter.transform":470,"./forEach.transform":469,"./index.transform":471,"./map.transform":473,"./max.transform":472,"./mean.transform":474,"./min.transform":475,"./range.transform":476,"./subset.transform":477}],109:[function(require,module,exports) {
"use strict";var t=require("../utils/object"),e=require("../utils/string");function r(r,n,o,i){var a=o(require("./function/parser"))();function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}return s.prototype.type="Help",s.prototype.isHelp=!0,s.prototype.toString=function(){var t=this.doc||{},r="\n";if(t.name&&(r+="Name: "+t.name+"\n\n"),t.category&&(r+="Category: "+t.category+"\n\n"),t.description&&(r+="Description:\n    "+t.description+"\n\n"),t.syntax&&(r+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){r+="Examples:\n";for(var n=0;n<t.examples.length;n++){var o,i=t.examples[n];r+="    "+i+"\n";try{o=a.eval(i)}catch(t){o=t}o&&!o.isHelp&&(r+="        "+e.format(o,{precision:14})+"\n")}r+="\n"}return t.seealso&&(r+="See also: "+t.seealso.join(", ")+"\n"),r},s.prototype.toJSON=function(){var e=t.clone(this.doc);return e.mathjs="Help",e},s.fromJSON=function(t){var e={};for(var r in t)"mathjs"!==r&&(e[r]=t[r]);return new s(e)},s.prototype.valueOf=s.prototype.toString,s}exports.name="Help",exports.path="type",exports.factory=r;
},{"../utils/object":86,"../utils/string":151,"./function/parser":281}],40:[function(require,module,exports) {
module.exports=[require("./docs"),require("./function"),require("./node"),require("./transform"),require("./Help"),require("./parse"),require("./Parser")];
},{"./docs":111,"./function":112,"./node":113,"./transform":114,"./Help":109,"./parse":108,"./Parser":110}],561:[function(require,module,exports) {
"use strict";function r(r,t,n,a,e){var s=e.expression.node.FunctionNode,o=e.expression.node.OperatorNode,i=e.expression.node.SymbolNode,g={add:!0,multiply:!0},f={add:!0,multiply:!0};function u(r,t){if(!r.args||r.args.length<=1)return!0;var n=r.fn.toString();return t&&t.hasOwnProperty(n)&&t[n].hasOwnProperty("associative")?t[n].associative:f[n]||!1}function c(r){var t,n=[],a=function(r){for(var e=0;e<r.args.length;e++){var s=r.args[e];s.isOperatorNode&&t===s.op?a(s):n.push(s)}};return r.isOperatorNode&&u(r)?(t=r.op,a(r),n):r.args}function l(r){return r.isOperatorNode?function(t){try{return new o(r.op,r.fn,t)}catch(r){return[]}}:function(t){return new s(new i(r.name),t)}}return{createMakeNodeFunction:l,isCommutative:function(r,t){if(!r.args||r.args.length<=1)return!0;var n=r.fn.toString();return t&&t.hasOwnProperty(n)&&t[n].hasOwnProperty("commutative")?t[n].commutative:g[n]||!1},isAssociative:u,flatten:function r(t){if(!t.args||0===t.args.length)return t;t.args=c(t);for(var n=0;n<t.args.length;n++)r(t.args[n])},allChildren:c,unflattenr:function r(t){if(t.args&&0!==t.args.length){for(var n=l(t),a=t.args.length,e=0;e<a;e++)r(t.args[e]);if(a>2&&u(t)){for(var s=t.args.pop();t.args.length>0;)s=n([t.args.pop(),s]);t.args=s.args}}},unflattenl:function r(t){if(t.args&&0!==t.args.length){for(var n=l(t),a=t.args.length,e=0;e<a;e++)r(t.args[e]);if(a>2&&u(t)){for(var s=t.args.shift();t.args.length>0;)s=n([s,t.args.shift()]);t.args=s.args}}}}}exports.factory=r,exports.math=!0;
},{}],560:[function(require,module,exports) {
"use strict";var e=require("./../../../utils/number").digits;function n(n,r,t,o,i){var a=t(require("./util")),s=a.isCommutative,u=a.isAssociative,c=a.allChildren,d=a.createMakeNodeFunction,l=i.expression.node.ConstantNode,f=i.expression.node.OperatorNode;function m(e,n){try{return p(i[e].apply(null,n))}catch(r){return n=n.map(function(e){return e.valueOf()}),p(i[e].apply(null,n))}}var N=o({Fraction:function(e){var n,r=e.s*e.n;n=r<0?new f("-","unaryMinus",[new l(-r)]):new l(r);if(1===e.d)return n;return new f("/","divide",[n,new l(e.d)])},number:g,BigNumber:function(e){return g(e._toNumber())},Complex:function(e){throw"Cannot convert Complex number to Node"}}),p=o({Fraction:function(e){return e},BigNumber:function(e){return e.decimalPlaces()<=15?i.fraction(e.toNumber()):e.toNumber()},number:function(n){return e(n)<=15?i.fraction(n):n},Complex:function(n){return 0!==n.im?n:e(n.re)<=15?i.fraction(n.re):n.re}});function g(e){return e<0?new f("-","unaryMinus",[new l(-e)]):new l(e)}function h(e,n,r){return n.reduce(function(n,t){if(n.isNode||t.isNode)n.isNode?t.isNode||(t=N(t)):n=N(n);else{try{return m(e,[n,t])}catch(e){}n=N(n),t=N(t)}return r([n,t])})}function y(e){switch(e.type){case"SymbolNode":return e;case"ConstantNode":return p(e.value);case"FunctionNode":if(i[e.name]&&i[e.name].rawArgs)return e;case"OperatorNode":var n,r,t=e.fn.toString(),o=d(e);if(1===e.args.length)r=(n=[y(e.args[0])])[0].isNode?o(n):m(t,n);else if(u(e))if(n=(n=c(e)).map(y),s(t)){for(var a=[],l=[],f=0;f<n.length;f++)n[f].isNode?l.push(n[f]):a.push(n[f]);a.length>1?(r=h(t,a,o),l.unshift(r),r=h(t,l,o)):r=h(t,n,o)}else r=h(t,n,o);else r=h(t,n=e.args.map(y),o);return r;case"ParenthesisNode":return y(e.content);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"UpdateNode":case"ConditionalNode":default:throw"Unimplemented node type in simplifyConstant: "+e.type}}return function(e){var n=y(e);return n.isNode?n:N(n)}}exports.math=!0,exports.name="simplifyConstant",exports.path="algebra.simplify",exports.factory=n;
},{"./../../../utils/number":134,"./util":561}],481:[function(require,module,exports) {
"use strict";function n(n,e,r,t){var a=r(require("../../expression/parse")),l=r(require("../../expression/node/ConstantNode")),o=r(require("../../expression/node/FunctionNode")),s=r(require("../../expression/node/OperatorNode")),i=r(require("../../expression/node/ParenthesisNode")),f=r(require("../../expression/node/SymbolNode")),u=(r(require("../../expression/node/Node")),r(require("./simplify/simplifyConstant"))),c=r(require("./simplify/util")),p=c.isCommutative,h=c.isAssociative,d=c.flatten,g=c.unflattenr,v=c.unflattenl,m=c.createMakeNodeFunction,x=t("simplify",{string:function(n){return x(a(n),x.rules)},"string, Array":function(n,e){return x(a(n),e)},Node:function(n){return x(n,x.rules)},"Node, Array":function(n,e){e=function(n){for(var e=[],r=0;r<n.length;r++){var t,l=n[r],o=typeof l;switch(o){case"string":var s=l.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+l);l={l:s[0],r:s[1]};case"object":if(t={l:y(a(l.l)),r:y(a(l.r))},l.context&&(t.evaluate=l.context),l.evaluate&&(t.evaluate=a(l.evaluate)),t.l.isOperatorNode&&h(t.l)){var i=m(t.l),u=new f("_p"+N++);t.expanded={},t.expanded.l=i([t.l.clone(),u]),d(t.expanded.l),g(t.expanded.l),t.expanded.r=i([t.r,u])}break;case"function":t=l;break;default:throw TypeError("Unsupported type of rule: "+o)}e.push(t)}return e}(e);for(var r=y(n),t=r.toString({parenthesis:"all"}),l=null;l!=t;){N=0,l=t;for(var o=0;o<e.length;o++)"function"==typeof e[o]?r=e[o](r):(d(r),r=C(r,e[o])),v(r);t=r.toString({parenthesis:"all"})}return r}});function y(n){return n.transform(function(n,e,r){return n.isParenthesisNode?n.content:n})}x.rules=[{l:"n^0",r:"1"},{l:"0*n",r:"0"},{l:"n/n",r:"1"},{l:"n^1",r:"n"},{l:"+n1",r:"n1"},{l:"n--n1",r:"n+n1"},{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*C)",r:"(-c) * C"},{l:"-C",r:"(-1) * C"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},u,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+C",r:"C+c",context:{add:{commutative:!1}}},{l:"C*c",r:"c*C",context:{multiply:{commutative:!1}}},{l:"(-1) * n",r:"-n"},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var N=0;var C=t("applyRule",{"Node, Object":function(n,e){var r=n;if(r instanceof s||r instanceof o){if(r.args)for(var t=0;t<r.args.length;t++)r.args[t]=C(r.args[t],e)}else r instanceof i&&r.content&&(r.content=C(r.content,e));var a=e.r,l=q(e.l,r)[0];return!l&&e.expanded&&(a=e.expanded.r,l=q(e.expanded.l,r)[0]),l&&(r=(r=a.clone()).transform(function(n,e,r){if(n.isSymbolNode&&l.placeholders.hasOwnProperty(n.name))return l.placeholders[n.name].clone();return n})),r}});function w(n,e){var r={placeholders:{}};if(!n.placeholders&&!e.placeholders)return r;if(!n.placeholders)return e;if(!e.placeholders)return n;for(var t in n.placeholders)if(r.placeholders[t]=n.placeholders[t],e.placeholders.hasOwnProperty(t)&&!S(n.placeholders[t],e.placeholders[t]))return null;for(var t in e.placeholders)r.placeholders[t]=e.placeholders[t];return r}function b(n,e){var r,t=[];if(0===n.length||0===e.length)return t;for(var a=0;a<n.length;a++)for(var l=0;l<e.length;l++)(r=w(n[a],e[l]))&&t.push(r);return t}function q(n,e,r){var t=[{placeholders:{}}];if(n instanceof s&&e instanceof s||n instanceof o&&e instanceof o){if(n instanceof s){if(n.op!==e.op||n.fn!==e.fn)return[]}else if(n instanceof o&&n.name!==e.name)return[];if((1!==e.args.length||1!==n.args.length)&&h(e)&&!r){if(e.args.length>=2&&2===n.args.length){var a=function(n,e){var r,t,a=[],l=m(n);if(p(n,e))for(var o=0;o<n.args.length;o++)(t=n.args.slice(0)).splice(o,1),r=1===t.length?t[0]:l(t),a.push(l([n.args[o],r]));else r=1===(t=n.args.slice(1)).length?t[0]:l(t),a.push(l([n.args[0],r]));return a}(e,n.context),i=[];for(d=0;d<a.length;d++){var u=q(n,a[d],!0);i=i.concat(u)}return i}if(n.args.length>2)throw Error("Unexpected non-binary associative function: "+n.toString());return[]}for(var c=[],d=0;d<n.args.length;d++){var g=q(n.args[d],e.args[d]);if(0===g.length)return[];c.push(g)}t=function(n){if(0===n.length)return n;for(var e=n.reduce(b),r=[],t={},a=0;a<e.length;a++){var l=JSON.stringify(e[a]);t[l]||(t[l]=!0,r.push(e[a]))}return r}(c)}else if(n instanceof f){if(0===n.name.length)throw new Error("Symbol in rule has 0 length...!?");if("n"==n.name[0]||"_p"==n.name.substring(0,2))t[0].placeholders[n.name]=e;else if("v"==n.name[0]){if(e.isConstantNode)return[];t[0].placeholders[n.name]=e}else if("C"==n.name[0]){if(e instanceof l)return[];t[0].placeholders[n.name]=e}else{if("c"!=n.name[0])throw new Error("Invalid symbol in rule: "+n.name);if(!(e instanceof l))return[];t[0].placeholders[n.name]=e}}else{if(!(n instanceof l))return[];if(n.value!==e.value)return[]}return t}function S(n,e){if(n instanceof l&&e instanceof l){if(n.value!==e.value)return!1}else if(n instanceof f&&e instanceof f){if(n.name!==e.name)return!1}else{if(!(n instanceof s&&e instanceof s||n instanceof o&&e instanceof o))return!1;if(n instanceof s){if(n.op!==e.op||n.fn!==e.fn)return!1}else if(n instanceof o&&n.name!==e.name)return!1;if(n.args.length!==e.args.length)return!1;for(var r=0;r<n.args.length;r++)if(!S(n.args[r],e.args[r]))return!1}return!0}return x}exports.name="simplify",exports.factory=n;
},{"../../expression/parse":108,"../../expression/node/ConstantNode":165,"../../expression/node/FunctionNode":169,"../../expression/node/OperatorNode":171,"../../expression/node/ParenthesisNode":172,"../../expression/node/SymbolNode":174,"../../expression/node/Node":168,"./simplify/simplifyConstant":560,"./simplify/util":561}],480:[function(require,module,exports) {
"use strict";function e(e,n,r,t){var o=r(require("../../expression/parse")),c=r(require("./simplify")),w=r(require("../../expression/node/ConstantNode")),a=r(require("../../expression/node/FunctionNode")),u=r(require("../../expression/node/OperatorNode")),i=r(require("../../expression/node/ParenthesisNode")),s=(r(require("../../expression/node/SymbolNode")),t("derivative",{"Node, SymbolNode, Object":function(e,n,r){var t={};b(t,e,n.name);var o=m(e,t);return r.simplify?c(o):o},"Node, SymbolNode":function(e,n){return s(e,n,{simplify:!0})},"string, SymbolNode":function(e,n){return s(o(e),n)},"string, SymbolNode, Object":function(e,n,r){return s(o(e),n,r)},"string, string":function(e,n){return s(o(e),o(n))},"string, string, Object":function(e,n,r){return s(o(e),o(n),r)},"Node, string":function(e,n){return s(e,o(n))},"Node, string, Object":function(e,n,r){return s(e,o(n),r)}}));s._simplify=!0,s.toTex=function(e){return l.apply(null,e.args)};var l=t("_derivTex",{"Node, SymbolNode":function(e,n){return l(e.toString(),n.toString(),1)},"Node, SymbolNode, ConstantNode":function(e,n,r){return l(e.toString(),n.name,r.value)},"string, string, number":function(e,n,r){return(1===r?"{d\\over d"+n+"}":"{d^{"+r+"}\\over d"+n+"^{"+r+"}}")+"\\left["+e+"\\right]"}}),b=t("constTag",{"Object, ConstantNode, string":function(e,n){return e[n]=!0},"Object, SymbolNode, string":function(e,n,r){return n.name!=r&&(e[n]=!0)},"Object, ParenthesisNode, string":function(e,n,r){return b(e,n.content,r)},"Object, FunctionAssignmentNode, string":function(e,n,r){return-1==n.params.indexOf(r)?e[n]=!0:b(e,n.expr,r)},"Object, FunctionNode | OperatorNode, string":function(e,n,r){if(0!=n.args.length){for(var t=b(e,n.args[0],r),o=1;o<n.args.length;++o)t=b(e,n.args[o],r)&&t;if(t)return e[n]=!0}return!1}}),m=t("_derivative",{"ConstantNode, Object":function(e){return new w("0",e.valueType)},"SymbolNode, Object":function(e,r){return void 0!==r[e]?new w("0",n.number):new w("1",n.number)},"ParenthesisNode, Object":function(e,n){return new i(m(e.content,n))},"FunctionAssignmentNode, Object":function(e,r){return void 0!==r[e]?new w("0",n.number):m(e.expr,r)},"FunctionNode, Object":function(e,r){if(1!=e.args.length&&function(e){if(("log"==e.name||"nthRoot"==e.name)&&2==e.args.length)return;for(var n=0;n<e.args.length;++n)e.args[n]=new w(0);throw e.compile().eval(),new Error("Expected TypeError, but none found")}(e),void 0!==r[e])return new w("0",n.number);var t,o,c,i,s=e.args[0],l=!1,b=!1;switch(e.name){case"cbrt":l=!0,o=new u("*","multiply",[new w("3",n.number),new u("^","pow",[s,new u("/","divide",[new w("2",n.number),new w("3",n.number)])])]);break;case"sqrt":case"nthRoot":if(1==e.args.length){l=!0,o=new u("*","multiply",[new w("2",n.number),new a("sqrt",[s])]);break}return r[t=new u("/","divide",[new w("1",n.number),e.args[1]])]=r[e.args[1]],m(new u("^","pow",[s,t]),r);case"log10":t=new w("10",n.number);case"log":if(t||1!=e.args.length){if(!t&&void 0===r[e.args[1]])return m(new u("/","divide",[new a("log",[s]),new a("log",[e.args[1]])]),r);o=new u("*","multiply",[s.clone(),new a("log",[t||e.args[1]])])}else o=s.clone();l=!0;break;case"exp":o=new a("exp",[s.clone()]);break;case"sin":o=new a("cos",[s.clone()]);break;case"cos":o=new u("-","unaryMinus",[new a("sin",[s.clone()])]);break;case"tan":o=new u("^","pow",[new a("sec",[s.clone()]),new w("2",n.number)]);break;case"sec":o=new u("*","multiply",[e,new a("tan",[s.clone()])]);break;case"csc":b=!0,o=new u("*","multiply",[e,new a("cot",[s.clone()])]);break;case"cot":b=!0,o=new u("^","pow",[new a("csc",[s.clone()]),new w("2",n.number)]);break;case"asin":l=!0,o=new a("sqrt",[new u("-","subtract",[new w("1",n.number),new u("^","pow",[s.clone(),new w("2",n.number)])])]);break;case"acos":l=!0,b=!0,o=new a("sqrt",[new u("-","subtract",[new w("1",n.number),new u("^","pow",[s.clone(),new w("2",n.number)])])]);break;case"atan":l=!0,o=new u("+","add",[new u("^","pow",[s.clone(),new w("2",n.number)]),new w("1",n.number)]);break;case"asec":l=!0,o=new u("*","multiply",[new a("abs",[s.clone()]),new a("sqrt",[new u("-","subtract",[new u("^","pow",[s.clone(),new w("2",n.number)]),new w("1",n.number)])])]);break;case"acsc":l=!0,b=!0,o=new u("*","multiply",[new a("abs",[s.clone()]),new a("sqrt",[new u("-","subtract",[new u("^","pow",[s.clone(),new w("2",n.number)]),new w("1",n.number)])])]);break;case"acot":l=!0,b=!0,o=new u("+","add",[new u("^","pow",[s.clone(),new w("2",n.number)]),new w("1",n.number)]);break;case"sinh":o=new a("cosh",[s.clone()]);break;case"cosh":o=new a("sinh",[s.clone()]);break;case"tanh":o=new u("^","pow",[new a("sech",[s.clone()]),new w("2",n.number)]);break;case"sech":b=!0,o=new u("*","multiply",[e,new a("tanh",[s.clone()])]);break;case"csch":b=!0,o=new u("*","multiply",[e,new a("coth",[s.clone()])]);break;case"coth":b=!0,o=new u("^","pow",[new a("csch",[s.clone()]),new w("2",n.number)]);break;case"asinh":l=!0,o=new a("sqrt",[new u("+","add",[new u("^","pow",[s.clone(),new w("2",n.number)]),new w("1",n.number)])]);break;case"acosh":l=!0,o=new a("sqrt",[new u("-","subtract",[new u("^","pow",[s.clone(),new w("2",n.number)]),new w("1",n.number)])]);break;case"atanh":l=!0,o=new u("-","subtract",[new w("1",n.number),new u("^","pow",[s.clone(),new w("2",n.number)])]);break;case"asech":l=!0,b=!0,o=new u("*","multiply",[s.clone(),new a("sqrt",[new u("-","subtract",[new w("1",n.number),new u("^","pow",[s.clone(),new w("2",n.number)])])])]);break;case"acsch":l=!0,b=!0,o=new u("*","multiply",[new a("abs",[s.clone()]),new a("sqrt",[new u("+","add",[new u("^","pow",[s.clone(),new w("2",n.number)]),new w("1",n.number)])])]);break;case"acoth":l=!0,b=!0,o=new u("-","subtract",[new w("1",n.number),new u("^","pow",[s.clone(),new w("2",n.number)])]);break;case"gamma":default:throw new Error('Function "'+e.name+'" not supported by derivative')}l?(c="/",i="divide"):(c="*",i="multiply");var d=m(s,r);return b&&(d=new u("-","unaryMinus",[d])),new u(c,i,[d,o])},"OperatorNode, Object":function(e,r){if(void 0!==r[e])return new w("0",n.number);var t=e.args[0],o=e.args[1];switch(e.op){case"+":case"-":return 1==e.args.length?new u(e.op,e.fn,[m(t,r)]):new u(e.op,e.fn,[m(t,r),m(o,r)]);case"*":if(void 0!==r[t]||void 0!==r[o]){var c=void 0!==r[t]?[t.clone(),m(o,r)]:[o.clone(),m(t,r)];return new u("*","multiply",c)}return new u("+","add",[new u("*","multiply",[m(t,r),o.clone()]),new u("*","multiply",[t.clone(),m(o,r)])]);case"/":return void 0!==r[o]?new u("/","divide",[m(t,r),o]):void 0!==r[t]?new u("*","multiply",[new u("-","unaryMinus",[t]),new u("/","divide",[m(o,r),new u("^","pow",[o.clone(),new w("2",n.number)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[m(t,r),o.clone()]),new u("*","multiply",[t.clone(),m(o,r)])]),new u("^","pow",[o.clone(),new w("2",n.number)])]);case"^":if(void 0!==r[t])return!t.isConstantNode||"0"!=t.value&&"1"!=t.value?new u("*","multiply",[e,new u("*","multiply",[new a("log",[t.clone()]),m(o.clone(),r)])]):new w("0",n.number);if(void 0!==r[o]){if(o.isConstantNode){var i=o.value;if("0"==i)return new w("0",n.number);if("1"==i)return m(t,r)}var s=new u("^","pow",[t.clone(),new u("-","subtract",[o,new w("1",n.number)])]);return new u("*","multiply",[o.clone(),new u("*","multiply",[m(t,r),s])])}return new u("*","multiply",[new u("^","pow",[t.clone(),o.clone()]),new u("+","add",[new u("*","multiply",[m(t,r),new u("/","divide",[o.clone(),t.clone()])]),new u("*","multiply",[m(o,r),new a("log",[t.clone()])])])]);case"%":case"mod":default:throw new Error('Operator "'+e.op+'" not supported by derivative')}}});return s}exports.name="derivative",exports.factory=e;
},{"../../expression/parse":108,"./simplify":481,"../../expression/node/ConstantNode":165,"../../expression/node/FunctionNode":169,"../../expression/node/OperatorNode":171,"../../expression/node/ParenthesisNode":172,"../../expression/node/SymbolNode":174}],482:[function(require,module,exports) {
"use strict";var r=require("../../../utils/index"),t=r.object;function e(r,e,i,a){var n=i(require("../../../type/matrix/function/matrix")),u=i(require("../../arithmetic/abs")),o=i(require("../../arithmetic/addScalar")),s=i(require("../../arithmetic/divideScalar")),c=i(require("../../arithmetic/multiplyScalar")),f=i(require("../../arithmetic/subtract")),h=i(require("../../relational/larger")),p=i(require("../../relational/equalScalar")),l=i(require("../../arithmetic/unaryMinus")),v=r.SparseMatrix,m=r.DenseMatrix,d=r.Spa,g=a("lup",{DenseMatrix:function(r){return w(r)},SparseMatrix:function(r){return S(r)},Array:function(r){var t=n(r),e=w(t);return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}}),w=function(r){var e,i,a,n=r._size[0],l=r._size[1],v=Math.min(n,l),d=t.clone(r._data),g=[],w=[n,v],S=[],x=[v,l],_=[];for(e=0;e<n;e++)_[e]=e;for(i=0;i<l;i++){if(i>0)for(e=0;e<n;e++){var q=Math.min(e,i),z=0;for(a=0;a<q;a++)z=o(z,c(d[e][a],d[a][i]));d[e][i]=f(d[e][i],z)}var L=i,M=0,U=0;for(e=i;e<n;e++){var y=d[e][i],E=u(y);h(E,M)&&(L=e,M=E,U=y)}if(i!==L&&(_[i]=[_[L],_[L]=_[i]][0],m._swapRows(i,L,d)),i<n)for(e=i+1;e<n;e++){var R=d[e][i];p(R,0)||(d[e][i]=s(d[e][i],U))}}for(i=0;i<l;i++)for(e=0;e<n;e++)0===i&&(e<l&&(S[e]=[]),g[e]=[]),e<i?(e<l&&(S[e][i]=d[e][i]),i<n&&(g[e][i]=0)):e!==i?(e<l&&(S[e][i]=0),i<n&&(g[e][i]=d[e][i])):(e<l&&(S[e][i]=d[e][i]),i<n&&(g[e][i]=1));var b=new m({data:g,size:w}),D=new m({data:S,size:x}),O=[];for(e=0,v=_.length;e<v;e++)O[_[e]]=e;return{L:b,U:D,p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},S=function(r){var t,e,i,a=r._size[0],n=r._size[1],o=Math.min(a,n),f=r._values,m=r._index,g=r._ptr,w=[],S=[],x=[],_=[a,o],q=[],z=[],L=[],M=[o,n],U=[],y=[];for(t=0;t<a;t++)U[t]=t,y[t]=t;var E,R,b,D;for(e=0;e<n;e++){var O=new d;e<a&&(x.push(w.length),w.push(1),S.push(e)),L.push(q.length);var P=g[e],j=g[e+1];for(i=P;i<j;i++)t=m[i],O.set(U[t],f[i]);e>0&&O.forEach(0,e-1,function(r,t){v._forEachRow(r,w,S,x,function(e,i){e>r&&O.accumulate(e,l(c(i,t)))})});var A=e,k=O.get(e),B=u(k);O.forEach(e+1,a-1,function(r,t){var e=u(t);h(e,B)&&(A=r,B=e,k=t)}),e!==A&&(v._swapRows(e,A,_[1],w,S,x),v._swapRows(e,A,M[1],q,z,L),O.swap(e,A),R=A,void 0,void 0,b=y[E=e],D=y[R],U[b]=R,U[D]=E,y[E]=D,y[R]=b),O.forEach(0,a-1,function(r,t){r<=e?(q.push(t),z.push(r)):(t=s(t,k),p(t,0)||(w.push(t),S.push(r)))})}return L.push(q.length),x.push(w.length),{L:new v({values:w,index:S,ptr:x,size:_}),U:new v({values:q,index:z,ptr:L,size:M}),p:U,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return g}exports.name="lup",exports.factory=e;
},{"../../../utils/index":529,"../../../type/matrix/function/matrix":147,"../../arithmetic/abs":487,"../../arithmetic/addScalar":488,"../../arithmetic/divideScalar":547,"../../arithmetic/multiplyScalar":546,"../../arithmetic/subtract":513,"../../relational/larger":218,"../../relational/equalScalar":479,"../../arithmetic/unaryMinus":514}],584:[function(require,module,exports) {
"use strict";function t(){return function(t){return-t-2}}exports.name="cs_flip",exports.path="sparse",exports.factory=t;
},{}],585:[function(require,module,exports) {
"use strict";function e(){return function(e,r,t){for(var s=e._values,n=e._index,p=e._ptr,o=e._size[1],a=0,c=0;c<o;c++){var i=p[c];for(p[c]=a;i<p[c+1];i++)r(n[i],c,s?s[i]:1,t)&&(n[a]=n[i],s&&(s[a]=s[i]),a++)}return p[o]=a,n.splice(a,n.length-a),s&&s.splice(a,s.length-a),a}}exports.name="cs_fkeep",exports.path="sparse",exports.factory=e;
},{}],586:[function(require,module,exports) {
"use strict";function r(){return function(r,t,s,e,n,o,a){var c=0;for(s[a]=r;c>=0;){var f=s[a+c],p=s[e+f];-1==p?(c--,o[t++]=f):(s[e+f]=s[n+p],s[a+ ++c]=p)}return t}}exports.name="cs_tdfs",exports.path="sparse",exports.factory=r;
},{}],213:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").clone,e=require("../../utils/string").format;function t(t,a,n,s){var o=require("../../utils/latex"),i=n(require("../../type/matrix/function/matrix")),u=t.DenseMatrix,c=t.SparseMatrix,f=s("transpose",{Array:function(r){return f(i(r)).valueOf()},Matrix:function(r){var t,a=r.size();switch(a.length){case 1:t=r.clone();break;case 2:var n=a[0],s=a[1];if(0===s)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+e(a)+")");switch(r.storage()){case"dense":t=p(r,n,s);break;case"sparse":t=l(r,n,s)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+e(this._size)+")")}return t},any:function(e){return r(e)}}),p=function(e,t,a){for(var n,s=e._data,o=[],i=0;i<a;i++){n=o[i]=[];for(var c=0;c<t;c++)n[c]=r(s[c][i])}return new u({data:o,size:[a,t],datatype:e._datatype})},l=function(e,t,a){for(var n,s,o,i=e._values,u=e._index,f=e._ptr,p=i?[]:void 0,l=[],v=[],x=[],d=0;d<t;d++)x[d]=0;for(n=0,s=u.length;n<s;n++)x[u[n]]++;for(var h=0,w=0;w<t;w++)v.push(h),h+=x[w],x[w]=v[w];for(v.push(h),o=0;o<a;o++)for(var g=f[o],m=f[o+1],y=g;y<m;y++){var _=x[u[y]]++;l[_]=o,i&&(p[_]=r(i[y]))}return new c({values:p,index:l,ptr:v,size:[a,t],datatype:e._datatype})};return f.toTex={1:"\\left(${args[0]}\\right)"+o.operators.transpose},f}exports.name="transpose",exports.factory=t;
},{"../../utils/object":86,"../../utils/string":151,"../../utils/latex":282,"../../type/matrix/function/matrix":147}],577:[function(require,module,exports) {
"use strict";function r(r,f,a){var t=a(require("./cs_flip")),e=a(require("./cs_fkeep")),i=a(require("./cs_tdfs")),o=a(require("../../arithmetic/add")),n=a(require("../../arithmetic/multiply")),u=a(require("../../matrix/transpose")),v=function(r,f,a,t,e){var i=u(f);if(1===r&&t===a)return o(f,i);if(2==r){for(var v=i._index,s=i._ptr,c=0,m=0;m<a;m++){var p=s[m];if(s[m]=c,!(s[m+1]-p>e))for(var h=s[m+1];p<h;p++)v[c++]=v[p]}return s[a]=c,f=u(i),n(i,f)}return n(i,f)},s=function(r,f,a,t,e,i,o,n,u,v,s,c){for(var p=0;p<r;p++)a[t+p]=f[p+1]-f[p];a[t+r]=0;for(var h=0;h<=r;h++)a[e+h]=-1,i[h]=-1,a[o+h]=-1,a[n+h]=-1,a[u+h]=1,a[v+h]=1,a[s+h]=0,a[c+h]=a[t+h];var l=m(0,0,a,v,r);return a[s+r]=-2,f[r]=-1,a[v+r]=0,l},c=function(r,f,a,e,i,o,n,u,v,s,c){for(var m=0,p=0;p<r;p++){var h=a[e+p];if(0===h)a[i+p]=-2,m++,f[p]=-1,a[o+p]=0;else if(h>n)a[u+p]=0,a[i+p]=-1,m++,f[p]=t(r),a[u+r]++;else{var l=a[v+h];-1!=l&&(s[l]=p),a[c+p]=a[v+h],a[v+h]=p}}return m},m=function(r,f,a,t,e){if(r<2||r+f<0){for(var i=0;i<e;i++)0!==a[t+i]&&(a[t+i]=1);r=2}return r},p=function(r,f){return r!=f};return function(r,f){if(!f||r<=0||r>3)return null;var a=f._size,o=a[0],n=a[1],u=0,h=Math.max(16,10*Math.sqrt(n));h=Math.min(n-2,h);var l=v(r,f,o,n,h);e(l,p,null);for(var _,x,q,M,d,y,g,k,z,b,j,w,A,B,C,D,E=l._index,F=l._ptr,G=F[n],H=[],I=[],J=n+1,K=2*(n+1),L=3*(n+1),N=4*(n+1),O=5*(n+1),P=6*(n+1),Q=7*(n+1),R=H,S=s(n,F,I,0,L,R,K,Q,J,P,N,O),T=c(n,F,I,O,N,P,h,J,L,R,K),U=0;T<n;){for(q=-1;U<n&&-1==(q=I[L+U]);U++);-1!=I[K+q]&&(R[I[K+q]]=-1),I[L+U]=I[K+q];var V=I[N+q],W=I[J+q];T+=W;var X=0;I[J+q]=-W;var Y=F[q],Z=0===V?Y:G,$=Z;for(M=1;M<=V+1;M++){for(M>V?(y=q,g=Y,k=I[0+q]-V):(g=F[y=E[Y++]],k=I[0+y]),d=1;d<=k;d++)(z=I[J+(_=E[g++])])<=0||(X+=z,I[J+_]=-z,E[$++]=_,-1!=I[K+_]&&(R[I[K+_]]=R[_]),-1!=R[_]?I[K+R[_]]=I[K+_]:I[L+I[O+_]]=I[K+_]);y!=q&&(F[y]=t(q),I[P+y]=0)}for(0!==V&&(G=$),I[O+q]=X,F[q]=Z,I[0+q]=$-Z,I[N+q]=-2,S=m(S,u,I,P,n),b=Z;b<$;b++)if(!((j=I[N+(_=E[b])])<=0)){var rr=S-(z=-I[J+_]);for(Y=F[_],w=F[_]+j-1;Y<=w;Y++)I[P+(y=E[Y])]>=S?I[P+y]-=z:0!==I[P+y]&&(I[P+y]=I[O+y]+rr)}for(b=Z;b<$;b++){for(A=(w=F[_=E[b]])+I[N+_]-1,B=w,C=0,D=0,Y=w;Y<=A;Y++)if(0!==I[P+(y=E[Y])]){var fr=I[P+y]-S;fr>0?(D+=fr,E[B++]=y,C+=y):(F[y]=t(q),I[P+y]=0)}I[N+_]=B-w+1;var ar=B,tr=w+I[0+_];for(Y=A+1;Y<tr;Y++){var er=I[J+(x=E[Y])];er<=0||(D+=er,E[B++]=x,C+=x)}0===D?(F[_]=t(q),X-=z=-I[J+_],W+=z,T+=z,I[J+_]=0,I[N+_]=-1):(I[O+_]=Math.min(I[O+_],D),E[B]=E[ar],E[ar]=E[w],E[w]=q,I[0+_]=B-w+1,C=(C<0?-C:C)%n,I[K+_]=I[Q+C],I[Q+C]=_,R[_]=C)}for(I[O+q]=X,u=Math.max(u,X),S=m(S+u,u,I,P,n),b=Z;b<$;b++)if(!(I[J+(_=E[b])]>=0))for(_=I[Q+(C=R[_])],I[Q+C]=-1;-1!=_&&-1!=I[K+_];_=I[K+_],S++){for(k=I[0+_],j=I[N+_],Y=F[_]+1;Y<=F[_]+k-1;Y++)I[P+E[Y]]=S;var ir=_;for(x=I[K+_];-1!=x;){var or=I[0+x]===k&&I[N+x]===j;for(Y=F[x]+1;or&&Y<=F[x]+k-1;Y++)I[P+E[Y]]!=S&&(or=0);or?(F[x]=t(_),I[J+_]+=I[J+x],I[J+x]=0,I[N+x]=-1,x=I[K+x],I[K+ir]=x):(ir=x,x=I[K+x])}}for(Y=Z,b=Z;b<$;b++)(z=-I[J+(_=E[b])])<=0||(I[J+_]=z,D=I[O+_]+X-z,-1!=I[L+(D=Math.min(D,n-T-z))]&&(R[I[L+D]]=_),I[K+_]=I[L+D],R[_]=-1,I[L+D]=_,U=Math.min(U,D),I[O+_]=D,E[Y++]=_);I[J+q]=W,0==(I[0+q]=Y-Z)&&(F[q]=-1,I[P+q]=0),0!==V&&(G=Y)}for(_=0;_<n;_++)F[_]=t(F[_]);for(x=0;x<=n;x++)I[L+x]=-1;for(x=n;x>=0;x--)I[J+x]>0||(I[K+x]=I[L+F[x]],I[L+F[x]]=x);for(y=n;y>=0;y--)I[J+y]<=0||-1!=F[y]&&(I[K+y]=I[L+F[y]],I[L+F[y]]=y);for(q=0,_=0;_<=n;_++)-1==F[_]&&(q=i(_,q,I,L,K,H,P));return H.splice(H.length-1,1),H}}exports.name="cs_amd",exports.path="sparse",exports.factory=r;
},{"./cs_flip":584,"./cs_fkeep":585,"./cs_tdfs":586,"../../arithmetic/add":478,"../../arithmetic/multiply":505,"../../matrix/transpose":213}],576:[function(require,module,exports) {
"use strict";function e(e){var r=e.SparseMatrix;return function(e,t,a,s){for(var n=e._values,p=e._index,u=e._ptr,i=e._size,o=e._datatype,v=i[0],_=i[1],x=s&&e._values?[]:null,c=[],f=[],l=0,d=0;d<_;d++){f[d]=l;for(var y=a?a[d]:d,m=u[y],z=u[y+1],h=m;h<z;h++){var w=t?t[p[h]]:p[h];c[l]=w,x&&(x[l]=n[h]),l++}}return f[_]=l,new r({values:x,index:c,ptr:f,size:[v,_],datatype:o})}}exports.name="cs_permute",exports.path="sparse",exports.factory=e;
},{}],579:[function(require,module,exports) {
"use strict";function r(){return function(r,e){if(!r)return null;var t,n,o=r._index,f=r._ptr,s=r._size,a=s[0],i=s[1],u=[],p=[],c=i;if(e)for(t=0;t<a;t++)p[c+t]=-1;for(var v=0;v<i;v++){u[v]=-1,p[0+v]=-1;for(var x=f[v],_=f[v+1],l=x;l<_;l++){var d=o[l];for(t=e?p[c+d]:d;-1!=t&&t<v;t=n)n=p[0+t],p[0+t]=v,-1==n&&(u[t]=v);e&&(p[c+d]=v)}}return u}}exports.name="cs_etree",exports.path="sparse",exports.factory=r;
},{}],578:[function(require,module,exports) {
"use strict";function r(r,t,e){var s=e(require("./cs_tdfs"));return function(r,t){if(!r)return null;var e,o=0,n=[],f=[],u=t,a=2*t;for(e=0;e<t;e++)f[0+e]=-1;for(e=t-1;e>=0;e--)-1!=r[e]&&(f[u+e]=f[0+r[e]],f[0+r[e]]=e);for(e=0;e<t;e++)-1==r[e]&&(o=s(e,o,f,0,u,n,a));return n}}exports.name="cs_post",exports.path="sparse",exports.factory=r;
},{"./cs_tdfs":586}],587:[function(require,module,exports) {
"use strict";function r(){return function(r,e,t,f,s,n,o){var a,u,c,i,p=0;if(r<=e||t[f+e]<=t[s+r])return-1;if(t[s+r]=t[f+e],c=t[n+r],t[n+r]=e,-1===c)p=1,i=r;else{for(p=2,i=c;i!=t[o+i];i=t[o+i]);for(a=c;a!=i;a=u)u=t[o+a],t[o+a]=i}return{jleaf:p,q:i}}}exports.name="cs_leaf",exports.path="sparse",exports.factory=r;
},{}],580:[function(require,module,exports) {
"use strict";function r(r,e,f){var o=f(require("../../matrix/transpose")),t=f(require("./cs_leaf"));return function(r,e,f,a){if(!r||!e||!f)return null;var n,s,i,u,c,p,l,x=r._size,_=x[0],v=x[1],m=4*v+(a?v+_+1:0),q=[],h=v,j=2*v,d=3*v,y=4*v,z=5*v+1;for(i=0;i<m;i++)q[i]=-1;var M=[],b=o(r),g=b._index,k=b._ptr;for(i=0;i<v;i++)for(M[s=f[i]]=-1==q[d+s]?1:0;-1!=s&&-1==q[d+s];s=e[s])q[d+s]=i;if(a){for(i=0;i<v;i++)q[f[i]]=i;for(n=0;n<_;n++){for(i=v,p=k[n],l=k[n+1],c=p;c<l;c++)i=Math.min(i,q[g[c]]);q[z+n]=q[y+i],q[y+i]=n}}for(n=0;n<v;n++)q[0+n]=n;for(i=0;i<v;i++){for(-1!=e[s=f[i]]&&M[e[s]]--,u=a?q[y+i]:s;-1!=u;u=a?q[z+u]:-1)for(c=k[u];c<k[u+1];c++){n=g[c];var w=t(n,s,q,d,h,j,0);w.jleaf>=1&&M[s]++,2==w.jleaf&&M[w.q]--}-1!=e[s]&&(q[0+s]=e[s])}for(s=0;s<v;s++)-1!=e[s]&&(M[e[s]]+=M[s]);return M}}exports.name="cs_counts",exports.path="sparse",exports.factory=r;
},{"../../matrix/transpose":213,"./cs_leaf":587}],562:[function(require,module,exports) {
"use strict";function r(r,e,n){var t=n(require("./cs_amd")),s=n(require("./cs_permute")),u=n(require("./cs_etree")),o=n(require("./cs_post")),p=n(require("./cs_counts")),f=function(r,e){var n=r._ptr,t=r._index,s=r._size,u=s[0],o=s[1];e.pinv=[],e.leftmost=[];var p,f,i,a,c,l=e.parent,_=e.pinv,z=e.leftmost,q=[],v=u,m=u+o,x=u+2*o;for(f=0;f<o;f++)q[v+f]=-1,q[m+f]=-1,q[x+f]=0;for(p=0;p<u;p++)z[p]=-1;for(f=o-1;f>=0;f--)for(a=n[f],c=n[f+1],i=a;i<c;i++)z[t[i]]=f;for(p=u-1;p>=0;p--)_[p]=-1,-1!=(f=z[p])&&(0==q[x+f]++&&(q[m+f]=p),q[0+p]=q[v+f],q[v+f]=p);for(e.lnz=0,e.m2=u,f=0;f<o;f++)if(p=q[v+f],e.lnz++,p<0&&(p=e.m2++),_[p]=f,!(--x[f]<=0)){e.lnz+=q[x+f];var d=l[f];-1!=d&&(0===q[x+d]&&(q[m+d]=q[m+f]),q[0+q[m+f]]=q[v+d],q[v+d]=q[0+p],q[x+d]+=q[x+f])}for(p=0;p<u;p++)_[p]<0&&(_[p]=f++);return!0};return function(r,e,n){var i,a=e._ptr,c=e._size[1],l={};if(l.q=t(r,e),r&&!l.q)return null;if(n){var _=r?s(e,null,l.q,0):e;l.parent=u(_,1);var z=o(l.parent,c);if(l.cp=p(_,l.parent,z,1),_&&l.parent&&l.cp&&f(_,l))for(l.unz=0,i=0;i<c;i++)l.unz+=l.cp[i]}else l.unz=4*a[c]+c,l.lnz=l.unz;return l}}exports.name="cs_sqr",exports.path="sparse",exports.factory=r;
},{"./cs_amd":577,"./cs_permute":576,"./cs_etree":579,"./cs_post":578,"./cs_counts":580}],219:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").nearlyEqual,e=require("../../utils/bignumber/nearlyEqual");function t(t,a,n,i){var u=n(require("../../type/matrix/function/matrix")),o=n(require("../../type/matrix/utils/algorithm03")),s=n(require("../../type/matrix/utils/algorithm07")),l=n(require("../../type/matrix/utils/algorithm12")),c=n(require("../../type/matrix/utils/algorithm13")),f=n(require("../../type/matrix/utils/algorithm14")),m=require("../../utils/latex"),g=i("largerEq",{"boolean, boolean":function(r,e){return r>=e},"number, number":function(e,t){return e>=t||r(e,t,a.epsilon)},"BigNumber, BigNumber":function(r,t){return r.gte(t)||e(r,t,a.epsilon)},"Fraction, Fraction":function(r,e){return-1!==r.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,e){if(!r.equalBase(e))throw new Error("Cannot compare units with different base");return g(r.value,e.value)},"string, string":function(r,e){return r>=e},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=s(r,e,g);break;default:t=o(e,r,g,!0)}break;default:switch(e.storage()){case"sparse":t=o(r,e,g,!1);break;default:t=c(r,e,g)}}return t},"Array, Array":function(r,e){return g(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return g(u(r),e)},"Matrix, Array":function(r,e){return g(r,u(e))},"Matrix, any":function(r,e){var t;switch(r.storage()){case"sparse":t=l(r,e,g,!1);break;default:t=f(r,e,g,!1)}return t},"any, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=l(e,r,g,!0);break;default:t=f(e,r,g,!0)}return t},"Array, any":function(r,e){return f(u(r),e,g,!1).valueOf()},"any, Array":function(r,e){return f(u(e),r,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+m.operators.largerEq+"${args[1]}\\right)"},g}exports.name="largerEq",exports.factory=t;
},{"../../utils/number":134,"../../utils/bignumber/nearlyEqual":548,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541,"../../utils/latex":282}],591:[function(require,module,exports) {
"use strict";function r(){return function(r,t){return r[t]<0}}exports.name="cs_marked",exports.path="sparse",exports.factory=r;
},{}],590:[function(require,module,exports) {
"use strict";function r(r,t,e){var s=e(require("./cs_flip"));return function(r,t){r[t]=s(r[t])}}exports.name="cs_mark",exports.path="sparse",exports.factory=r;
},{"./cs_flip":584}],592:[function(require,module,exports) {
"use strict";function r(r,t,e){var s=e(require("./cs_flip"));return function(r){return r<0?s(r):r}}exports.name="cs_unflip",exports.path="sparse",exports.factory=r;
},{"./cs_flip":584}],589:[function(require,module,exports) {
"use strict";function r(r,e,s){var t=s(require("./cs_marked")),a=s(require("./cs_mark")),i=s(require("./cs_unflip"));return function(r,e,s,n,u){var c,f,o,p=e._index,_=e._ptr,v=e._size[1],x=0;for(n[0]=r;x>=0;){r=n[x];var d=u?u[r]:r;t(_,r)||(a(_,r),n[v+x]=d<0?0:i(_[d]));var k=1;for(f=n[v+x],o=d<0?0:i(_[d+1]);f<o;f++)if(c=p[f],!t(_,c)){n[v+x]=f,n[++x]=c,k=0;break}k&&(x--,n[--s]=r)}return s}}exports.name="cs_dfs",exports.path="sparse",exports.factory=r;
},{"./cs_marked":591,"./cs_mark":590,"./cs_unflip":592}],588:[function(require,module,exports) {
"use strict";function r(r,e,s){var t=s(require("./cs_dfs")),a=s(require("./cs_marked")),c=s(require("./cs_mark"));return function(r,e,s,i,n){var o,u,_,p=r._ptr,f=r._size,x=e._index,d=e._ptr,m=f[1],q=m;for(u=d[s],_=d[s+1],o=u;o<_;o++){var v=x[o];a(p,v)||(q=t(v,r,q,i,n))}for(o=q;o<m;o++)c(p,i[o]);return q}}exports.name="cs_reach",exports.path="sparse",exports.factory=r;
},{"./cs_dfs":589,"./cs_marked":591,"./cs_mark":590}],581:[function(require,module,exports) {
"use strict";function r(r,e,t){var i=t(require("../../arithmetic/divideScalar")),a=t(require("../../arithmetic/multiply")),s=t(require("../../arithmetic/subtract")),u=t(require("./cs_reach"));return function(r,e,t,c,o,n,p){var v,_,f,l,h=r._values,m=r._index,x=r._ptr,d=r._size[1],q=e._values,y=e._index,b=e._ptr,z=u(r,e,t,c,n);for(v=z;v<d;v++)o[c[v]]=0;for(_=b[t],f=b[t+1],v=_;v<f;v++)o[y[v]]=q[v];for(var S=z;S<d;S++){var g=c[S],j=n?n[g]:g;if(!(j<0))for(_=x[j],f=x[j+1],o[g]=i(o[g],h[p?_:f-1]),v=p?_+1:_,l=p?f:f-1;v<l;v++){var k=m[v];o[k]=s(o[k],a(h[v],o[g]))}}return z}}exports.name="cs_spsolve",exports.path="sparse",exports.factory=r;
},{"../../arithmetic/divideScalar":547,"../../arithmetic/multiply":505,"../../arithmetic/subtract":513,"./cs_reach":588}],563:[function(require,module,exports) {
"use strict";function r(r,e,i){var t=i(require("../../arithmetic/abs")),a=i(require("../../arithmetic/divideScalar")),l=i(require("../../arithmetic/multiply")),n=i(require("../../relational/larger")),s=i(require("../../relational/largerEq")),u=i(require("./cs_spsolve")),p=r.SparseMatrix;return function(r,e,i){if(!r)return null;var c,o=r._size[1],v=100,f=100;e&&(c=e.q,v=e.lnz||v,f=e.unz||f);var h,q,g=[],x=[],m=[],z=new p({values:g,index:x,ptr:m,size:[o,o]}),d=[],_=[],w=[],y=new p({values:d,index:_,ptr:w,size:[o,o]}),S=[],b=[],E=[];for(h=0;h<o;h++)b[h]=0,S[h]=-1,m[h+1]=0;v=0,f=0;for(var L=0;L<o;L++){m[L]=v,w[L]=f;var M=c?c[L]:L,U=u(z,r,M,E,b,S,1),j=-1,k=-1;for(q=U;q<o;q++)if(S[h=E[q]]<0){var A=t(b[h]);n(A,k)&&(k=A,j=h)}else _[f]=S[h],d[f++]=b[h];if(-1==j||k<=0)return null;S[M]<0&&s(t(b[M]),l(k,i))&&(j=M);var B=b[j];for(_[f]=L,d[f++]=B,S[j]=L,x[v]=j,g[v++]=1,q=U;q<o;q++)S[h=E[q]]<0&&(x[v]=h,g[v++]=a(b[h],B)),b[h]=0}for(m[o]=v,w[o]=f,q=0;q<v;q++)x[q]=S[x[q]];return g.splice(v,g.length-v),x.splice(v,x.length-v),d.splice(f,d.length-f),_.splice(f,_.length-f),{L:z,U:y,pinv:S}}}exports.name="cs_lu",exports.path="sparse",exports.factory=r;
},{"../../arithmetic/abs":487,"../../arithmetic/divideScalar":547,"../../arithmetic/multiply":505,"../../relational/larger":218,"../../relational/largerEq":219,"./cs_spsolve":581}],483:[function(require,module,exports) {
"use strict";var r=require("../../../utils/index"),t=r.number,e=t.isInteger;function n(r,t,n,i){var s=n(require("../../algebra/sparse/cs_sqr")),o=n(require("../../algebra/sparse/cs_lu"));return i("slu",{"SparseMatrix, number, number":function(r,t,n){if(!e(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var i=s(t,r,!1),u=o(r,i,n);return{L:u.L,U:u.U,p:u.pinv,q:i.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}exports.name="slu",exports.factory=n;
},{"../../../utils/index":529,"../../algebra/sparse/cs_sqr":562,"../../algebra/sparse/cs_lu":563}],565:[function(require,module,exports) {
"use strict";var t=require("../../../../utils/index"),r=t.string,e=t.array,a=Array.isArray;function n(t){var n=t.DenseMatrix;return function(t,i,s){var o=t.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+r.format(o)+")");var m,h,c,u=o[0];if(u!==o[1])throw new RangeError("Matrix must be square (size: "+r.format(o)+")");if(i&&!0===i.isMatrix){var f=i.size();if(1===f.length){if(f[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(m=[],c=i._data,h=0;h<u;h++)m[h]=[c[h]];return new n({data:m,size:[u,1],datatype:i._datatype})}if(2===f.length){if(f[0]!==u||1!==f[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(!0===i.isDenseMatrix){if(s){for(m=[],c=i._data,h=0;h<u;h++)m[h]=[c[h][0]];return new n({data:m,size:[u,1],datatype:i._datatype})}return i}for(m=[],h=0;h<u;h++)m[h]=[0];for(var w=i._values,g=i._index,l=i._ptr,d=l[1],v=l[0];v<d;v++)m[h=g[v]][0]=w[v];return new n({data:m,size:[u,1],datatype:i._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(a(i)){var x=e.size(i);if(1===x.length){if(x[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(m=[],h=0;h<u;h++)m[h]=[i[h]];return new n({data:m,size:[u,1]})}if(2===x.length){if(x[0]!==u||1!==x[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(m=[],h=0;h<u;h++)m[h]=[i[h][0]];return new n({data:m,size:[u,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}exports.factory=n;
},{"../../../../utils/index":529}],484:[function(require,module,exports) {
"use strict";function r(r,e,a,i){var t=a(require("../../../type/matrix/function/matrix")),n=a(require("../../arithmetic/divideScalar")),s=a(require("../../arithmetic/multiplyScalar")),u=a(require("../../arithmetic/subtract")),o=a(require("../../relational/equalScalar")),l=a(require("./utils/solveValidation")),c=r.DenseMatrix,f=i("lsolve",{"SparseMatrix, Array | Matrix":function(r,e){return x(r,e)},"DenseMatrix, Array | Matrix":function(r,e){return v(r,e)},"Array, Array | Matrix":function(r,e){var a=t(r);return v(a,e).valueOf()}}),v=function(r,e){for(var a=(e=l(r,e,!0))._data,i=r._size[0],t=r._size[1],f=[],v=r._data,x=0;x<t;x++){var d,m=a[x][0]||0;if(o(m,0))d=0;else{var _=v[x][x];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");d=n(m,_);for(var y=x+1;y<i;y++)a[y]=[u(a[y][0]||0,s(d,v[y][x]))]}f[x]=[d]}return new c({data:f,size:[i,1]})},x=function(r,e){for(var a,i,t=(e=l(r,e,!0))._data,f=r._size[0],v=r._size[1],x=r._values,d=r._index,m=r._ptr,_=[],y=0;y<v;y++){var h=t[y][0]||0;if(o(h,0))_[y]=[0];else{var p=0,q=[],w=[],z=m[y+1];for(i=m[y];i<z;i++)(a=d[i])===y?p=x[i]:a>y&&(q.push(x[i]),w.push(a));if(o(p,0))throw new Error("Linear system cannot be solved since matrix is singular");var M=n(h,p);for(i=0,z=w.length;i<z;i++)t[a=w[i]]=[u(t[a][0]||0,s(M,q[i]))];_[y]=[M]}}return new c({data:_,size:[f,1]})};return f}exports.name="lsolve",exports.factory=r;
},{"../../../type/matrix/function/matrix":147,"../../arithmetic/divideScalar":547,"../../arithmetic/multiplyScalar":546,"../../arithmetic/subtract":513,"../../relational/equalScalar":479,"./utils/solveValidation":565}],564:[function(require,module,exports) {
"use strict";function r(){return function(r,e,t){t=e.length;var s,n=[];if(r)for(s=0;s<t;s++)n[r[s]]=e[s];else for(s=0;s<t;s++)n[s]=e[s];return n}}exports.name="cs_ipvec",exports.path="sparse",exports.factory=r;
},{}],486:[function(require,module,exports) {
"use strict";function r(r,e,a,i){var t=a(require("../../../type/matrix/function/matrix")),n=a(require("../../arithmetic/divideScalar")),s=a(require("../../arithmetic/multiplyScalar")),u=a(require("../../arithmetic/subtract")),o=a(require("../../relational/equalScalar")),l=a(require("./utils/solveValidation")),c=r.DenseMatrix,f=i("usolve",{"SparseMatrix, Array | Matrix":function(r,e){return x(r,e)},"DenseMatrix, Array | Matrix":function(r,e){return v(r,e)},"Array, Array | Matrix":function(r,e){var a=t(r);return v(a,e).valueOf()}}),v=function(r,e){for(var a=(e=l(r,e,!0))._data,i=r._size[0],t=r._size[1],f=[],v=r._data,x=t-1;x>=0;x--){var d,m=a[x][0]||0;if(o(m,0))d=0;else{var _=v[x][x];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");d=n(m,_);for(var y=x-1;y>=0;y--)a[y]=[u(a[y][0]||0,s(d,v[y][x]))]}f[x]=[d]}return new c({data:f,size:[i,1]})},x=function(r,e){for(var a,i,t=(e=l(r,e,!0))._data,f=r._size[0],v=r._size[1],x=r._values,d=r._index,m=r._ptr,_=[],y=v-1;y>=0;y--){var h=t[y][0]||0;if(o(h,0))_[y]=[0];else{var p=0,q=[],w=[],z=m[y],M=m[y+1];for(i=M-1;i>=z;i--)(a=d[i])===y?p=x[i]:a<y&&(q.push(x[i]),w.push(a));if(o(p,0))throw new Error("Linear system cannot be solved since matrix is singular");var A=n(h,p);for(i=0,M=w.length;i<M;i++)t[a=w[i]]=[u(t[a][0],s(A,q[i]))];_[y]=[A]}}return new c({data:_,size:[f,1]})};return f}exports.name="usolve",exports.factory=r;
},{"../../../type/matrix/function/matrix":147,"../../arithmetic/divideScalar":547,"../../arithmetic/multiplyScalar":546,"../../arithmetic/subtract":513,"../../relational/equalScalar":479,"./utils/solveValidation":565}],485:[function(require,module,exports) {
"use strict";var r=Array.isArray;function e(e,t,a,i){var n=a(require("../../../type/matrix/function/matrix")),u=a(require("../decomposition/lup")),o=a(require("../decomposition/slu")),s=a(require("../sparse/cs_ipvec")),l=a(require("./utils/solveValidation")),c=a(require("./usolve")),p=a(require("./lsolve")),v=i("lusolve",{"Array, Array | Matrix":function(r,e){r=n(r);var t=u(r);return f(t.L,t.U,t.p,null,e).valueOf()},"DenseMatrix, Array | Matrix":function(r,e){var t=u(r);return f(t.L,t.U,t.p,null,e)},"SparseMatrix, Array | Matrix":function(r,e){var t=u(r);return f(t.L,t.U,t.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(r,e,t,a){var i=o(r,t,a);return f(i.L,i.U,i.p,i.q,e)},"Object, Array | Matrix":function(r,e){return f(r.L,r.U,r.p,r.q,e)}}),x=function(e){if(e&&!0===e.isMatrix)return e;if(r(e))return n(e);throw new TypeError("Invalid Matrix LU decomposition")},f=function(r,e,t,a,i){r=x(r),e=x(e),i=l(r,i,!1),t&&(i._data=s(t,i._data));var n=p(r,i),u=c(e,n);return a&&(u._data=s(a,u._data)),u};return v}exports.name="lusolve",exports.factory=e;
},{"../../../type/matrix/function/matrix":147,"../decomposition/lup":482,"../decomposition/slu":483,"../sparse/cs_ipvec":564,"./utils/solveValidation":565,"./usolve":486,"./lsolve":484}],115:[function(require,module,exports) {
module.exports=[require("./derivative"),require("./simplify"),require("./decomposition/lup"),require("./decomposition/slu"),require("./solver/lsolve"),require("./solver/lusolve"),require("./solver/usolve")];
},{"./derivative":480,"./simplify":481,"./decomposition/lup":482,"./decomposition/slu":483,"./solver/lsolve":484,"./solver/lusolve":485,"./solver/usolve":486}],274:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),e=require("../../utils/number");function t(e,t,n,i){var u=i("isNegative",{number:function(r){return r<0},BigNumber:function(r){return r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s<0},Unit:function(r){return u(r.value)},"Array | Matrix":function(e){return r(e,u)}});return u}exports.name="isNegative",exports.factory=t;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],489:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function r(r,a,t,n){var i=t(require("./unaryMinus")),l=t(require("../utils/isNegative")),o=t(require("../../type/matrix/function/matrix")),v=n("cbrt",{number:u,Complex:m,"Complex, boolean":m,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&e.value.isComplex){var u=e.clone();return u.value=1,(u=u.pow(1/3)).value=m(e.value),u}var a,t=l(e.value);t&&(e.value=i(e.value)),a=e.value&&e.value.isBigNumber?new r.BigNumber(1).div(3):e.value&&e.value.isFraction?new r.Fraction(1,3):1/3;var u=e.pow(a);return t&&(u.value=i(u.value)),u},"Array | Matrix":function(r){return e(r,v,!0)}});function m(e,t){var n=e.arg()/3,i=e.abs(),l=new r.Complex(u(i),0).mul(new r.Complex(0,n).exp());if(t){var v=[l,new r.Complex(u(i),0).mul(new r.Complex(0,n+2*Math.PI/3).exp()),new r.Complex(u(i),0).mul(new r.Complex(0,n-2*Math.PI/3).exp())];return"Array"===a.matrix?v:o(v)}return l}return v.toTex={1:"\\sqrt[3]{${args[0]}}"},v}var u=Math.cbrt||function(e){if(0===e)return e;var r,u=e<0;return u&&(e=-e),r=isFinite(e)?(e/((r=Math.exp(Math.log(e)/3))*r)+2*r)/3:e,u?-r:r};exports.name="cbrt",exports.factory=r;
},{"../../utils/collection/deepMap":132,"./unaryMinus":514,"../utils/isNegative":274,"../../type/matrix/function/matrix":147}],491:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function r(r,t,i,n){var c=n("ceil",{number:Math.ceil,Complex:function(e){return e.ceil()},BigNumber:function(e){return e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(r){return e(r,c,!0)}});return c.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},c}exports.name="ceil",exports.factory=r;
},{"../../utils/collection/deepMap":132}],490:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,n,e,u){var i=u("cube",{number:function(r){return r*r*r},Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},Fraction:function(r){return r.pow(3)},"Array | Matrix":function(t){return r(t,i,!0)},Unit:function(r){return r.pow(3)}});return i.toTex={1:"\\left(${args[0]}\\right)^3"},i}exports.name="cube",exports.factory=t;
},{"../../utils/collection/deepMap":132}],540:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function e(e,t,a,n){var i=a(require("../../../function/relational/equalScalar")),o=e.SparseMatrix;return function(e,t,a,s){var h=e._data,p=e._size,u=e._datatype,f=t._values,l=t._index,v=t._ptr,c=t._size,d=t._datatype;if(p.length!==c.length)throw new r(p.length,c.length);if(p[0]!==c[0]||p[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+c+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,m=p[0],x=p[1],_=i,w=0,y=a;"string"==typeof u&&u===d&&(g=u,_=n.find(i,[g,g]),w=n.convert(0,g),y=n.find(a,[g,g]));for(var M=[],q=[],z=[],D=0;D<x;D++){z[D]=q.length;for(var E=v[D],S=v[D+1],A=E;A<S;A++){var B=l[A],C=s?y(f[A],h[B][D]):y(h[B][D],f[A]);_(C,w)||(q.push(B),M.push(C))}}return z[x]=q.length,new o({values:M,index:q,ptr:z,size:[m,x],datatype:g})}}exports.name="algorithm02",exports.factory=e;
},{"../../../error/DimensionError":99,"../../../function/relational/equalScalar":479}],493:[function(require,module,exports) {
"use strict";function r(r,t,e,a){var i=e(require("../../type/matrix/function/matrix")),u=e(require("./divideScalar")),s=require("../../utils/latex"),n=e(require("../../type/matrix/utils/algorithm02")),o=e(require("../../type/matrix/utils/algorithm03")),l=e(require("../../type/matrix/utils/algorithm07")),c=e(require("../../type/matrix/utils/algorithm11")),y=e(require("../../type/matrix/utils/algorithm12")),f=e(require("../../type/matrix/utils/algorithm13")),x=e(require("../../type/matrix/utils/algorithm14")),m=a("dotDivide",{"any, any":u,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=l(r,t,u,!1);break;default:e=n(t,r,u,!0)}break;default:switch(t.storage()){case"sparse":e=o(r,t,u,!1);break;default:e=f(r,t,u)}}return e},"Array, Array":function(r,t){return m(i(r),i(t)).valueOf()},"Array, Matrix":function(r,t){return m(i(r),t)},"Matrix, Array":function(r,t){return m(r,i(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=c(r,t,u,!1);break;default:e=x(r,t,u,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=y(t,r,u,!0);break;default:e=x(t,r,u,!0)}return e},"Array, any":function(r,t){return x(i(r),t,u,!1).valueOf()},"any, Array":function(r,t){return x(i(t),r,u,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.dotDivide+"${args[1]}\\right)"},m}exports.name="dotDivide",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"./divideScalar":547,"../../utils/latex":282,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],554:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function e(e,t,a,i){var n=a(require("../../../function/relational/equalScalar")),o=e.SparseMatrix;return function(e,t,a){var s=e._values,u=e._index,l=e._ptr,f=e._size,h=e._datatype,p=t._values,v=t._index,d=t._ptr,_=t._size,c=t._datatype;if(f.length!==_.length)throw new r(f.length,_.length);if(f[0]!==_[0]||f[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+_+")");var g,m=f[0],x=f[1],w=n,y=0,q=a;"string"==typeof h&&h===c&&(g=h,w=i.find(n,[g,g]),y=i.convert(0,g),q=i.find(a,[g,g]));var z,M,D,E,S,A=s&&p?[]:void 0,B=[],R=[],b=new o({values:A,index:B,ptr:R,size:[m,x],datatype:g}),j=A?[]:void 0,k=[];for(M=0;M<x;M++){R[M]=B.length;var C=M+1;if(j)for(E=d[M],S=d[M+1],D=E;D<S;D++)k[z=v[D]]=C,j[z]=p[D];for(E=l[M],S=l[M+1],D=E;D<S;D++)if(z=u[D],j){var F=k[z]===C?j[z]:y,G=q(s[D],F);w(G,y)||(B.push(z),A.push(G))}else B.push(z)}return R[x]=B.length,b}}exports.name="algorithm09",exports.factory=e;
},{"../../../error/DimensionError":99,"../../../function/relational/equalScalar":479}],494:[function(require,module,exports) {
"use strict";function r(r,t,a,e){var i=a(require("../../type/matrix/function/matrix")),u=a(require("./multiplyScalar")),s=require("../../utils/latex"),n=a(require("../../type/matrix/utils/algorithm02")),l=a(require("../../type/matrix/utils/algorithm09")),o=a(require("../../type/matrix/utils/algorithm11")),c=a(require("../../type/matrix/utils/algorithm13")),y=a(require("../../type/matrix/utils/algorithm14")),f=e("dotMultiply",{"any, any":u,"Matrix, Matrix":function(r,t){var a;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":a=l(r,t,u,!1);break;default:a=n(t,r,u,!0)}break;default:switch(t.storage()){case"sparse":a=n(r,t,u,!1);break;default:a=c(r,t,u)}}return a},"Array, Array":function(r,t){return f(i(r),i(t)).valueOf()},"Array, Matrix":function(r,t){return f(i(r),t)},"Matrix, Array":function(r,t){return f(r,i(t))},"Matrix, any":function(r,t){var a;switch(r.storage()){case"sparse":a=o(r,t,u,!1);break;default:a=y(r,t,u,!1)}return a},"any, Matrix":function(r,t){var a;switch(t.storage()){case"sparse":a=o(t,r,u,!0);break;default:a=y(t,r,u,!0)}return a},"Array, any":function(r,t){return y(i(r),t,u,!1).valueOf()},"any, Array":function(r,t){return y(i(t),r,u,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}"+s.operators.dotMultiply+"${args[1]}\\right)"},f}exports.name="dotMultiply",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"./multiplyScalar":546,"../../utils/latex":282,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm09":554,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],495:[function(require,module,exports) {
"use strict";function r(r,t,a,e){var i=a(require("../../type/matrix/function/matrix")),u=a(require("./pow")),s=require("../../utils/latex"),n=a(require("../../type/matrix/utils/algorithm03")),o=a(require("../../type/matrix/utils/algorithm07")),l=a(require("../../type/matrix/utils/algorithm11")),c=a(require("../../type/matrix/utils/algorithm12")),f=a(require("../../type/matrix/utils/algorithm13")),y=a(require("../../type/matrix/utils/algorithm14")),x=e("dotPow",{"any, any":u,"Matrix, Matrix":function(r,t){var a;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":a=o(r,t,u,!1);break;default:a=n(t,r,u,!0)}break;default:switch(t.storage()){case"sparse":a=n(r,t,u,!1);break;default:a=f(r,t,u)}}return a},"Array, Array":function(r,t){return x(i(r),i(t)).valueOf()},"Array, Matrix":function(r,t){return x(i(r),t)},"Matrix, Array":function(r,t){return x(r,i(t))},"Matrix, any":function(r,t){var a;switch(r.storage()){case"sparse":a=l(r,t,x,!1);break;default:a=y(r,t,x,!1)}return a},"any, Matrix":function(r,t){var a;switch(t.storage()){case"sparse":a=c(t,r,x,!0);break;default:a=y(t,r,x,!0)}return a},"Array, any":function(r,t){return y(i(r),t,x,!1).valueOf()},"any, Array":function(r,t){return y(i(t),r,x,!0).valueOf()}});return x.toTex={2:"\\left(${args[0]}"+s.operators.dotPow+"${args[1]}\\right)"},x}exports.name="dotPow",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"./pow":509,"../../utils/latex":282,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],496:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function r(r,t,n,u){var i=u("exp",{number:Math.exp,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(r){return e(r,i)}});return i.toTex={1:"\\exp\\left(${args[0]}\\right)"},i}exports.name="exp",exports.factory=r;
},{"../../utils/collection/deepMap":132}],498:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function o(o,t,e,n){var f=n("floor",{number:Math.floor,Complex:function(r){return r.floor()},BigNumber:function(r){return r.floor()},Fraction:function(r){return r.floor()},"Array | Matrix":function(o){return r(o,f,!0)}});return f.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},f}exports.name="floor",exports.factory=o;
},{"../../utils/collection/deepMap":132}],499:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger;function e(r,e,i,a){var u=i(require("../../type/matrix/function/matrix")),n=i(require("../../type/matrix/utils/algorithm01")),s=i(require("../../type/matrix/utils/algorithm04")),o=i(require("../../type/matrix/utils/algorithm10")),m=i(require("../../type/matrix/utils/algorithm13")),c=i(require("../../type/matrix/utils/algorithm14")),g=a("gcd",{"number, number":t,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var i=new r.BigNumber(0);for(;!t.isZero();){var a=e.mod(t);e=t,t=a}return e.lt(i)?e.neg():e},"Fraction, Fraction":function(r,e){return r.gcd(e)},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=s(r,e,g);break;default:t=n(e,r,g,!0)}break;default:switch(e.storage()){case"sparse":t=n(r,e,g,!1);break;default:t=m(r,e,g)}}return t},"Array, Array":function(r,e){return g(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return g(u(r),e)},"Matrix, Array":function(r,e){return g(r,u(e))},"Matrix, number | BigNumber":function(r,e){var t;switch(r.storage()){case"sparse":t=o(r,e,g,!1);break;default:t=c(r,e,g,!1)}return t},"number | BigNumber, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=o(e,r,g,!0);break;default:t=c(e,r,g,!0)}return t},"Array, number | BigNumber":function(r,e){return c(u(r),e,g,!1).valueOf()},"number | BigNumber, Array":function(r,e){return c(u(e),r,g,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(r,e,t){for(var i=g(r,e),a=0;a<t.length;a++)i=g(i,t[a]);return i}});return g.toTex="\\gcd\\left(${args}\\right)",g}function t(e,t){if(!r(e)||!r(t))throw new Error("Parameters in function gcd must be integer numbers");for(var i;0!=t;)i=e%t,e=t,t=i;return e<0?-e:e}exports.name="gcd",exports.factory=e;
},{"../../utils/number":134,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm04":558,"../../type/matrix/utils/algorithm10":559,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],511:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,e,n,u){var i=u("sqrt",{number:o,Complex:function(r){return r.sqrt()},BigNumber:function(r){return!r.isNegative()||e.predictable?r.sqrt():o(r.toNumber())},"Array | Matrix":function(t){return r(t,i,!0)},Unit:function(r){return r.pow(.5)}});function o(r){return r>=0||e.predictable?Math.sqrt(r):new t.Complex(r,0).sqrt()}return i.toTex={1:"\\sqrt{${args[0]}}"},i}exports.name="sqrt",exports.factory=t;
},{"../../utils/collection/deepMap":132}],276:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),e=require("../../utils/number");function i(e,i,n,t){var u=t("isPositive",{number:function(r){return r>0},BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:function(r){return u(r.value)},"Array | Matrix":function(e){return r(e,u)}});return u}exports.name="isPositive",exports.factory=i;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],500:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").flatten;function e(e,t,a,i){var u=a(require("./abs")),n=a(require("./addScalar")),l=a(require("./divideScalar")),o=a(require("./multiplyScalar")),s=a(require("./sqrt")),p=a(require("../relational/smaller")),y=a(require("../utils/isPositive")),c=i("hypot",{"... number | BigNumber":function(r){for(var e=0,t=0,a=0;a<r.length;a++){var i=u(r[a]);p(t,i)?(e=o(e,o(l(t,i),l(t,i))),e=n(e,1),t=i):e=n(e,y(i)?o(l(i,t),l(i,t)):i)}return o(t,s(e))},Array:function(e){return c.apply(c,r(e))},Matrix:function(e){return c.apply(c,r(e.toArray()))}});return c.toTex="\\hypot\\left(${args}\\right)",c}exports.name="hypot",exports.factory=e;
},{"../../utils/array":87,"./abs":487,"./addScalar":488,"./divideScalar":547,"./multiplyScalar":546,"./sqrt":511,"../relational/smaller":220,"../utils/isPositive":276}],574:[function(require,module,exports) {
"use strict";module.exports=function(e,s,r,u,i,o,t,f,n,p,_){var d,l,x,a,c=e._values,h=e._index,v=e._ptr,m=t._index;if(u)for(l=v[s],x=v[s+1],d=l;d<x;d++)r[a=h[d]]!==o?(r[a]=o,m.push(a),p?(u[a]=n?f(c[d],_):f(_,c[d]),i[a]=o):u[a]=c[d]):(u[a]=n?f(c[d],u[a]):f(u[a],c[d]),i[a]=o);else for(l=v[s],x=v[s+1],d=l;d<x;d++)r[a=h[d]]!==o?(r[a]=o,m.push(a)):i[a]=o};
},{}],542:[function(require,module,exports) {
"use strict";var e=require("./../../../utils/collection/scatter"),r=require("../../../error/DimensionError");function t(t,a,i,n){var l=i(require("../../../function/relational/equalScalar")),o=t.SparseMatrix;return function(t,a,i){var s=t._values,u=t._size,v=t._datatype,c=a._values,f=a._size,h=a._datatype;if(u.length!==f.length)throw new r(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var p,g=u[0],d=u[1],m=l,x=0,_=i;"string"==typeof v&&v===h&&(p=v,m=n.find(l,[p,p]),x=n.convert(0,p),_=n.find(i,[p,p]));for(var w=s&&c?[]:void 0,y=[],q=[],z=new o({values:w,index:y,ptr:q,size:[g,d],datatype:p}),M=w?[]:void 0,D=[],E=[],S=0;S<d;S++){q[S]=y.length;var A=S+1;if(e(t,S,D,M,E,A,z,_),e(a,S,D,M,E,A,z,_),M)for(var B=q[S];B<y.length;){var R=y[B];if(E[R]===A){var b=M[R];m(b,x)?y.splice(B,1):(w.push(b),B++)}else y.splice(B,1)}else for(var j=q[S];j<y.length;)E[y[j]]!==A?y.splice(j,1):j++}return q[d]=y.length,z}}exports.name="algorithm06",exports.factory=t;
},{"./../../../utils/collection/scatter":574,"../../../error/DimensionError":99,"../../../function/relational/equalScalar":479}],501:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger;function e(r,e,i,a){var u=i(require("../../type/matrix/function/matrix")),n=i(require("../../type/matrix/utils/algorithm02")),s=i(require("../../type/matrix/utils/algorithm06")),m=i(require("../../type/matrix/utils/algorithm11")),o=i(require("../../type/matrix/utils/algorithm13")),c=i(require("../../type/matrix/utils/algorithm14")),f=a("lcm",{"number, number":t,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||t.isZero())return new r.BigNumber(0);var i=e.times(t);for(;!t.isZero();){var a=t;t=e.mod(a),e=a}return i.div(e).abs()},"Fraction, Fraction":function(r,e){return r.lcm(e)},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=s(r,e,f);break;default:t=n(e,r,f,!0)}break;default:switch(e.storage()){case"sparse":t=n(r,e,f,!1);break;default:t=o(r,e,f)}}return t},"Array, Array":function(r,e){return f(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return f(u(r),e)},"Matrix, Array":function(r,e){return f(r,u(e))},"Matrix, number | BigNumber":function(r,e){var t;switch(r.storage()){case"sparse":t=m(r,e,f,!1);break;default:t=c(r,e,f,!1)}return t},"number | BigNumber, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=m(e,r,f,!0);break;default:t=c(e,r,f,!0)}return t},"Array, number | BigNumber":function(r,e){return c(u(r),e,f,!1).valueOf()},"number | BigNumber, Array":function(r,e){return c(u(e),r,f,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(r,e,t){for(var i=f(r,e),a=0;a<t.length;a++)i=f(i,t[a]);return i}});return f.toTex=void 0,f}function t(e,t){if(!r(e)||!r(t))throw new Error("Parameters in function lcm must be integer numbers");if(0==e||0==t)return 0;for(var i,a=e*t;0!=t;)t=e%(i=t),e=i;return Math.abs(a/e)}exports.name="lcm",exports.factory=e;
},{"../../utils/number":134,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm06":542,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],502:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,n,o){var i=n(require("./divideScalar")),l=o("log",{number:function(r){return r>=0||t.predictable?Math.log(r):new e.Complex(r,0).log()},Complex:function(r){return r.log()},BigNumber:function(r){return!r.isNegative()||t.predictable?r.ln():new e.Complex(r.toNumber(),0).log()},"Array | Matrix":function(e){return r(e,l)},"any, any":function(r,e){return i(l(r),l(e))}});return l.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},l}exports.name="log",exports.factory=e;
},{"../../utils/collection/deepMap":132,"./divideScalar":547}],503:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function t(t,o,n,i){var l=i("log10",{number:function(e){return e>=0||o.predictable?r(e):new t.Complex(e,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||o.predictable?e.log():new t.Complex(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return e(t,l)}});return l.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},l}var r=Math.log10||function(e){return Math.log(e)/Math.LN10};exports.name="log10",exports.factory=t;
},{"../../utils/collection/deepMap":132}],504:[function(require,module,exports) {
"use strict";function r(r,t,e,a){var i=e(require("../../type/matrix/function/matrix")),u=require("../../utils/latex"),n=e(require("../../type/matrix/utils/algorithm02")),o=e(require("../../type/matrix/utils/algorithm03")),s=e(require("../../type/matrix/utils/algorithm05")),c=e(require("../../type/matrix/utils/algorithm11")),l=e(require("../../type/matrix/utils/algorithm12")),f=e(require("../../type/matrix/utils/algorithm13")),m=e(require("../../type/matrix/utils/algorithm14")),x=a("mod",{"number, number":function(r,t){if(t>0)return r-t*Math.floor(r/t);if(0===t)return r;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(r,t){return t.isZero()?r:r.mod(t)},"Fraction, Fraction":function(r,t){return r.mod(t)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=s(r,t,x,!1);break;default:e=n(t,r,x,!0)}break;default:switch(t.storage()){case"sparse":e=o(r,t,x,!1);break;default:e=f(r,t,x)}}return e},"Array, Array":function(r,t){return x(i(r),i(t)).valueOf()},"Array, Matrix":function(r,t){return x(i(r),t)},"Matrix, Array":function(r,t){return x(r,i(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=c(r,t,x,!1);break;default:e=m(r,t,x,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=l(t,r,x,!0);break;default:e=m(t,r,x,!0)}return e},"Array, any":function(r,t){return m(i(r),t,x,!1).valueOf()},"any, Array":function(r,t){return m(i(t),r,x,!0).valueOf()}});return x.toTex={2:"\\left(${args[0]}"+u.operators.mod+"${args[1]}\\right)"},x}exports.name="mod",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"../../utils/latex":282,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm05":543,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],212:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").clone,e=require("../../utils/string").format;function t(t,a,i,n){var s=i(require("../../type/matrix/function/matrix")),u=i(require("../arithmetic/add")),o=n("trace",{Array:function(r){return o(s(r))},Matrix:function(r){var e;switch(r.storage()){case"dense":e=c(r);break;case"sparse":e=f(r)}return e},any:r}),c=function(t){var a=t._size,i=t._data;switch(a.length){case 1:if(1==a[0])return r(i[0]);throw new RangeError("Matrix must be square (size: "+e(a)+")");case 2:var n=a[0];if(n===a[1]){for(var s=0,o=0;o<n;o++)s=u(s,i[o][o]);return s}throw new RangeError("Matrix must be square (size: "+e(a)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+e(a)+")")}},f=function(r){var t=r._values,a=r._index,i=r._ptr,n=r._size,s=n[0],o=n[1];if(s===o){var c=0;if(t.length>0)for(var f=0;f<o;f++)for(var m=i[f],v=i[f+1],h=m;h<v;h++){var w=a[h];if(w===f){c=u(c,t[h]);break}if(w>f)break}return c}throw new RangeError("Matrix must be square (size: "+e(n)+")")};return o.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},o}exports.name="trace",exports.factory=t;
},{"../../utils/object":86,"../../utils/string":151,"../../type/matrix/function/matrix":147,"../arithmetic/add":478}],506:[function(require,module,exports) {
"use strict";function r(r,e,t,n){var i=t(require("../arithmetic/abs")),u=t(require("../arithmetic/add")),a=t(require("../arithmetic/pow")),o=t(require("../arithmetic/sqrt")),f=t(require("../arithmetic/multiply")),m=t(require("../relational/equalScalar")),c=t(require("../relational/larger")),l=t(require("../relational/smaller")),s=t(require("../../type/matrix/function/matrix")),b=t(require("../matrix/trace")),p=t(require("../matrix/transpose")),N=n("norm",{number:Math.abs,Complex:function(r){return r.abs()},BigNumber:function(r){return r.abs()},"boolean | null":function(r){return Math.abs(r)},Array:function(r){return I(s(r),2)},Matrix:function(r){return I(r,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(r){return N(r)},"Array, number | BigNumber | string":function(r,e){return I(s(r),e)},"Matrix, number | BigNumber | string":function(r,e){return I(r,e)}});function I(r,e){var t=r.size();if(1==t.length){if(e===Number.POSITIVE_INFINITY||"inf"===e){var n=0;return r.forEach(function(r){var e=i(r);c(e,n)&&(n=e)},!0),n}var s;if(e===Number.NEGATIVE_INFINITY||"-inf"===e)return r.forEach(function(r){var e=i(r);s&&!l(e,s)||(s=e)},!0),s||0;if("fro"===e)return I(r,2);if("number"==typeof e&&!isNaN(e)){if(!m(e,0)){var N=0;return r.forEach(function(r){N=u(a(i(r),e),N)},!0),a(N,1/e)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==t.length){if(1===e){var h=[],v=0;return r.forEach(function(r,e){var t=e[1],n=u(h[t]||0,i(r));c(n,v)&&(v=n),h[t]=n},!0),v}if(e===Number.POSITIVE_INFINITY||"inf"===e){var g=[],q=0;return r.forEach(function(r,e){var t=e[0],n=u(g[t]||0,i(r));c(n,q)&&(q=n),g[t]=n},!0),q}if("fro"===e)return o(b(f(p(r),r)));if(2===e)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return N.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},N}exports.name="norm",exports.factory=r;
},{"../arithmetic/abs":487,"../arithmetic/add":478,"../arithmetic/pow":509,"../arithmetic/sqrt":511,"../arithmetic/multiply":505,"../relational/equalScalar":479,"../relational/larger":218,"../relational/smaller":220,"../../type/matrix/function/matrix":147,"../matrix/trace":212,"../matrix/transpose":213}],507:[function(require,module,exports) {
"use strict";function r(r,i,n,o){var u=n(require("../../type/matrix/function/matrix")),a=n(require("../../type/matrix/utils/algorithm01")),s=n(require("../../type/matrix/utils/algorithm02")),m=n(require("../../type/matrix/utils/algorithm06")),f=n(require("../../type/matrix/utils/algorithm11")),b=n(require("../../type/matrix/utils/algorithm13")),g=n(require("../../type/matrix/utils/algorithm14")),w=o("nthRoot",{number:function(r){return e(r,2)},"number, number":e,BigNumber:function(e){return c(e,new r.BigNumber(2))},Complex:function(r){return t(r,2)},"Complex, number":t,"BigNumber, BigNumber":c,"Array | Matrix":function(r){return w(r,2)},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");t=m(r,e,w);break;default:t=s(e,r,w,!0)}break;default:switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");t=a(r,e,w,!1);break;default:t=b(r,e,w)}}return t},"Array, Array":function(r,e){return w(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return w(u(r),e)},"Matrix, Array":function(r,e){return w(r,u(e))},"Matrix, number | BigNumber":function(r,e){var t;switch(r.storage()){case"sparse":t=f(r,e,w,!1);break;default:t=g(r,e,w,!1)}return t},"number | BigNumber, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");t=f(e,r,w,!0);break;default:t=g(e,r,w,!0)}return t},"Array, number | BigNumber":function(r,e){return w(u(r),e).valueOf()},"number | BigNumber, Array":function(r,e){return w(r,u(e)).valueOf()}});return w.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},w;function c(e,t){var i=r.BigNumber.precision,n=r.BigNumber.clone({precision:i+2}),o=new r.BigNumber(0),u=new n(1),a=t.isNegative();if(a&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return a?new n(1/0):0;if(!e.isFinite())return a?o:e;var s=e.abs().pow(u.div(t));return s=e.isNeg()?s.neg():s,new r.BigNumber((a?u.div(s):s).toPrecision(i))}}function e(r,e){var t=e<0;if(t&&(e=-e),0===e)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==r)return t?1/0:0;if(!isFinite(r))return t?0:r;var i=Math.pow(Math.abs(r),1/e);return i=r<0?-i:i,t?1/i:i}function t(r,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!=0)throw new Error("Root must be an integer");for(var t=r.arg(),i=r.abs(),n=[],o=Math.pow(i,1/e),u=0;u<e;u++)n.push({r:o,phi:(t+2*Math.PI*u)/e});return n}exports.name="nthRoot",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm06":542,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],214:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,e=require("../../utils/array").resize;function t(t,n,i,u){var a=i(require("../../type/matrix/function/matrix")),o=u("zeros",{"":function(){return"Array"===n.matrix?f([]):f([],"default")},"...number | BigNumber | string":function(r){return"string"==typeof r[r.length-1]?f(r,r.pop()):"Array"===n.matrix?f(r):f(r,"default")},Array:f,Matrix:function(r){var e=r.storage();return f(r.valueOf(),e)},"Array | Matrix, string":function(r,e){return f(r.valueOf(),e)}});return o.toTex=void 0,o;function f(n,i){var u,o=(u=!1,n.forEach(function(r,e,t){r&&!0===r.isBigNumber&&(u=!0,t[e]=r.toNumber())}),u)?new t.BigNumber(0):0;if(n.forEach(function(e){if("number"!=typeof e||!r(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}),i){var f=a(i);return n.length>0?f.resize(n,o):f}var s=[];return n.length>0?e(s,n,o):s}}exports.name="zeros",exports.factory=t;
},{"../../utils/number":134,"../../utils/array":87,"../../type/matrix/function/matrix":147}],508:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,e=require("../../utils/number").toFixed,t=require("../../utils/collection/deepMap"),n="Number of decimals in function round must be an integer";function u(e,u,o,a){var m=o(require("../../type/matrix/function/matrix")),c=o(require("../relational/equalScalar")),f=o(require("../matrix/zeros")),l=o(require("../../type/matrix/utils/algorithm11")),s=o(require("../../type/matrix/utils/algorithm12")),b=o(require("../../type/matrix/utils/algorithm14")),g=a("round",{number:Math.round,"number, number":function(e,t){if(!r(t))throw new TypeError(n);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(e,t)},Complex:function(r){return r.round()},"Complex, number":function(r,e){if(e%1)throw new TypeError(n);return r.round(e)},"Complex, BigNumber":function(r,e){if(!e.isInteger())throw new TypeError(n);var t=e.toNumber();return r.round(t)},"number, BigNumber":function(r,t){if(!t.isInteger())throw new TypeError(n);return new e.BigNumber(r).toDecimalPlaces(t.toNumber())},BigNumber:function(r){return r.toDecimalPlaces(0)},"BigNumber, BigNumber":function(r,e){if(!e.isInteger())throw new TypeError(n);return r.toDecimalPlaces(e.toNumber())},Fraction:function(r){return r.round()},"Fraction, number":function(r,e){if(e%1)throw new TypeError(n);return r.round(e)},"Array | Matrix":function(r){return t(r,g,!0)},"Matrix, number | BigNumber":function(r,e){var t;switch(r.storage()){case"sparse":t=l(r,e,g,!1);break;default:t=b(r,e,g,!1)}return t},"number | Complex | BigNumber, Matrix":function(r,e){if(!c(r,0)){var t;switch(e.storage()){case"sparse":t=s(e,r,g,!0);break;default:t=b(e,r,g,!0)}return t}return f(e.size(),e.storage())},"Array, number | BigNumber":function(r,e){return b(m(r),e,g,!1).valueOf()},"number | Complex | BigNumber, Array":function(r,e){return b(m(e),r,g,!0).valueOf()}});return g.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},g}function i(r,t){return parseFloat(e(r,t))}exports.name="round",exports.factory=u;
},{"../../utils/number":134,"../../utils/collection/deepMap":132,"../../type/matrix/function/matrix":147,"../relational/equalScalar":479,"../matrix/zeros":214,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm14":541}],510:[function(require,module,exports) {
"use strict";var r=require("../../utils/number"),n=require("../../utils/collection/deepMap");function e(e,t,i,u){var o=u("sign",{number:r.sign,Complex:function(r){return r.sign()},BigNumber:function(r){return new e.BigNumber(r.cmp(0))},Fraction:function(r){return new e.Fraction(r.s,1)},"Array | Matrix":function(r){return n(r,o,!0)},Unit:function(r){return o(r.value)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}exports.name="sign",exports.factory=e;
},{"../../utils/number":134,"../../utils/collection/deepMap":132}],512:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,n,e,u){var i=u("square",{number:function(r){return r*r},Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},Fraction:function(r){return r.mul(r)},"Array | Matrix":function(t){return r(t,i,!0)},Unit:function(r){return r.pow(2)}});return i.toTex={1:"\\left(${args[0]}\\right)^2"},i}exports.name="square",exports.factory=t;
},{"../../utils/collection/deepMap":132}],515:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function n(n,t,u,e){var i=require("../../utils/latex"),o=e("unaryPlus",{number:function(r){return r},Complex:function(r){return r},BigNumber:function(r){return r},Fraction:function(r){return r},Unit:function(r){return r.clone()},"Array | Matrix":function(n){return r(n,o,!0)},"boolean | string | null":function(r){return"BigNumber"==t.number?new n.BigNumber(+r):+r}});return o.toTex={1:i.operators.unaryPlus+"\\left(${args[0]}\\right)"},o}exports.name="unaryPlus",exports.factory=n;
},{"../../utils/collection/deepMap":132,"../../utils/latex":282}],516:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger;function e(e,n,t,i){var u=t(require("../../type/matrix/function/matrix")),o=i("xgcd",{"number, number":function(e,t){var i,o,m,s,a=0,g=1,f=1,c=0;if(!r(e)||!r(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)o=Math.floor(e/t),m=e-o*t,i=a,a=g-o*a,g=i,i=f,f=c-o*f,c=i,e=t,t=m;s=e<0?[-e,-g,-c]:[e,e?g:0,c];return"Array"===n.matrix?s:u(s)},"BigNumber, BigNumber":function(r,t){var i,o,m,s,a=new e.BigNumber(0),g=new e.BigNumber(1),f=a,c=g,b=g,x=a;if(!r.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=r.div(t).floor(),m=r.mod(t),i=f,f=c.minus(o.times(f)),c=i,i=b,b=x.minus(o.times(b)),x=i,r=t,t=m;s=r.lt(a)?[r.neg(),c.neg(),x.neg()]:[r,r.isZero()?0:c,x];return"Array"===n.matrix?s:u(s)}});return o.toTex=void 0,o}exports.name="xgcd",exports.factory=e;
},{"../../utils/number":134,"../../type/matrix/function/matrix":147}],116:[function(require,module,exports) {
module.exports=[require("./abs"),require("./add"),require("./addScalar"),require("./cbrt"),require("./ceil"),require("./cube"),require("./divide"),require("./dotDivide"),require("./dotMultiply"),require("./dotPow"),require("./exp"),require("./fix"),require("./floor"),require("./gcd"),require("./hypot"),require("./lcm"),require("./log"),require("./log10"),require("./mod"),require("./multiply"),require("./norm"),require("./nthRoot"),require("./pow"),require("./round"),require("./sign"),require("./sqrt"),require("./square"),require("./subtract"),require("./unaryMinus"),require("./unaryPlus"),require("./xgcd")];
},{"./abs":487,"./add":478,"./addScalar":488,"./cbrt":489,"./ceil":491,"./cube":490,"./divide":492,"./dotDivide":493,"./dotMultiply":494,"./dotPow":495,"./exp":496,"./fix":497,"./floor":498,"./gcd":499,"./hypot":500,"./lcm":501,"./log":502,"./log10":503,"./mod":504,"./multiply":505,"./norm":506,"./nthRoot":507,"./pow":509,"./round":508,"./sign":510,"./sqrt":511,"./square":512,"./subtract":513,"./unaryMinus":514,"./unaryPlus":515,"./xgcd":516}],566:[function(require,module,exports) {
module.exports=function(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,i=e.precision;return e.config({precision:1e9}),(n=n.plus(new e(1))).s=-n.s||null,e.config({precision:i}),n};
},{}],582:[function(require,module,exports) {
var e=require("./bitNot");function r(e){for(var r=e.d,n=r[0]+"",t=1;t<r.length;++t){for(var l=r[t]+"",o=7-l.length;o--;)l="0"+l;n+=l}for(c=n.length-1;"0"==n.charAt(c);--c);var i=e.e,s=n.slice(0,c+1||1),f=s.length;if(i>0)if(++i>f)for(i-=f;i--;s+="0");else i<f&&(s=s.slice(0,i)+"."+s.slice(i));var g=[0];for(t=0;t<s.length;){for(var h=g.length;h--;g[h]*=10);g[0]+=s.charAt(t++)<<0;for(var c=0;c<g.length;++c)g[c]>1&&(null==g[c+1]&&(g[c+1]=0),g[c+1]+=g[c]>>1,g[c]&=1)}return g.reverse()}module.exports=function(n,t,l){var o,i,s,f,g,h=n.constructor,c=+(n.s<0),a=+(t.s<0);if(c){o=r(e(n));for(var v=0;v<o.length;++v)o[v]^=1}else o=r(n);if(a){i=r(e(t));for(v=0;v<i.length;++v)i[v]^=1}else i=r(t);o.length<=i.length?(s=o,f=i,g=c):(s=i,f=o,g=a);var u=s.length,p=f.length,m=1^l(c,a),w=new h(1^m),d=new h(1),A=new h(2),b=h.precision;for(h.config({precision:1e9});u>0;)l(s[--u],f[--p])==m&&(w=w.plus(d)),d=d.times(A);for(;p>0;)l(g,f[--p])==m&&(w=w.plus(d)),d=d.times(A);return h.config({precision:b}),0==m&&(w.s=-w.s),w};
},{"./bitNot":566}],572:[function(require,module,exports) {
var i=require("./bitwise");module.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()==t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return i(e,t,function(i,e){return i&e})};
},{"./bitwise":582}],521:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,t=require("../../utils/bignumber/bitAnd");function e(e,a,i,u){var n=require("../../utils/latex"),s=i(require("../../type/matrix/function/matrix")),o=i(require("../../type/matrix/utils/algorithm02")),c=i(require("../../type/matrix/utils/algorithm06")),f=i(require("../../type/matrix/utils/algorithm11")),l=i(require("../../type/matrix/utils/algorithm13")),m=i(require("../../type/matrix/utils/algorithm14")),g=u("bitAnd",{"number, number":function(t,e){if(!r(t)||!r(e))throw new Error("Integers expected in function bitAnd");return t&e},"BigNumber, BigNumber":t,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,g,!1);break;default:e=o(t,r,g,!0)}break;default:switch(t.storage()){case"sparse":e=o(r,t,g,!1);break;default:e=l(r,t,g)}}return e},"Array, Array":function(r,t){return g(s(r),s(t)).valueOf()},"Array, Matrix":function(r,t){return g(s(r),t)},"Matrix, Array":function(r,t){return g(r,s(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,g,!1);break;default:e=m(r,t,g,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,g,!0);break;default:e=m(t,r,g,!0)}return e},"Array, any":function(r,t){return m(s(r),t,g,!1).valueOf()},"any, Array":function(r,t){return m(s(t),r,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+n.operators.bitAnd+"${args[1]}\\right)"},g}exports.name="bitAnd",exports.factory=e;
},{"../../utils/number":134,"../../utils/bignumber/bitAnd":572,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm06":542,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],522:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),t=require("../../utils/bignumber/bitNot"),e=require("../../utils/number").isInteger;function i(i,n,u,o){var s=require("../../utils/latex"),a=o("bitNot",{number:function(r){if(!e(r))throw new Error("Integer expected in function bitNot");return~r},BigNumber:t,"Array | Matrix":function(t){return r(t,a)}});return a.toTex={1:s.operators.bitNot+"\\left(${args[0]}\\right)"},a}exports.name="bitNot",exports.factory=i;
},{"../../utils/collection/deepMap":132,"../../utils/bignumber/bitNot":566,"../../utils/number":134,"../../utils/latex":282}],567:[function(require,module,exports) {
var i=require("./bitwise");module.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:e.isFinite()&&t.isFinite()?i(e,t,function(i,e){return i|e}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e};
},{"./bitwise":582}],523:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,t=require("../../utils/bignumber/bitOr");function e(e,a,i,u){var n=require("../../utils/latex"),s=i(require("../../type/matrix/function/matrix")),o=i(require("../../type/matrix/utils/algorithm01")),c=i(require("../../type/matrix/utils/algorithm04")),f=i(require("../../type/matrix/utils/algorithm10")),l=i(require("../../type/matrix/utils/algorithm13")),m=i(require("../../type/matrix/utils/algorithm14")),g=u("bitOr",{"number, number":function(t,e){if(!r(t)||!r(e))throw new Error("Integers expected in function bitOr");return t|e},"BigNumber, BigNumber":t,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,g);break;default:e=o(t,r,g,!0)}break;default:switch(t.storage()){case"sparse":e=o(r,t,g,!1);break;default:e=l(r,t,g)}}return e},"Array, Array":function(r,t){return g(s(r),s(t)).valueOf()},"Array, Matrix":function(r,t){return g(s(r),t)},"Matrix, Array":function(r,t){return g(r,s(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,g,!1);break;default:e=m(r,t,g,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,g,!0);break;default:e=m(t,r,g,!0)}return e},"Array, any":function(r,t){return m(s(r),t,g,!1).valueOf()},"any, Array":function(r,t){return m(s(t),r,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+n.operators.bitOr+"${args[1]}\\right)"},g}exports.name="bitOr",exports.factory=e;
},{"../../utils/number":134,"../../utils/bignumber/bitOr":567,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm04":558,"../../type/matrix/utils/algorithm10":559,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],568:[function(require,module,exports) {
var i=require("./bitwise"),e=require("./bitNot");module.exports=function(r,t){if(r.isFinite()&&!r.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=r.constructor;if(r.isNaN()||t.isNaN())return new n(NaN);if(r.isZero())return t;if(t.isZero())return r;if(r.eq(t))return new n(0);var s=new n(-1);return r.eq(s)?e(t):t.eq(s)?e(r):r.isFinite()&&t.isFinite()?i(r,t,function(i,e){return i^e}):r.isFinite()||t.isFinite()?new n(r.isNegative()==t.isNegative()?1/0:-1/0):s};
},{"./bitwise":582,"./bitNot":566}],524:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,t=require("../../utils/bignumber/bitXor");function e(e,a,i,u){var n=require("../../utils/latex"),s=i(require("../../type/matrix/function/matrix")),o=i(require("../../type/matrix/utils/algorithm03")),c=i(require("../../type/matrix/utils/algorithm07")),f=i(require("../../type/matrix/utils/algorithm12")),l=i(require("../../type/matrix/utils/algorithm13")),m=i(require("../../type/matrix/utils/algorithm14")),g=u("bitXor",{"number, number":function(t,e){if(!r(t)||!r(e))throw new Error("Integers expected in function bitXor");return t^e},"BigNumber, BigNumber":t,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,g);break;default:e=o(t,r,g,!0)}break;default:switch(t.storage()){case"sparse":e=o(r,t,g,!1);break;default:e=l(r,t,g)}}return e},"Array, Array":function(r,t){return g(s(r),s(t)).valueOf()},"Array, Matrix":function(r,t){return g(s(r),t)},"Matrix, Array":function(r,t){return g(r,s(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,g,!1);break;default:e=m(r,t,g,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,g,!0);break;default:e=m(t,r,g,!0)}return e},"Array, any":function(r,t){return m(s(r),t,g,!1).valueOf()},"any, Array":function(r,t){return m(s(t),r,g,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+n.operators.bitXor+"${args[1]}\\right)"},g}exports.name="bitXor",exports.factory=e;
},{"../../utils/number":134,"../../utils/bignumber/bitXor":568,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],570:[function(require,module,exports) {
module.exports=function(e,i){if(e.isFinite()&&!e.isInteger()||i.isFinite()&&!i.isInteger())throw new Error("Integers expected in function leftShift");var t=e.constructor;return e.isNaN()||i.isNaN()||i.isNegative()&&!i.isZero()?new t(NaN):e.isZero()||i.isZero()?e:e.isFinite()||i.isFinite()?i.lt(55)?e.times(Math.pow(2,i.toNumber())+""):e.times(new t(2).pow(i)):new t(NaN)};
},{}],571:[function(require,module,exports) {
"use strict";var r=require("../../../error/DimensionError");function e(e,t,n,a){var i=n(require("../../../function/relational/equalScalar")),o=e.SparseMatrix;return function(e,t,n){var s=e._values,l=e._index,p=e._ptr,f=e._size,h=e._datatype,u=t._values,c=t._index,v=t._ptr,g=t._size,_=t._datatype;if(f.length!==g.length)throw new r(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");if(!s||!u)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,d=f[0],x=f[1],w=i,y=0,M=n;"string"==typeof h&&h===_&&(m=h,w=a.find(i,[m,m]),y=a.convert(0,m),M=a.find(n,[m,m]));for(var q,z,E,S,D=[],A=[],B=[],C=new o({values:D,index:A,ptr:B,size:[d,x],datatype:m}),P=[],R=[],b=0;b<x;b++){B[b]=A.length;var j=b+1;for(z=p[b],E=p[b+1],q=z;q<E;q++)R[S=l[q]]=j,P[S]=s[q],A.push(S);for(z=v[b],E=v[b+1],q=z;q<E;q++)R[S=c[q]]===j&&(P[S]=M(P[S],u[q]));for(q=B[b];q<A.length;){var k=P[S=A[q]];w(k,y)?A.splice(q,1):(D.push(k),q++)}}return B[x]=A.length,C}}exports.name="algorithm08",exports.factory=e;
},{"../../../error/DimensionError":99,"../../../function/relational/equalScalar":479}],525:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,e=require("../../utils/bignumber/leftShift");function t(t,i,a,u){var n=require("../../utils/latex"),s=a(require("../../type/matrix/function/matrix")),l=a(require("../relational/equalScalar")),o=a(require("../matrix/zeros")),f=a(require("../../type/matrix/utils/algorithm01")),m=a(require("../../type/matrix/utils/algorithm02")),c=a(require("../../type/matrix/utils/algorithm08")),g=a(require("../../type/matrix/utils/algorithm10")),x=a(require("../../type/matrix/utils/algorithm11")),b=a(require("../../type/matrix/utils/algorithm13")),h=a(require("../../type/matrix/utils/algorithm14")),p=u("leftShift",{"number, number":function(e,t){if(!r(e)||!r(t))throw new Error("Integers expected in function leftShift");return e<<t},"BigNumber, BigNumber":e,"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=c(r,e,p,!1);break;default:t=m(e,r,p,!0)}break;default:switch(e.storage()){case"sparse":t=f(r,e,p,!1);break;default:t=b(r,e,p)}}return t},"Array, Array":function(r,e){return p(s(r),s(e)).valueOf()},"Array, Matrix":function(r,e){return p(s(r),e)},"Matrix, Array":function(r,e){return p(r,s(e))},"Matrix, number | BigNumber":function(r,e){if(!l(e,0)){var t;switch(r.storage()){case"sparse":t=x(r,e,p,!1);break;default:t=h(r,e,p,!1)}return t}return r.clone()},"number | BigNumber, Matrix":function(r,e){if(!l(r,0)){var t;switch(e.storage()){case"sparse":t=g(e,r,p,!0);break;default:t=h(e,r,p,!0)}return t}return o(e.size(),e.storage())},"Array, number | BigNumber":function(r,e){return p(s(r),e).valueOf()},"number | BigNumber, Array":function(r,e){return p(r,s(e)).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+n.operators.leftShift+"${args[1]}\\right)"},p}exports.name="leftShift",exports.factory=t;
},{"../../utils/number":134,"../../utils/bignumber/leftShift":570,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../relational/equalScalar":479,"../matrix/zeros":214,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm08":571,"../../type/matrix/utils/algorithm10":559,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],573:[function(require,module,exports) {
module.exports=function(i,e){if(i.isFinite()&&!i.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=i.constructor;return i.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):i.isZero()||e.isZero()?i:e.isFinite()?e.lt(55)?i.div(Math.pow(2,e.toNumber())+"").floor():i.div(new t(2).pow(e)).floor():i.isNegative()?new t(-1):i.isFinite()?new t(0):new t(NaN)};
},{}],526:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,t=require("../../utils/bignumber/rightArithShift");function e(e,i,a,u){var n=require("../../utils/latex"),s=a(require("../../type/matrix/function/matrix")),o=a(require("../relational/equalScalar")),l=a(require("../matrix/zeros")),m=a(require("../../type/matrix/utils/algorithm01")),f=a(require("../../type/matrix/utils/algorithm02")),g=a(require("../../type/matrix/utils/algorithm08")),h=a(require("../../type/matrix/utils/algorithm10")),c=a(require("../../type/matrix/utils/algorithm11")),x=a(require("../../type/matrix/utils/algorithm13")),b=a(require("../../type/matrix/utils/algorithm14")),p=u("rightArithShift",{"number, number":function(t,e){if(!r(t)||!r(e))throw new Error("Integers expected in function rightArithShift");return t>>e},"BigNumber, BigNumber":t,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=g(r,t,p,!1);break;default:e=f(t,r,p,!0)}break;default:switch(t.storage()){case"sparse":e=m(r,t,p,!1);break;default:e=x(r,t,p)}}return e},"Array, Array":function(r,t){return p(s(r),s(t)).valueOf()},"Array, Matrix":function(r,t){return p(s(r),t)},"Matrix, Array":function(r,t){return p(r,s(t))},"Matrix, number | BigNumber":function(r,t){if(!o(t,0)){var e;switch(r.storage()){case"sparse":e=c(r,t,p,!1);break;default:e=b(r,t,p,!1)}return e}return r.clone()},"number | BigNumber, Matrix":function(r,t){if(!o(r,0)){var e;switch(t.storage()){case"sparse":e=h(t,r,p,!0);break;default:e=b(t,r,p,!0)}return e}return l(t.size(),t.storage())},"Array, number | BigNumber":function(r,t){return p(s(r),t).valueOf()},"number | BigNumber, Array":function(r,t){return p(r,s(t)).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+n.operators.rightArithShift+"${args[1]}\\right)"},p}exports.name="rightArithShift",exports.factory=e;
},{"../../utils/number":134,"../../utils/bignumber/rightArithShift":573,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../relational/equalScalar":479,"../matrix/zeros":214,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm08":571,"../../type/matrix/utils/algorithm10":559,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],527:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger;function e(e,t,i,a){var u=require("../../utils/latex"),n=i(require("../../type/matrix/function/matrix")),s=i(require("../relational/equalScalar")),o=i(require("../matrix/zeros")),l=i(require("../../type/matrix/utils/algorithm01")),g=i(require("../../type/matrix/utils/algorithm02")),f=i(require("../../type/matrix/utils/algorithm08")),m=i(require("../../type/matrix/utils/algorithm10")),c=i(require("../../type/matrix/utils/algorithm11")),h=i(require("../../type/matrix/utils/algorithm13")),x=i(require("../../type/matrix/utils/algorithm14")),p=a("rightLogShift",{"number, number":function(e,t){if(!r(e)||!r(t))throw new Error("Integers expected in function rightLogShift");return e>>>t},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=f(r,e,p,!1);break;default:t=g(e,r,p,!0)}break;default:switch(e.storage()){case"sparse":t=l(r,e,p,!1);break;default:t=h(r,e,p)}}return t},"Array, Array":function(r,e){return p(n(r),n(e)).valueOf()},"Array, Matrix":function(r,e){return p(n(r),e)},"Matrix, Array":function(r,e){return p(r,n(e))},"Matrix, number | BigNumber":function(r,e){if(!s(e,0)){var t;switch(r.storage()){case"sparse":t=c(r,e,p,!1);break;default:t=x(r,e,p,!1)}return t}return r.clone()},"number | BigNumber, Matrix":function(r,e){if(!s(r,0)){var t;switch(e.storage()){case"sparse":t=m(e,r,p,!0);break;default:t=x(e,r,p,!0)}return t}return o(e.size(),e.storage())},"Array, number | BigNumber":function(r,e){return p(n(r),e).valueOf()},"number | BigNumber, Array":function(r,e){return p(r,n(e)).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+u.operators.rightLogShift+"${args[1]}\\right)"},p}exports.name="rightLogShift",exports.factory=e;
},{"../../utils/number":134,"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../relational/equalScalar":479,"../matrix/zeros":214,"../../type/matrix/utils/algorithm01":557,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm08":571,"../../type/matrix/utils/algorithm10":559,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],118:[function(require,module,exports) {
module.exports=[require("./bitAnd"),require("./bitNot"),require("./bitOr"),require("./bitXor"),require("./leftShift"),require("./rightArithShift"),require("./rightLogShift")];
},{"./bitAnd":521,"./bitNot":522,"./bitOr":523,"./bitXor":524,"./leftShift":525,"./rightArithShift":526,"./rightLogShift":527}],265:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),e=require("../../utils/number").isInteger;function i(i,a,u,m){var o=u(require("../arithmetic/multiply")),s=u(require("../arithmetic/pow")),h=m("gamma",{number:function(r){var i,a;if(e(r)){if(r<=0)return isFinite(r)?1/0:NaN;if(r>171)return 1/0;for(var u=r-2,m=r-1;u>1;)m*=u,u--;return 0==m&&(m=1),m}if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*h(1-r));if(r>=171.35)return 1/0;if(r>85){var o=r*r,s=o*r,f=s*r,g=f*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*o)-139/(51840*s)-571/(2488320*f)+163879/(209018880*g)+5246819/(75246796800*g*r))}--r,a=n[0];for(var c=1;c<n.length;++c)a+=n[c]/(r+c);return i=r+t+.5,Math.sqrt(2*Math.PI)*Math.pow(i,r+.5)*Math.exp(-i)*a},Complex:function(r){var e,a;if(0==r.im)return h(r.re);r=new i.Complex(r.re-1,r.im),a=new i.Complex(n[0],0);for(var u=1;u<n.length;++u){var m=r.re+u,f=m*m+r.im*r.im;0!=f?(a.re+=n[u]*m/f,a.im+=-n[u]*r.im/f):a.re=n[u]<0?-1/0:1/0}e=new i.Complex(r.re+t+.5,r.im);var g=Math.sqrt(2*Math.PI);r.re+=.5;var c=s(e,r);0==c.im?c.re*=g:0==c.re?c.im*=g:(c.re*=g,c.im*=g);var M=Math.exp(-e.re);return e.re=M*Math.cos(-e.im),e.im=M*Math.sin(-e.im),o(o(c,e),a)},BigNumber:function(r){if(r.isInteger())return r.isNegative()||r.isZero()?new i.BigNumber(1/0):function(r){if(r.isZero())return new i.BigNumber(1);var e=a.precision+(0|Math.log(r.toNumber())),t=new(i.BigNumber.clone({precision:e}))(r),n=r.toNumber()-1;for(;n>1;)t=t.times(n),n--;return new i.BigNumber(t.toPrecision(i.BigNumber.precision))}(r.minus(1));if(!r.isFinite())return new i.BigNumber(r.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return r(e,h)}});return h.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},h}var t=4.7421875,n=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];exports.name="gamma",exports.factory=i;
},{"../../utils/collection/deepMap":132,"../../utils/number":134,"../arithmetic/multiply":505,"../arithmetic/pow":509}],263:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,a,i){var n=a(require("./gamma")),o=require("../../utils/latex"),u=i("factorial",{number:function(r){if(r<0)throw new Error("Value must be non-negative");return n(r+1)},BigNumber:function(r){if(r.isNegative())throw new Error("Value must be non-negative");return n(r.plus(1))},"Array | Matrix":function(e){return r(e,u)}});return u.toTex={1:"\\left(${args[0]}\\right)"+o.operators.factorial},u}exports.name="factorial",exports.factory=e;
},{"../../utils/collection/deepMap":132,"./gamma":265,"../../utils/latex":282}],262:[function(require,module,exports) {
"use strict";var e=require("../../utils/number").isInteger;function n(n,i,t,o){var u=o("combinations",{"number, number":function(n,r){var i,t,o;if(!e(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!e(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(r>n)throw new TypeError("k must be less than or equal to n");for(i=Math.max(r,n-r),t=1,o=1;o<=n-i;o++)t=t*(i+o)/o;return t},"BigNumber, BigNumber":function(e,i){var t,o,u,s,a=new n.BigNumber(1);if(!r(e)||!r(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(e))throw new TypeError("k must be less than n in function combinations");for(t=e.minus(i),i.lt(t)&&(t=i),o=a,u=a,s=e.minus(t);u.lte(s);u=u.plus(1))o=o.times(t.plus(u)).dividedBy(u);return o}});return u.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},u}function r(e){return e.isInteger()&&e.gte(0)}exports.name="combinations",exports.factory=n;
},{"../../utils/number":134}],273:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),e=require("../../utils/number");function n(n,t,i,u){var s=u("isInteger",{number:e.isInteger,BigNumber:function(r){return r.isInt()},Fraction:function(r){return 1===r.d&&isFinite(r.n)},"Array | Matrix":function(e){return r(e,s)}});return s}exports.name="isInteger",exports.factory=n;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],519:[function(require,module,exports) {
"use strict";function r(r,e,i,t){var n=i(require("../arithmetic/add")),u=i(require("../arithmetic/subtract")),a=i(require("../arithmetic/multiply")),o=i(require("../arithmetic/divide")),l=i(require("../arithmetic/pow")),s=i(require("../probability/factorial")),c=i(require("../probability/combinations")),m=i(require("../utils/isNegative")),g=i(require("../utils/isInteger")),b=i(require("../relational/larger")),q=t("stirlingS2",{"number | BigNumber, number | BigNumber":function(r,e){if(!g(r)||m(r)||!g(e)||m(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(b(e,r))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var i=s(e),t=0,q=0;q<=e;q++){var f=l(-1,u(e,q)),h=c(e,q),p=l(q,r);t=n(t,a(a(h,p),f))}return o(t,i)}});return q.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},q}exports.name="stirlingS2",exports.factory=r;
},{"../arithmetic/add":478,"../arithmetic/subtract":513,"../arithmetic/multiply":505,"../arithmetic/divide":492,"../arithmetic/pow":509,"../probability/factorial":263,"../probability/combinations":262,"../utils/isNegative":274,"../utils/isInteger":273,"../relational/larger":218}],518:[function(require,module,exports) {
"use strict";function e(e,r,t,i){var u=t(require("../arithmetic/add")),n=t(require("./stirlingS2")),s=t(require("../utils/isNegative")),a=t(require("../utils/isInteger")),o=i("bellNumbers",{"number | BigNumber":function(e){if(!a(e)||s(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var r=0,t=0;t<=e;t++)r=u(r,n(e,t));return r}});return o.toTex={1:"\\mathrm{B}_{${args[0]}}"},o}exports.name="bellNumbers",exports.factory=e;
},{"../arithmetic/add":478,"./stirlingS2":519,"../utils/isNegative":274,"../utils/isInteger":273}],517:[function(require,module,exports) {
"use strict";function e(e,i,r,o){var t=r(require("../probability/combinations")),n=r(require("../arithmetic/addScalar")),u=r(require("../utils/isPositive")),s=r(require("../utils/isInteger")),a=r(require("../relational/larger")),c=o("composition",{"number | BigNumber, number | BigNumber":function(e,i){if(!(s(e)&&u(e)&&s(i)&&u(i)))throw new TypeError("Positive integer value expected in function composition");if(a(i,e))throw new TypeError("k must be less than or equal to n in function composition");return t(n(e,-1),n(i,-1))}});return c.toTex=void 0,c}exports.name="composition",exports.factory=e;
},{"../probability/combinations":262,"../arithmetic/addScalar":488,"../utils/isPositive":276,"../utils/isInteger":273,"../relational/larger":218}],520:[function(require,module,exports) {
"use strict";function e(e,r,i,t){var a=i(require("../arithmetic/add")),n=i(require("../arithmetic/divide")),u=i(require("../arithmetic/multiply")),c=i(require("../probability/combinations")),o=i(require("../utils/isNegative")),m=i(require("../utils/isInteger")),s=t("catalan",{"number | BigNumber":function(e){if(!m(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return n(c(u(e,2),e),a(e,1))}});return s.toTex={1:"\\mathrm{C}_{${args[0]}}"},s}exports.name="catalan",exports.factory=e;
},{"../arithmetic/add":478,"../arithmetic/divide":492,"../arithmetic/multiply":505,"../probability/combinations":262,"../utils/isNegative":274,"../utils/isInteger":273}],117:[function(require,module,exports) {
module.exports=[require("./bellNumbers"),require("./composition"),require("./stirlingS2"),require("./catalan")];
},{"./bellNumbers":518,"./composition":517,"./stirlingS2":519,"./catalan":520}],187:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,e,n,a){var u=a("arg",{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return t.BigNumber.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":function(t){return r(t,u)}});return u.toTex={1:"\\arg\\left(${args[0]}\\right)"},u}exports.name="arg",exports.factory=t;
},{"../../utils/collection/deepMap":132}],188:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,n,e,u){var o=u("conj",{number:function(r){return r},BigNumber:function(r){return r},Complex:function(r){return r.conjugate()},"Array | Matrix":function(t){return r(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)^*"},o}exports.name="conj",exports.factory=t;
},{"../../utils/collection/deepMap":132}],189:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,n,i){var u=i("im",{number:function(r){return 0},BigNumber:function(r){return new e.BigNumber(0)},Complex:function(r){return r.im},"Array | Matrix":function(e){return r(e,u)}});return u.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},u}exports.name="im",exports.factory=e;
},{"../../utils/collection/deepMap":132}],190:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,n,u){var i=u("re",{number:function(r){return r},BigNumber:function(r){return r},Complex:function(r){return r.re},"Array | Matrix":function(e){return r(e,i)}});return i.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},i}exports.name="re",exports.factory=e;
},{"../../utils/collection/deepMap":132}],121:[function(require,module,exports) {
module.exports=[require("./arg"),require("./conj"),require("./im"),require("./re")];
},{"./arg":187,"./conj":188,"./im":189,"./re":190}],182:[function(require,module,exports) {
"use strict";function r(r,e,t,n){var i=t(require("../arithmetic/abs")),u=t(require("../arithmetic/add")),o=t(require("../../type/matrix/function/matrix")),a=t(require("../arithmetic/multiply")),f=t(require("../arithmetic/subtract")),y=n("intersect",{"Array, Array, Array":function(r,e,t){if(!h(r))throw new TypeError("Array with 3 numbers expected for first argument");if(!h(e))throw new TypeError("Array with 3 numbers expected for second argument");if(4!==(n=t).length||"number"!=typeof n[0]||"number"!=typeof n[1]||"number"!=typeof n[2]||"number"!=typeof n[3])throw new TypeError("Array with 4 numbers expected as third argument");var n,i,u,o,a,f,y,m,p,w,c,s;return i=r[0],u=r[1],o=r[2],a=e[0],f=e[1],y=e[2],m=t[0],p=t[1],w=t[2],c=t[3],[i+(s=(c-i*m-u*p-o*w)/(a*m+f*p+y*w-i-u-o))*(a-i),u+s*(f-u),o+s*(y-o)]},"Array, Array, Array, Array":function(r,t,n,o){if(2===r.length){if(!m(r))throw new TypeError("Array with 2 numbers expected for first argument");if(!m(t))throw new TypeError("Array with 2 numbers expected for second argument");if(!m(n))throw new TypeError("Array with 2 numbers expected for third argument");if(!m(o))throw new TypeError("Array with 2 numbers expected for fourth argument");return function(r,t,n,o){var y=r,m=n,h=f(y,t),p=f(m,o),w=h[0]*p[1]-p[0]*h[1];if(i(w)<e.epsilon)return null;var c=(p[0]*y[1]-p[1]*y[0]-p[0]*m[1]+p[1]*m[0])/w;return u(a(h,c),y)}(r,t,n,o)}if(3===r.length){if(!h(r))throw new TypeError("Array with 3 numbers expected for first argument");if(!h(t))throw new TypeError("Array with 3 numbers expected for second argument");if(!h(n))throw new TypeError("Array with 3 numbers expected for third argument");if(!h(o))throw new TypeError("Array with 3 numbers expected for fourth argument");return y=r[0],p=r[1],w=r[2],c=t[0],s=t[1],x=t[2],b=n[0],d=n[1],l=n[2],A=o[0],g=o[1],v=o[2],k=p+(O=((E=(y-b)*(A-b)+(p-d)*(g-d)+(w-l)*(v-l))*(T=(A-b)*(c-y)+(g-d)*(s-p)+(v-l)*(x-w))-((y-b)*(c-y)+(p-d)*(s-p)+(w-l)*(x-w))*(M=(A-b)*(A-b)+(g-d)*(g-d)+(v-l)*(v-l)))/(((c-y)*(c-y)+(s-p)*(s-p)+(x-w)*(x-w))*M-T*T))*(s-p),z=w+O*(x-w),(j=y+O*(c-y))===b+(q=(E+O*T)/M)*(A-b)&&k===d+q*(g-d)&&z===l+q*(v-l)?[j,k,z]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var y,p,w,c,s,x,b,d,l,A,g,v,E,T,M,O,q,j,k,z},"Matrix, Matrix, Matrix":function(r,e,t){return o(y(r.valueOf(),e.valueOf(),t.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(r,e,t,n){return o(y(r.valueOf(),e.valueOf(),t.valueOf(),n.valueOf()))}});function m(r){return 2===r.length&&"number"==typeof r[0]&&"number"==typeof r[1]}function h(r){return 3===r.length&&"number"==typeof r[0]&&"number"==typeof r[1]&&"number"==typeof r[2]}return y}exports.name="intersect",exports.factory=r;
},{"../arithmetic/abs":487,"../arithmetic/add":478,"../../type/matrix/function/matrix":147,"../arithmetic/multiply":505,"../arithmetic/subtract":513}],181:[function(require,module,exports) {
"use strict";function e(e,o,f,h){f(require("../../type/matrix/function/matrix"));return h("distance",{"Array, Array, Array":function(e,n,t){if(2==e.length&&2==n.length&&2==t.length){if(!r(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!r(n))throw new TypeError("Array with 2 numbers expected for second argument");if(!r(t))throw new TypeError("Array with 2 numbers expected for third argument");var o=(t[1]-t[0])/(n[1]-n[0]),i=o*o*n[0],a=o*n[0]*-1,y=e[1];return p(e[0],e[1],i,a,y)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,n,t){if(2==Object.keys(e).length&&2==Object.keys(n).length&&2==Object.keys(t).length){if(!r(e))throw new TypeError("Values of pointX and pointY should be numbers");if(!r(n))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!r(t))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&n.hasOwnProperty("lineOnePtX")&&n.hasOwnProperty("lineOnePtY")&&t.hasOwnProperty("lineTwoPtX")&&t.hasOwnProperty("lineTwoPtY")){var o=(t.lineTwoPtY-t.lineTwoPtX)/(n.lineOnePtY-n.lineOnePtX),i=o*o*n.lineOnePtX,a=o*n.lineOnePtX*-1,y=e.pointX;return p(e.pointX,e.pointY,i,a,y)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,o){if(2==e.length&&3==o.length){if(!r(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!n(o))throw new TypeError("Array with 3 numbers expected for second argument");return p(e[0],e[1],o[0],o[1],o[2])}if(3==e.length&&6==o.length){if(!n(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!t(o))throw new TypeError("Array with 6 numbers expected for second argument");return a(e[0],e[1],e[2],o[0],o[1],o[2],o[3],o[4],o[5])}if(2==e.length&&2==o.length){if(!r(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!r(o))throw new TypeError("Array with 2 numbers expected for second argument");return y(e[0],e[1],o[0],o[1])}if(3==e.length&&3==o.length){if(!n(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!n(o))throw new TypeError("Array with 3 numbers expected for second argument");return u(e[0],e[1],e[2],o[0],o[1],o[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,o){if(2==Object.keys(e).length&&3==Object.keys(o).length){if(!r(e))throw new TypeError("Values of pointX and pointY should be numbers");if(!n(o))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&o.hasOwnProperty("xCoeffLine")&&o.hasOwnProperty("yCoeffLine")&&o.hasOwnProperty("yCoeffLine"))return p(e.pointX,e.pointY,o.xCoeffLine,o.yCoeffLine,o.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(e).length&&6==Object.keys(o).length){if(!n(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!t(o))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&o.hasOwnProperty("x0")&&o.hasOwnProperty("y0")&&o.hasOwnProperty("z0")&&o.hasOwnProperty("a")&&o.hasOwnProperty("b")&&o.hasOwnProperty("c"))return a(e.pointX,e.pointY,e.pointZ,o.x0,o.y0,o.z0,o.a,o.b,o.c);throw new TypeError("Key names do not match")}if(2==Object.keys(e).length&&2==Object.keys(o).length){if(!r(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!r(o))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&o.hasOwnProperty("pointTwoX")&&o.hasOwnProperty("pointTwoY"))return y(e.pointOneX,e.pointOneY,o.pointTwoX,o.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(e).length&&3==Object.keys(o).length){if(!n(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!n(o))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointOneZ")&&o.hasOwnProperty("pointTwoX")&&o.hasOwnProperty("pointTwoY")&&o.hasOwnProperty("pointTwoZ"))return u(e.pointOneX,e.pointOneY,e.pointOneZ,o.pointTwoX,o.pointTwoY,o.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!i(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return w(e)}})}function r(e){return e.constructor!==Array&&(e=o(e)),"number"==typeof e[0]&&"number"==typeof e[1]}function n(e){return e.constructor!==Array&&(e=o(e)),"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]}function t(e){return e.constructor!==Array&&(e=o(e)),"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]&&"number"==typeof e[3]&&"number"==typeof e[4]&&"number"==typeof e[5]}function o(e){for(var r=Object.keys(e),n=[],t=0;t<r.length;t++)n.push(e[r[t]]);return n}function i(e){if(2==e[0].length&&"number"==typeof e[0][0]&&"number"==typeof e[0][1]){for(var r in e)if(2!=e[r].length||"number"!=typeof e[r][0]||"number"!=typeof e[r][1])return!1}else{if(3!=e[0].length||"number"!=typeof e[0][0]||"number"!=typeof e[0][1]||"number"!=typeof e[0][2])return!1;for(var r in e)if(3!=e[r].length||"number"!=typeof e[r][0]||"number"!=typeof e[r][1]||"number"!=typeof e[r][2])return!1}return!0}function p(e,r,n,t,o){return Math.abs(n*e+t*r+o)/Math.pow(n*n+t*t,.5)}function a(e,r,n,t,o,i,p,a,y){var u=[(o-r)*y-(i-n)*a,(i-n)*p-(t-e)*y,(t-e)*a-(o-r)*p];return(u=Math.pow(u[0]*u[0]+u[1]*u[1]+u[2]*u[2],.5))/Math.pow(p*p+a*a+y*y,.5)}function y(e,r,n,t){var o=t-r,i=n-e,p=o*o+i*i;return Math.pow(p,.5)}function u(e,r,n,t,o,i){var p=i-n,a=o-r,y=t-e,u=p*p+a*a+y*y;return Math.pow(u,.5)}function w(e){for(var r=[],n=0;n<e.length-1;n++)for(var t=n+1;t<e.length;t++)2==e[0].length?r.push(y(e[n][0],e[n][1],e[t][0],e[t][1])):3==e[0].length&&r.push(u(e[n][0],e[n][1],e[n][2],e[t][0],e[t][1],e[t][2]));return r}exports.name="distance",exports.factory=e;
},{"../../type/matrix/function/matrix":147}],119:[function(require,module,exports) {
module.exports=[require("./intersect"),require("./distance")];
},{"./intersect":182,"./distance":181}],183:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,e,n,u){var i=require("../../utils/latex"),o=u("not",{number:function(r){return!r},Complex:function(r){return 0===r.re&&0===r.im},BigNumber:function(r){return r.isZero()||r.isNaN()},Unit:function(r){return o(r.value)},"Array | Matrix":function(t){return r(t,o)}});return o.toTex={1:i.operators.not+"\\left(${args[0]}\\right)"},o}exports.name="not",exports.factory=t;
},{"../../utils/collection/deepMap":132,"../../utils/latex":282}],278:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),n=require("../../utils/number");function e(n,e,t,u){var i=u("isZero",{number:function(r){return 0===r},BigNumber:function(r){return r.isZero()},Complex:function(r){return 0===r.re&&0===r.im},Fraction:function(r){return 1===r.d&&0===r.n},Unit:function(r){return i(r.value)},"Array | Matrix":function(n){return r(n,i)}});return i}exports.name="isZero",exports.factory=e;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],184:[function(require,module,exports) {
"use strict";function r(r,e,t,a){var i=require("../../utils/latex"),u=t(require("../../type/matrix/function/matrix")),n=t(require("../matrix/zeros")),s=t(require("./not")),o=(t(require("../utils/isZero")),t(require("../../type/matrix/utils/algorithm02"))),c=t(require("../../type/matrix/utils/algorithm06")),f=t(require("../../type/matrix/utils/algorithm11")),l=t(require("../../type/matrix/utils/algorithm13")),m=t(require("../../type/matrix/utils/algorithm14")),x=a("and",{"number, number":function(r,e){return!(!r||!e)},"Complex, Complex":function(r,e){return!(0===r.re&&0===r.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(r,e){return!(r.isZero()||e.isZero()||r.isNaN()||e.isNaN())},"Unit, Unit":function(r,e){return x(r.value,e.value)},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=c(r,e,x,!1);break;default:t=o(e,r,x,!0)}break;default:switch(e.storage()){case"sparse":t=o(r,e,x,!1);break;default:t=l(r,e,x)}}return t},"Array, Array":function(r,e){return x(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return x(u(r),e)},"Matrix, Array":function(r,e){return x(r,u(e))},"Matrix, any":function(r,e){if(s(e))return n(r.size(),r.storage());var t;switch(r.storage()){case"sparse":t=f(r,e,x,!1);break;default:t=m(r,e,x,!1)}return t},"any, Matrix":function(r,e){if(s(r))return n(r.size(),r.storage());var t;switch(e.storage()){case"sparse":t=f(e,r,x,!0);break;default:t=m(e,r,x,!0)}return t},"Array, any":function(r,e){return x(u(r),e).valueOf()},"any, Array":function(r,e){return x(r,u(e)).valueOf()}});return x.toTex={2:"\\left(${args[0]}"+i.operators.and+"${args[1]}\\right)"},x}exports.name="and",exports.factory=r;
},{"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../matrix/zeros":214,"./not":183,"../utils/isZero":278,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm06":542,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],185:[function(require,module,exports) {
"use strict";function r(r,t,e,a){var i=require("../../utils/latex"),u=e(require("../../type/matrix/function/matrix")),n=e(require("../../type/matrix/utils/algorithm03")),s=e(require("../../type/matrix/utils/algorithm05")),o=e(require("../../type/matrix/utils/algorithm12")),c=e(require("../../type/matrix/utils/algorithm13")),l=e(require("../../type/matrix/utils/algorithm14")),f=a("or",{"number, number":function(r,t){return!(!r&&!t)},"Complex, Complex":function(r,t){return 0!==r.re||0!==r.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(r,t){return!r.isZero()&&!r.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(r,t){return f(r.value,t.value)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=s(r,t,f);break;default:e=n(t,r,f,!0)}break;default:switch(t.storage()){case"sparse":e=n(r,t,f,!1);break;default:e=c(r,t,f)}}return e},"Array, Array":function(r,t){return f(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return f(u(r),t)},"Matrix, Array":function(r,t){return f(r,u(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=o(r,t,f,!1);break;default:e=l(r,t,f,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=o(t,r,f,!0);break;default:e=l(t,r,f,!0)}return e},"Array, any":function(r,t){return l(u(r),t,f,!1).valueOf()},"any, Array":function(r,t){return l(u(t),r,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}"+i.operators.or+"${args[1]}\\right)"},f}exports.name="or",exports.factory=r;
},{"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm05":543,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],186:[function(require,module,exports) {
"use strict";function r(r,t,e,a){var i=require("../../utils/latex"),u=e(require("../../type/matrix/function/matrix")),n=e(require("../../type/matrix/utils/algorithm03")),s=e(require("../../type/matrix/utils/algorithm07")),o=e(require("../../type/matrix/utils/algorithm12")),c=e(require("../../type/matrix/utils/algorithm13")),l=e(require("../../type/matrix/utils/algorithm14")),f=a("xor",{"number, number":function(r,t){return!!(!!r^!!t)},"Complex, Complex":function(r,t){return(0!==r.re||0!==r.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(r,t){return(!r.isZero()&&!r.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(r,t){return f(r.value,t.value)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=s(r,t,f);break;default:e=n(t,r,f,!0)}break;default:switch(t.storage()){case"sparse":e=n(r,t,f,!1);break;default:e=c(r,t,f)}}return e},"Array, Array":function(r,t){return f(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return f(u(r),t)},"Matrix, Array":function(r,t){return f(r,u(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=o(r,t,f,!1);break;default:e=l(r,t,f,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=o(t,r,f,!0);break;default:e=l(t,r,f,!0)}return e},"Array, any":function(r,t){return l(u(r),t,f,!1).valueOf()},"any, Array":function(r,t){return l(u(t),r,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}"+i.operators.xor+"${args[1]}\\right)"},f}exports.name="xor",exports.factory=r;
},{"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],120:[function(require,module,exports) {
module.exports=[require("./and"),require("./not"),require("./or"),require("./xor")];
},{"./and":184,"./not":183,"./or":185,"./xor":186}],192:[function(require,module,exports) {
"use strict";var r=require("../../utils/array");function t(t,e,i,a){var n=i(require("../../type/matrix/function/matrix")),o=i(require("../arithmetic/subtract")),u=i(require("../arithmetic/multiply")),s=a("cross",{"Matrix, Matrix":function(r,t){return n(c(r.toArray(),t.toArray()))},"Matrix, Array":function(r,t){return n(c(r.toArray(),t))},"Array, Matrix":function(r,t){return n(c(r,t.toArray()))},"Array, Array":c});return s.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},s;function c(t,e){var i=Math.max(r.size(t).length,r.size(e).length);t=r.squeeze(t),e=r.squeeze(e);var a=r.size(t),n=r.size(e);if(1!=a.length||1!=n.length||3!=a[0]||3!=n[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+a.join(", ")+"], B = ["+n.join(", ")+"])");var s=[o(u(t[1],e[2]),u(t[2],e[1])),o(u(t[2],e[0]),u(t[0],e[2])),o(u(t[0],e[1]),u(t[1],e[0]))];return i>1?[s]:s}}exports.name="cross",exports.factory=t;
},{"../../utils/array":87,"../../type/matrix/function/matrix":147,"../arithmetic/subtract":513,"../arithmetic/multiply":505}],194:[function(require,module,exports) {
"use strict";var r=require("../../utils/array"),n=require("../../utils/object").clone,e=require("../../utils/number").isInteger;function t(n,t,i,u){var a=i(require("../../type/matrix/function/matrix")),o=u("diag",{Array:function(n){return s(n,0,r.size(n),null)},"Array, number":function(n,e){return s(n,e,r.size(n),null)},"Array, BigNumber":function(n,e){return s(n,e.toNumber(),r.size(n),null)},"Array, string":function(n,e){return s(n,0,r.size(n),e)},"Array, number, string":function(n,e,t){return s(n,e,r.size(n),t)},"Array, BigNumber, string":function(n,e,t){return s(n,e.toNumber(),r.size(n),t)},Matrix:function(r){return s(r,0,r.size(),r.storage())},"Matrix, number":function(r,n){return s(r,n,r.size(),r.storage())},"Matrix, BigNumber":function(r,n){return s(r,n.toNumber(),r.size(),r.storage())},"Matrix, string":function(r,n){return s(r,0,r.size(),n)},"Matrix, number, string":function(r,n,e){return s(r,n,r.size(),e)},"Matrix, BigNumber, string":function(r,n,e){return s(r,n.toNumber(),r.size(),e)}});return o.toTex=void 0,o;function s(r,t,i,u){if(!e(t))throw new TypeError("Second parameter in function diag must be an integer");var o,s,c,f,g,l,m=t>0?t:0,b=t<0?-t:0;switch(i.length){case 1:return o=r,s=t,c=u,f=i[0],g=[f+b,f+m],l=n.Matrix.storage(c||"dense").diagonal(g,o,s),null!==c?l:l.valueOf();case 2:return function(r,n,e,t,i,u){if(r&&!0===r.isMatrix){var o=r.diagonal(n);return null!==e?e!==o.storage()?a(o,e):o:o.valueOf()}for(var s=Math.min(t[0]-i,t[1]-u),c=[],f=0;f<s;f++)c[f]=r[f+i][f+u];return null!==e?a(c):c}(r,t,u,i,b,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}exports.name="diag",exports.factory=t;
},{"../../utils/array":87,"../../utils/object":86,"../../utils/number":134,"../../type/matrix/function/matrix":147}],195:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").size;function t(t,e,a,o){var n=a(require("../arithmetic/add")),i=a(require("../arithmetic/multiply")),u=o("dot",{"Matrix, Matrix":function(r,t){return c(r.toArray(),t.toArray())},"Matrix, Array":function(r,t){return c(r.toArray(),t)},"Array, Matrix":function(r,t){return c(r,t.toArray())},"Array, Array":c});return u.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},u;function c(t,e){var a=r(t),o=r(e),u=a[0];if(1!==a.length||1!==o.length)throw new RangeError("Vector expected");if(a[0]!=o[0])throw new RangeError("Vectors must have equal length ("+a[0]+" != "+o[0]+")");if(0==u)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var c=0,f=0;f<u;f++)c=n(c,i(t[f],e[f]));return c}}exports.name="dot",exports.factory=t;
},{"../../utils/array":87,"../arithmetic/add":478,"../arithmetic/multiply":505}],198:[function(require,module,exports) {
"use strict";var r=require("../../utils/object").clone,t=require("../../utils/array").flatten;function e(e,n,a,i){var u=a(require("../../type/matrix/function/matrix")),o=i("flatten",{Array:function(e){return t(r(e))},Matrix:function(e){var n=t(r(e.toArray()));return u(n)}});return o.toTex=void 0,o}exports.name="flatten",exports.factory=e;
},{"../../utils/object":86,"../../utils/array":87,"../../type/matrix/function/matrix":147}],201:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").size;function t(t,n,e,i){var a=e(require("../../type/matrix/function/matrix")),u=e(require("../arithmetic/multiplyScalar"));return i("kron",{"Matrix, Matrix":function(r,t){return a(o(r.toArray(),t.toArray()))},"Matrix, Array":function(r,t){return a(o(r.toArray(),t))},"Array, Matrix":function(r,t){return a(o(r,t.toArray()))},"Array, Array":o});function o(t,n){if(1===r(t).length&&(t=[t]),1===r(n).length&&(n=[n]),r(t).length>2||r(n).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(t.length)+", y = "+JSON.stringify(n.length)+")");var e=[],i=[];return t.map(function(r){return n.map(function(t){return r.map(function(r){return t.map(function(t){return i.push(u(r,t))})},e.push(i=[]))})},e=[])&&e}}exports.name="kron",exports.factory=t;
},{"../../utils/array":87,"../../type/matrix/function/matrix":147,"../arithmetic/multiplyScalar":546}],203:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger,e=require("../../utils/array").resize;function t(t,n,i,u){var a=i(require("../../type/matrix/function/matrix")),o=u("ones",{"":function(){return"Array"===n.matrix?f([]):f([],"default")},"...number | BigNumber | string":function(r){return"string"==typeof r[r.length-1]?f(r,r.pop()):"Array"===n.matrix?f(r):f(r,"default")},Array:f,Matrix:function(r){var e=r.storage();return f(r.valueOf(),e)},"Array | Matrix, string":function(r,e){return f(r.valueOf(),e)}});return o.toTex=void 0,o;function f(n,i){var u,o=(u=!1,n.forEach(function(r,e,t){r&&!0===r.isBigNumber&&(u=!0,t[e]=r.toNumber())}),u)?new t.BigNumber(1):1;if(n.forEach(function(e){if("number"!=typeof e||!r(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}),i){var f=a(i);return n.length>0?f.resize(n,o):f}var s=[];return n.length>0?e(s,n,o):s}}exports.name="ones",exports.factory=t;
},{"../../utils/number":134,"../../utils/array":87,"../../type/matrix/function/matrix":147}],215:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").nearlyEqual,e=require("../../utils/bignumber/nearlyEqual");function t(t,n,a,i){var u=a(require("../../type/matrix/function/matrix")),o=a(require("../../type/matrix/utils/algorithm03")),s=a(require("../../type/matrix/utils/algorithm05")),c=a(require("../../type/matrix/utils/algorithm12")),l=a(require("../../type/matrix/utils/algorithm13")),f=a(require("../../type/matrix/utils/algorithm14")),m=i("compare",{"boolean, boolean":function(r,e){return r===e?0:r>e?1:-1},"number, number":function(e,t){return e===t||r(e,t,n.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(r,a){return r.eq(a)||e(r,a,n.epsilon)?new t.BigNumber(0):new t.BigNumber(r.cmp(a))},"Fraction, Fraction":function(r,e){return new t.Fraction(r.compare(e))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,e){if(!r.equalBase(e))throw new Error("Cannot compare units with different base");return m(r.value,e.value)},"string, string":function(r,e){return r===e?0:r>e?1:-1},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=s(r,e,m);break;default:t=o(e,r,m,!0)}break;default:switch(e.storage()){case"sparse":t=o(r,e,m,!1);break;default:t=l(r,e,m)}}return t},"Array, Array":function(r,e){return m(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return m(u(r),e)},"Matrix, Array":function(r,e){return m(r,u(e))},"Matrix, any":function(r,e){var t;switch(r.storage()){case"sparse":t=c(r,e,m,!1);break;default:t=f(r,e,m,!1)}return t},"any, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=c(e,r,m,!0);break;default:t=f(e,r,m,!0)}return t},"Array, any":function(r,e){return f(u(r),e,m,!1).valueOf()},"any, Array":function(r,e){return f(u(e),r,m,!0).valueOf()}});return m.toTex=void 0,m}exports.name="compare",exports.factory=t;
},{"../../utils/number":134,"../../utils/bignumber/nearlyEqual":548,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm05":543,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],204:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").isInteger;function e(e,t,n,i){var o=n(require("../relational/compare"));function a(r,e){return-o(r,e)}return i("partitionSelect",{"Array | Matrix, number":function(r,e){return u(r,e,o)},"Array | Matrix, number, string":function(r,e,t){if("asc"===t)return u(r,e,o);if("desc"===t)return u(r,e,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(e,t,n){if(!r(t)||t<0)throw new Error("k must be a non-negative integer");if(e&&e.isMatrix){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return s(e.valueOf(),t,n)}if(Array.isArray(e))return s(e,t,n)}function s(r,e,t){if(e>=r.length)throw new Error("k out of bounds");for(var n=0,i=r.length-1;n<i;){for(var o=n,a=i,u=r[Math.floor(Math.random()*(i-n+1))+n];o<a;)if(t(r[o],u)>=0){var s=r[a];r[a]=r[o],r[o]=s,--a}else++o;t(r[o],u)>0&&--o,e<=o?i=o:n=o+1}return r[e]}}exports.name="partitionSelect",exports.factory=e;
},{"../../utils/number":134,"../relational/compare":215}],208:[function(require,module,exports) {
"use strict";var r=require("../../error/DimensionError"),e=require("../../utils/number").isInteger,i=require("../../utils/array");function n(r,n,t,a){var o=t(require("../../type/matrix/function/matrix")),u=a("reshape",{"Matrix, Array":function(r,e){return r.reshape?r.reshape(e):o(i.reshape(r.valueOf(),e))},"Array, Array":function(r,n){return n.forEach(function(r){if(!e(r))throw new TypeError("Invalid size for dimension: "+r)}),i.reshape(r,n)}});return u.toTex=void 0,u}exports.name="reshape",exports.factory=n;
},{"../../error/DimensionError":99,"../../utils/number":134,"../../utils/array":87,"../../type/matrix/function/matrix":147}],206:[function(require,module,exports) {
"use strict";var r=require("../../error/DimensionError"),e=require("../../error/ArgumentsError"),t=require("../../utils/number").isInteger,i=require("../../utils/string").format,n=require("../../utils/object").clone,u=require("../../utils/array");function s(s,o,a,f){var l=a(require("../../type/matrix/function/matrix")),g=function(s,a,f){if(2!=arguments.length&&3!=arguments.length)throw new e("resize",arguments.length,2,3);if(a&&!0===a.isMatrix&&(a=a.valueOf()),a.length&&a[0]&&!0===a[0].isBigNumber&&(a=a.map(function(r){return r&&!0===r.isBigNumber?r.toNumber():r})),s&&!0===s.isMatrix)return s.resize(a,f,!0);if("string"==typeof s)return function(e,n,u){if(void 0!==u){if("string"!=typeof u||1!==u.length)throw new TypeError("Single character expected as defaultValue")}else u=" ";if(1!==n.length)throw new r(n.length,1);var s=n[0];if("number"!=typeof s||!t(s))throw new TypeError("Invalid size, must contain positive integers (size: "+i(n)+")");if(e.length>s)return e.substring(0,s);if(e.length<s){for(var o=e,a=0,f=s-e.length;a<f;a++)o+=u;return o}return e}(s,a,f);var g=!Array.isArray(s)&&"Array"!==o.matrix;if(0==a.length){for(;Array.isArray(s);)s=s[0];return n(s)}Array.isArray(s)||(s=[s]),s=n(s);var h=u.resize(s,a,f);return g?l(h):h};return g.toTex=void 0,g}exports.name="resize",exports.factory=s;
},{"../../error/DimensionError":99,"../../error/ArgumentsError":98,"../../utils/number":134,"../../utils/string":151,"../../utils/object":86,"../../utils/array":87,"../../type/matrix/function/matrix":147}],207:[function(require,module,exports) {
"use strict";var r=require("../../utils/array");function t(t,e,i,n){var u=i(require("../../type/matrix/function/matrix")),a=n("size",{Matrix:function(r){return u(r.size())},Array:r.size,string:function(r){return"Array"===e.matrix?[r.length]:u([r.length])},"number | Complex | BigNumber | Unit | boolean | null":function(r){return"Array"===e.matrix?[]:u([])}});return a.toTex=void 0,a}exports.name="size",exports.factory=t;
},{"../../utils/array":87,"../../type/matrix/function/matrix":147}],209:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").size;function t(t,n,e,o){var i=e(require("../../type/matrix/function/matrix")),a=e(require("../relational/compare")),u=function(r,t){return-a(r,t)},s=o("sort",{Array:function(r){return f(r),r.sort(a)},Matrix:function(r){return x(r),i(r.toArray().sort(a),r.storage())},"Array, function":function(r,t){return f(r),r.sort(t)},"Matrix, function":function(r,t){return x(r),i(r.toArray().sort(t),r.storage())},"Array, string":function(r,t){return f(r),r.sort(c(t))},"Matrix, string":function(r,t){return x(r),i(r.toArray().sort(c(t)),r.storage())}});function c(r){if("asc"===r)return a;if("desc"===r)return u;throw new Error('String "asc" or "desc" expected')}function f(t){if(1!==r(t).length)throw new Error("One dimensional array expected")}function x(r){if(1!==r.size().length)throw new Error("One dimensional matrix expected")}return s.toTex=void 0,s}exports.name="sort",exports.factory=t;
},{"../../utils/array":87,"../../type/matrix/function/matrix":147,"../relational/compare":215}],210:[function(require,module,exports) {
"use strict";var r=require("../../utils/object"),e=require("../../utils/array");function t(t,u,n,i){var a=n(require("../../type/matrix/function/matrix")),o=i("squeeze",{Array:function(t){return e.squeeze(r.clone(t))},Matrix:function(r){var t=e.squeeze(r.toArray());return Array.isArray(t)?a(t):t},any:function(e){return r.clone(e)}});return o.toTex=void 0,o}exports.name="squeeze",exports.factory=t;
},{"../../utils/object":86,"../../utils/array":87,"../../type/matrix/function/matrix":147}],122:[function(require,module,exports) {
module.exports=[require("./concat"),require("./cross"),require("./det"),require("./diag"),require("./dot"),require("./eye"),require("./filter"),require("./flatten"),require("./forEach"),require("./inv"),require("./kron"),require("./map"),require("./ones"),require("./partitionSelect"),require("./range"),require("./reshape"),require("./resize"),require("./size"),require("./sort"),require("./squeeze"),require("./subset"),require("./trace"),require("./transpose"),require("./zeros")];
},{"./concat":191,"./cross":192,"./det":193,"./diag":194,"./dot":195,"./eye":196,"./filter":197,"./flatten":198,"./forEach":199,"./inv":200,"./kron":201,"./map":202,"./ones":203,"./partitionSelect":204,"./range":205,"./reshape":208,"./resize":206,"./size":207,"./sort":209,"./squeeze":210,"./subset":211,"./trace":212,"./transpose":213,"./zeros":214}],233:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepForEach");function e(e,t,n,u){var i=n(require("../arithmetic/addScalar")),o=u("sum",{"Array | Matrix":function(r){return a(r)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(r){return a(r)}});return o.toTex=void 0,o;function a(n){var u=void 0;if(r(n,function(r){u=void 0===u?r:i(u,r)}),void 0===u)switch(t.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return u}}exports.name="sum",exports.factory=e;
},{"../../utils/collection/deepForEach":550,"../arithmetic/addScalar":488}],264:[function(require,module,exports) {
"use strict";function r(r,e,t,i){var n=t(require("../../type/matrix/function/matrix")),o=t(require("../arithmetic/divide")),u=t(require("../statistics/sum")),s=t(require("../arithmetic/multiply")),a=t(require("../arithmetic/dotDivide")),c=t(require("../arithmetic/log")),m=t(require("../utils/isNumeric"));function f(r,e){var t=e.size().length,i=r.size().length;if(t>1)throw new Error("first object must be one dimensional");if(i>1)throw new Error("second object must be one dimensional");if(t!==i)throw new Error("Length of two vectors must be equal");if(0===u(r))throw new Error("Sum of elements in first object must be non zero");if(0===u(e))throw new Error("Sum of elements in second object must be non zero");var n=o(r,u(r)),f=o(e,u(e)),l=u(s(n,c(a(n,f))));return m(l)?l:Number.NaN}return i("kldivergence",{"Array, Array":function(r,e){return f(n(r),n(e))},"Matrix, Array":function(r,e){return f(r,n(e))},"Array, Matrix":function(r,e){return f(n(r),e)},"Matrix, Matrix":function(r,e){return f(r,e)}})}exports.name="kldivergence",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"../arithmetic/divide":492,"../statistics/sum":233,"../arithmetic/multiply":505,"../arithmetic/dotDivide":493,"../arithmetic/log":502,"../utils/isNumeric":275}],266:[function(require,module,exports) {
"use strict";var i=require("../../utils/collection/deepForEach");function r(r,e,t,u){var a=t(require("../arithmetic/add")),n=t(require("../arithmetic/multiply")),o=t(require("../arithmetic/divide")),l=t(require("../probability/factorial")),c=t(require("../utils/isInteger")),m=t(require("../utils/isPositive"));return u("multinomial",{"Array | Matrix":function(r){var e=0,t=1;return i(r,function(i){if(!c(i)||!m(i))throw new TypeError("Positive integer value expected in function multinomial");e=a(e,i),t=n(t,l(i))}),o(l(e),t)}})}exports.name="multinomial",exports.factory=r;
},{"../../utils/collection/deepForEach":550,"../arithmetic/add":478,"../arithmetic/multiply":505,"../arithmetic/divide":492,"../probability/factorial":263,"../utils/isInteger":273,"../utils/isPositive":276}],267:[function(require,module,exports) {
"use strict";var e=require("../../utils/number").isInteger;function r(r,n,i,u){var o=u("permutations",{"number | BigNumber":i(require("./factorial")),"number, number":function(r,t){var n,i;if(!e(r)||r<0)throw new TypeError("Positive integer value expected in function permutations");if(!e(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>r)throw new TypeError("second argument k must be less than or equal to first argument n");for(n=1,i=r-t+1;i<=r;i++)n*=i;return n},"BigNumber, BigNumber":function(e,n){var i,u;if(!t(e)||!t(n))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(i=new r.BigNumber(1),u=e.minus(n).plus(1);u.lte(e);u=u.plus(1))i=i.times(u);return i}});return o.toTex=void 0,o}function t(e){return e.isInteger()&&e.gte(0)}exports.name="permutations",exports.factory=r;
},{"../../utils/number":134,"./factorial":263}],583:[function(require,module,exports) {
var global = (1,eval)("this");
var r=(0,eval)("this"),n=256,t=6,o=52,a=[],e=void 0===r?window:r,i=Math.pow(n,t),u=Math.pow(2,o),f=2*u,l=n-1,h=Math.random;function c(r){var t,o=r.length,a=this,e=0,i=a.i=a.j=0,u=a.S=[];for(o||(r=[o++]);e<n;)u[e]=e++;for(e=0;e<n;e++)u[e]=u[i=l&i+r[e%o]+(t=u[e])],u[i]=t;(a.g=function(r){for(var t,o=0,e=a.i,i=a.j,u=a.S;r--;)t=u[e=l&e+1],o=o*n+u[l&(u[e]=u[i=l&i+t])+(u[i]=t)];return a.i=e,a.j=i,o})(n)}function g(r,n){var t,o=[],a=(typeof r)[0];if(n&&"o"==a)for(t in r)try{o.push(g(r[t],n-1))}catch(r){}return o.length?o:"s"==a?r:r+"\0"}function d(r,n){for(var t,o=r+"",a=0;a<o.length;)n[l&a]=l&(t^=19*n[l&a])+o.charCodeAt(a++);return s(n)}function p(r){try{return e.crypto.getRandomValues(r=new Uint8Array(n)),s(r)}catch(r){return[+new Date,e,e.navigator&&e.navigator.plugins,e.screen,s(a)]}}function s(r){return String.fromCharCode.apply(0,r)}module.exports=function(r,o){if(o&&!0===o.global)return o.global=!1,Math.random=module.exports(r,o),o.global=!0,Math.random;var e=[],l=(d(g(o&&o.entropy||!1?[r,s(a)]:0 in arguments?r:p(),3),e),new c(e));return d(s(l.S),a),function(){for(var r=l.g(t),o=i,a=0;r<u;)r=(r+a)*n,o*=n,a=l.g(1);for(;r>=f;)r/=2,o/=2,a>>>=1;return(r+a)/o}},module.exports.resetGlobal=function(){Math.random=h},d(Math.random(),a);
},{}],575:[function(require,module,exports) {
"use strict";var n=require("seed-random");function r(r,e,o,t,d){var a=null===e.randomSeed?n():n(e.randomSeed.toString());return d.on("config",function(r,e,o){void 0!==o.randomSeed&&(a=null===r.randomSeed?n():n(r.randomSeed.toString()))}),function(){return a()}}exports.factory=r,exports.math=!0;
},{"seed-random":583}],555:[function(require,module,exports) {
"use strict";var r=require("../../error/ArgumentsError"),n=require("../../utils/collection/isCollection"),e=require("../../utils/number").isNumber;function t(t,i,o,a,u){var f=o(require("../../type/matrix/function/matrix")),s=require("../../utils/array"),l=o(require("./seededRNG"));function v(t){if(!h.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var i,o,u,v,c,m,y=Array.prototype.slice.call(arguments,1),d=h[t].apply(this,y);return i=d,o={random:function(t,i,o){var a,u,s;if(arguments.length>3)throw new r("random",arguments.length,0,3);if(1===arguments.length?n(t)?a=t:s=t:2===arguments.length?n(t)?(a=t,s=i):(u=t,s=i):(a=t,u=i,s=o),void 0!==u&&!e(u)||void 0!==s&&!e(s))throw new TypeError("Invalid argument in function random");if(void 0===s&&(s=1),void 0===u&&(u=0),void 0!==a){var l=m(a.valueOf(),u,s,v);return a&&!0===a.isMatrix?f(l):l}return v(u,s)},randomInt:a({"number | Array":function(r){if(n(r)){var e=r,t=1,i=m(e.valueOf(),0,t,c);return e&&!0===e.isMatrix?f(i):i}return c(0,t=r)},"number | Array, number":function(r,e){if(n(r)){var t=r,i=e,o=0,a=m(t.valueOf(),o,i,c);return t&&!0===t.isMatrix?f(a):a}return c(o=r,i=e)},"Array, number, number":function(r,n,e){var t=m(r.valueOf(),n,e,c);return r&&!0===r.isMatrix?f(t):t}}),pickRandom:a({Array:function(r){return u(r)},"Array, number | Array":function(r,n){var t,i;if(Array.isArray(n))i=n;else{if(!e(n))throw new TypeError("Invalid argument in function pickRandom");t=n}return u(r,t,i)},"Array, number | Array, Array | number":function(r,n,t){var i,o;if(Array.isArray(n)?(o=n,i=t):(o=t,i=n),!Array.isArray(o)||!e(i))throw new TypeError("Invalid argument in function pickRandom");return u(r,i,o)}})},u=function(r,n,t){var i=void 0===n;if(i&&(n=1),r&&!0===r.isMatrix)r=r.valueOf();else if(!Array.isArray(r))throw new TypeError("Unsupported type of value in function pickRandom");if(s.size(r).length>1)throw new Error("Only one dimensional vectors supported");if(void 0!==t){if(t.length!=r.length)throw new Error("Weights must have the same length as possibles");for(var o=0,a=0,u=t.length;a<u;a++){if(!e(t[a])||t[a]<0)throw new Error("Weights must be an array of positive numbers");o+=t[a]}}var f=r.length;if(0==f)return[];if(n>=f)return r;for(var v,h=[];h.length<n;){if(void 0===t)v=r[Math.floor(l()*f)];else{var c=l()*o;for(a=0,u=r.length;a<u;a++)if((c-=t[a])<0){v=r[a];break}}-1==h.indexOf(v)&&h.push(v)}return i?h[0]:h},v=function(r,n){return r+i()*(n-r)},c=function(r,n){return Math.floor(r+i()*(n-r))},m=function(r,n,e,t){var i=[];if((r=r.slice(0)).length>1)for(var o=0,a=r.shift();o<a;o++)i.push(m(r,n,e,t));else for(o=0,a=r.shift();o<a;o++)i.push(t(n,e));return i},o}var h={uniform:function(){return l},normal:function(){return function(){for(var r,n,e=-1;e<0||e>1;)r=l(),n=l(),e=1/6*Math.pow(-2*Math.log(r),.5)*Math.cos(2*Math.PI*n)+.5;return e}}};return v.toTex=void 0,v}exports.name="distribution",exports.factory=t;
},{"../../error/ArgumentsError":98,"../../utils/collection/isCollection":553,"../../utils/number":134,"../../type/matrix/function/matrix":147,"../../utils/array":87,"./seededRNG":575}],268:[function(require,module,exports) {
"use strict";function r(r,i,o,t){var e=o(require("./distribution"))("uniform").pickRandom;return e.toTex=void 0,e}exports.name="pickRandom",exports.factory=r;
},{"./distribution":555}],269:[function(require,module,exports) {
"use strict";function r(r,o,t,e){var i=t(require("./distribution"))("uniform").random;return i.toTex=void 0,i}exports.name="random",exports.factory=r;
},{"./distribution":555}],270:[function(require,module,exports) {
"use strict";function r(r,t,n,o){var e=n(require("./distribution"))("uniform").randomInt;return e.toTex=void 0,e}exports.name="randomInt",exports.factory=r;
},{"./distribution":555}],128:[function(require,module,exports) {
module.exports=[require("./combinations"),require("./factorial"),require("./gamma"),require("./kldivergence"),require("./multinomial"),require("./permutations"),require("./pickRandom"),require("./random"),require("./randomInt")];
},{"./combinations":262,"./factorial":263,"./gamma":265,"./kldivergence":264,"./multinomial":266,"./permutations":267,"./pickRandom":268,"./random":269,"./randomInt":270}],216:[function(require,module,exports) {
"use strict";function r(r,e,a,n){var t=a(require("./equal")),u=n("deepEqual",{"any, any":function(r,e){return function r(e,a){if(Array.isArray(e)){if(Array.isArray(a)){var n=e.length;if(n!==a.length)return!1;for(var u=0;u<n;u++)if(!r(e[u],a[u]))return!1;return!0}return!1}return!Array.isArray(a)&&t(e,a)}(r.valueOf(),e.valueOf())}});return u.toTex=void 0,u}exports.name="deepEqual",exports.factory=r;
},{"./equal":217}],221:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").nearlyEqual,e=require("../../utils/bignumber/nearlyEqual");function t(t,a,n,i){var u=n(require("../../type/matrix/function/matrix")),o=n(require("../../type/matrix/utils/algorithm03")),s=n(require("../../type/matrix/utils/algorithm07")),l=n(require("../../type/matrix/utils/algorithm12")),c=n(require("../../type/matrix/utils/algorithm13")),f=n(require("../../type/matrix/utils/algorithm14")),m=require("../../utils/latex"),p=i("smallerEq",{"boolean, boolean":function(r,e){return r<=e},"number, number":function(e,t){return e<=t||r(e,t,a.epsilon)},"BigNumber, BigNumber":function(r,t){return r.lte(t)||e(r,t,a.epsilon)},"Fraction, Fraction":function(r,e){return 1!==r.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,e){if(!r.equalBase(e))throw new Error("Cannot compare units with different base");return p(r.value,e.value)},"string, string":function(r,e){return r<=e},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=s(r,e,p);break;default:t=o(e,r,p,!0)}break;default:switch(e.storage()){case"sparse":t=o(r,e,p,!1);break;default:t=c(r,e,p)}}return t},"Array, Array":function(r,e){return p(u(r),u(e)).valueOf()},"Array, Matrix":function(r,e){return p(u(r),e)},"Matrix, Array":function(r,e){return p(r,u(e))},"Matrix, any":function(r,e){var t;switch(r.storage()){case"sparse":t=l(r,e,p,!1);break;default:t=f(r,e,p,!1)}return t},"any, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=l(e,r,p,!0);break;default:t=f(e,r,p,!0)}return t},"Array, any":function(r,e){return f(u(r),e,p,!1).valueOf()},"any, Array":function(r,e){return f(u(e),r,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+m.operators.smallerEq+"${args[1]}\\right)"},p}exports.name="smallerEq",exports.factory=t;
},{"../../utils/number":134,"../../utils/bignumber/nearlyEqual":548,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541,"../../utils/latex":282}],222:[function(require,module,exports) {
"use strict";var r=require("../../utils/number").nearlyEqual,e=require("../../utils/bignumber/nearlyEqual");function t(t,a,n,u){var i=n(require("../../type/matrix/function/matrix")),o=n(require("../../type/matrix/utils/algorithm03")),l=n(require("../../type/matrix/utils/algorithm07")),s=n(require("../../type/matrix/utils/algorithm12")),c=n(require("../../type/matrix/utils/algorithm13")),f=n(require("../../type/matrix/utils/algorithm14")),m=require("../../utils/latex"),y=u("unequal",{"any, any":function(r,e){return null===r?null!==e:null===e?null!==r:void 0===r?void 0!==e:void 0===e?void 0!==r:p(r,e)},"Matrix, Matrix":function(r,e){var t;switch(r.storage()){case"sparse":switch(e.storage()){case"sparse":t=l(r,e,p);break;default:t=o(e,r,p,!0)}break;default:switch(e.storage()){case"sparse":t=o(r,e,p,!1);break;default:t=c(r,e,p)}}return t},"Array, Array":function(r,e){return y(i(r),i(e)).valueOf()},"Array, Matrix":function(r,e){return y(i(r),e)},"Matrix, Array":function(r,e){return y(r,i(e))},"Matrix, any":function(r,e){var t;switch(r.storage()){case"sparse":t=s(r,e,p,!1);break;default:t=f(r,e,p,!1)}return t},"any, Matrix":function(r,e){var t;switch(e.storage()){case"sparse":t=s(e,r,p,!0);break;default:t=f(e,r,p,!0)}return t},"Array, any":function(r,e){return f(i(r),e,p,!1).valueOf()},"any, Array":function(r,e){return f(i(e),r,p,!0).valueOf()}}),p=u("_unequal",{"boolean, boolean":function(r,e){return r!==e},"number, number":function(e,t){return!r(e,t,a.epsilon)},"BigNumber, BigNumber":function(r,t){return!e(r,t,a.epsilon)},"Fraction, Fraction":function(r,e){return!r.equals(e)},"Complex, Complex":function(r,e){return!r.equals(e)},"Unit, Unit":function(r,e){if(!r.equalBase(e))throw new Error("Cannot compare units with different base");return y(r.value,e.value)},"string, string":function(r,e){return r!==e}});return y.toTex={2:"\\left(${args[0]}"+m.operators.unequal+"${args[1]}\\right)"},y}exports.name="unequal",exports.factory=t;
},{"../../utils/number":134,"../../utils/bignumber/nearlyEqual":548,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm07":549,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541,"../../utils/latex":282}],123:[function(require,module,exports) {
module.exports=[require("./compare"),require("./deepEqual"),require("./equal"),require("./larger"),require("./largerEq"),require("./smaller"),require("./smallerEq"),require("./unequal")];
},{"./compare":215,"./deepEqual":216,"./equal":217,"./larger":218,"./largerEq":219,"./smaller":220,"./smallerEq":221,"./unequal":222}],223:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),e=require("../../utils/number").sign;function t(t,f,c,p){var s=p("erf",{number:function(r){var t=Math.abs(r);return t>=o?e(r):t<=n?e(r)*function(r){var e,t=r*r,n=u[0][4]*t,a=t;for(e=0;e<3;e+=1)n=(n+u[0][e])*t,a=(a+i[0][e])*t;return r*(n+u[0][3])/(a+i[0][3])}(t):t<=4?e(r)*(1-function(r){var e,t=u[1][8]*r,n=r;for(e=0;e<7;e+=1)t=(t+u[1][e])*r,n=(n+i[1][e])*r;var a=(t+u[1][7])/(n+i[1][7]),o=parseInt(16*r)/16,f=(r-o)*(r+o);return Math.exp(-o*o)*Math.exp(-f)*a}(t)):e(r)*(1-function(r){var e,t=1/(r*r),n=u[2][5]*t,o=t;for(e=0;e<4;e+=1)n=(n+u[2][e])*t,o=(o+i[2][e])*t;var f=t*(n+u[2][4])/(o+i[2][4]);f=(a-f)/r,t=parseInt(16*r)/16;var c=(r-t)*(r+t);return Math.exp(-t*t)*Math.exp(-c)*f}(t))},BigNumber:function(r){return new t.BigNumber(s(r.toNumber()))},"Array | Matrix":function(e){return r(e,s)}});return s.toTex={1:"erf\\left(${args[0]}\\right)"},s}var n=.46875,a=.5641895835477563,u=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],i=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],o=Math.pow(2,53);exports.name="erf",exports.factory=t;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],124:[function(require,module,exports) {
module.exports=[require("./erf")];
},{"./erf":223}],227:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").flatten,e=require("../../utils/collection/reduce"),i=require("../../utils/collection/containsCollections");function t(e,t,n,a){var u=n(require("../arithmetic/addScalar")),o=n(require("../arithmetic/divideScalar")),c=n(require("../relational/compare")),l=n(require("../matrix/partitionSelect")),m=a("median",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(r,e){throw new Error("median(A, dim) is not yet supported")},"...":function(r){if(i(r))throw new TypeError("Scalar values expected in function median");return f(r)}});function f(e){var i=(e=r(e.valueOf())).length;if(0==i)throw new Error("Cannot calculate median of an empty array");if(i%2==0){for(var t=i/2-1,n=l(e,t+1),a=e[t],u=0;u<t;++u)c(e[u],a)>0&&(a=e[u]);return s(a,n)}var o=l(e,(i-1)/2);return d(o)}var d=a({"number | BigNumber | Unit":function(r){return r}}),s=a({"number | BigNumber | Unit, number | BigNumber | Unit":function(r,e){return o(u(r,e),2)}});return m.toTex=void 0,m}exports.name="median",exports.factory=t;
},{"../../utils/array":87,"../../utils/collection/reduce":551,"../../utils/collection/containsCollections":552,"../arithmetic/addScalar":488,"../arithmetic/divideScalar":547,"../relational/compare":215,"../matrix/partitionSelect":204}],224:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").flatten;function t(t,e,a,i){var n=a(require("../arithmetic/abs")),u=a(require("../matrix/map")),o=a(require("../statistics/median")),c=a(require("../arithmetic/subtract")),s=i("mad",{"Array | Matrix":m,"...":function(r){return m(r)}});return s.toTex=void 0,s;function m(t){if(0===(t=r(t.valueOf())).length)throw new Error("Cannot calculate median absolute deviation of an empty array");var e=o(t);return o(u(t,function(r){return n(c(r,e))}))}}exports.name="mad",exports.factory=t;
},{"../../utils/array":87,"../arithmetic/abs":487,"../matrix/map":202,"../statistics/median":227,"../arithmetic/subtract":513}],229:[function(require,module,exports) {
"use strict";var r=require("../../utils/array").flatten;function t(t,e,n,a){return a("mode",{"Array | Matrix":o,"...":function(r){return o(r)}});function o(t){if(0==(t=r(t.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");var e={},n=[],a=0;for(var o in t)t[o]in e||(e[t[o]]=0),e[t[o]]++,e[t[o]]==a?n.push(t[o]):e[t[o]]>a&&(a=e[t[o]],n=[t[o]]);return n}}exports.name="mode",exports.factory=t;
},{"../../utils/array":87}],231:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepForEach");function t(t,o,e,i){var n=e(require("../arithmetic/multiplyScalar")),a=i("prod",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(r,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(r){return u(r)}});return a.toTex=void 0,a;function u(t){var o=void 0;if(r(t,function(r){o=void 0===o?r:n(o,r)}),void 0===o)throw new Error("Cannot calculate prod of an empty array");return o}}exports.name="prod",exports.factory=t;
},{"../../utils/collection/deepForEach":550,"../arithmetic/multiplyScalar":546}],230:[function(require,module,exports) {
"use strict";var e=require("../../utils/number").isInteger,r=require("../../utils/number").isNumber,t=require("../../utils/array").flatten,n=require("../../utils/collection/isCollection");function i(i,o,u,a){var f=u(require("../arithmetic/add")),s=u(require("../arithmetic/multiply")),l=u(require("../matrix/partitionSelect")),m=u(require("../relational/compare"));function w(e,n,i){var o=t(e),u=o.length;if(0===u)throw new Error("Cannot calculate quantile of an empty sequence");if(r(n)){var a;if(0===(p=(a=n*(u-1))%1)){var w=i?o[a]:l(o,a);return c(w),w}var b=Math.floor(a);if(i)h=o[b],v=o[b+1];else{v=l(o,b+1),h=o[b];for(var g=0;g<b;++g)m(o[g],h)>0&&(h=o[g])}return c(h),c(v),f(s(h,1-p),s(v,p))}if((a=n.times(u-1)).isInteger()){a=a.toNumber();w=i?o[a]:l(o,a);return c(w),w}b=a.floor();var h,v,p=a.minus(b),q=b.toNumber();if(i)h=o[q],v=o[q+1];else{v=l(o,q+1),h=o[q];for(g=0;g<q;++g)m(o[g],h)>0&&(h=o[g])}c(h),c(v);var y=new p.constructor(1);return f(s(h,y.minus(p)),s(v,p))}var c=a({"number | BigNumber | Unit":function(e){return e}});return function(t,o,u){var a,f,s;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(n(t)){if("boolean"==typeof(u=u||!1)){if(f=t.valueOf(),r(o)){if(o<0)throw new Error("N/prob must be non-negative");if(o<=1)return w(f,o,u);if(o>1){if(!e(o))throw new Error("N must be a positive integer");var l=o+1;a=new Array(o);for(var m=0;m<o;)a[m]=w(f,++m/l,u);return a}}if(o&&o.isBigNumber){if(o.isNegative())throw new Error("N/prob must be non-negative");if(s=new o.constructor(1),o.lte(s))return w(f,o,u);if(o.gt(s)){if(!o.isInteger())throw new Error("N must be a positive integer");var c=o.toNumber();if(c>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");for(l=new i.BigNumber(c+1),a=new Array(c),m=0;m<c;)a[m]=w(f,new i.BigNumber(++m).div(l),u);return a}}if(Array.isArray(o)){for(a=new Array(o.length),m=0;m<a.length;++m){var b=o[m];if(r(b)){if(b<0||b>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!b||!b.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(s=new b.constructor(1),b.isNegative()||b.gt(s))throw new Error("Probability must be between 0 and 1, inclusive")}a[m]=w(f,b,u)}return a}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}exports.name="quantileSeq",exports.factory=i;
},{"../../utils/number":134,"../../utils/array":87,"../../utils/collection/isCollection":553,"../arithmetic/add":478,"../arithmetic/multiply":505,"../matrix/partitionSelect":204,"../relational/compare":215}],234:[function(require,module,exports) {
"use strict";var r="unbiased",e=require("../../utils/collection/deepForEach");function a(a,t,i,n){var o=i(require("../arithmetic/addScalar")),u=i(require("../arithmetic/subtract")),c=i(require("../arithmetic/multiplyScalar")),s=i(require("../arithmetic/divideScalar")),d=n("variance",{"Array | Matrix":function(e){return l(e,r)},"Array | Matrix, string":l,"...":function(e){return l(e,r)}});return d.toTex="\\mathrm{Var}\\left(${args}\\right)",d;function l(r,t){var i=0,n=0;if(0==r.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(e(r,function(r){i=o(i,r),n++}),0===n)throw new Error("Cannot calculate var of an empty array");var d=s(i,n);switch(i=0,e(r,function(r){var e=u(r,d);i=o(i,c(e,e))}),t){case"uncorrected":return s(i,n);case"biased":return s(i,n+1);case"unbiased":var l=i&&!0===i.isBigNumber?new a.BigNumber(0):0;return 1==n?l:s(i,n-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}}exports.name="var",exports.factory=a;
},{"../../utils/collection/deepForEach":550,"../arithmetic/addScalar":488,"../arithmetic/subtract":513,"../arithmetic/multiplyScalar":546,"../arithmetic/divideScalar":547}],232:[function(require,module,exports) {
"use strict";function r(r,t,e,i){var n=e(require("../arithmetic/sqrt")),o=e(require("../statistics/var")),a=i("std",{"Array | Matrix":s,"Array | Matrix, string":s,"...":function(r){return s(r)}});return a.toTex=void 0,a;function s(r,t){if(0==r.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return n(o.apply(null,arguments))}}exports.name="std",exports.factory=r;
},{"../arithmetic/sqrt":511,"../statistics/var":234}],125:[function(require,module,exports) {
module.exports=[require("./mad"),require("./max"),require("./mean"),require("./median"),require("./min"),require("./mode"),require("./prod"),require("./quantileSeq"),require("./std"),require("./sum"),require("./var")];
},{"./mad":224,"./max":225,"./mean":226,"./median":227,"./min":228,"./mode":229,"./prod":231,"./quantileSeq":230,"./std":232,"./sum":233,"./var":234}],236:[function(require,module,exports) {
"use strict";var r=require("../../utils/string").isString,t=require("../../utils/string").format;function i(r,t,i,n){var s=n("print",{"string, Object":e,"string, Object, number | Object":e});return s.toTex=void 0,s}function e(i,e,n){return i.replace(/\$([\w\.]+)/g,function(i,s){for(var o=s.split("."),u=e[o.shift()];o.length&&void 0!==u;){var c=o.shift();u=c?u[c]:u+"."}return void 0!==u?r(u)?u:t(u,n):i})}exports.name="print",exports.factory=i;
},{"../../utils/string":151}],126:[function(require,module,exports) {
module.exports=[require("./format"),require("./print")];
},{"./format":235,"./print":236}],238:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,o,n){var c=n("acos",{number:function(r){return r>=-1&&r<=1||t.predictable?Math.acos(r):new e.Complex(r,0).acos()},Complex:function(r){return r.acos()},BigNumber:function(r){return r.acos()},"Array | Matrix":function(e){return r(e,c)}});return c.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},c}exports.name="acos",exports.factory=e;
},{"../../utils/collection/deepMap":132}],237:[function(require,module,exports) {
"use strict";var t=require("../../utils/collection/deepMap");function r(r,o,n,a){var c=a("acosh",{number:function(t){return t>=1||o.predictable?e(t):t<=-1?new r.Complex(Math.log(Math.sqrt(t*t-1)-t),Math.PI):new r.Complex(t,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(r){return t(r,c)}});return c.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},c}var e=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)};exports.name="acosh",exports.factory=r;
},{"../../utils/collection/deepMap":132}],239:[function(require,module,exports) {
"use strict";var t=require("../../utils/collection/deepMap");function r(r,e,n,a){var o=a("acot",{number:function(t){return Math.atan(1/t)},Complex:function(t){return t.acot()},BigNumber:function(t){return new r.BigNumber(1).div(t).atan()},"Array | Matrix":function(r){return t(r,o)}});return o.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},o}exports.name="acot",exports.factory=r;
},{"../../utils/collection/deepMap":132}],240:[function(require,module,exports) {
"use strict";var t=require("../../utils/collection/deepMap");function r(r,e,n,o){var i=o("acoth",{number:function(t){return t>=1||t<=-1||e.predictable?isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0:new r.Complex(t,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(t){return new r.BigNumber(1).div(t).atanh()},"Array | Matrix":function(r){return t(r,i)}});return i.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},i}exports.name="acoth",exports.factory=r;
},{"../../utils/collection/deepMap":132}],241:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,n,c){var i=c("acsc",{number:function(r){return r<=-1||r>=1||t.predictable?Math.asin(1/r):new e.Complex(r,0).acsc()},Complex:function(r){return r.acsc()},BigNumber:function(r){return new e.BigNumber(1).div(r).asin()},"Array | Matrix":function(e){return r(e,i)}});return i.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},i}exports.name="acsc",exports.factory=e;
},{"../../utils/collection/deepMap":132}],242:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,e,n,c){var u=c("acsch",{number:function(r){return r=1/r,Math.log(r+Math.sqrt(r*r+1))},Complex:function(r){return r.acsch()},BigNumber:function(r){return new t.BigNumber(1).div(r).asinh()},"Array | Matrix":function(t){return r(t,u)}});return u.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},u}exports.name="acsch",exports.factory=t;
},{"../../utils/collection/deepMap":132}],243:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function r(r,t,n,c){var a=c("asec",{number:function(e){return e<=-1||e>=1||t.predictable?Math.acos(1/e):new r.Complex(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new r.BigNumber(1).div(e).acos()},"Array | Matrix":function(r){return e(r,a)}});return a.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},a}exports.name="asec",exports.factory=r;
},{"../../utils/collection/deepMap":132}],244:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function r(r,t,n,a){a.find(n(require("./acosh")),["Complex"]);var i=a("asech",{number:function(e){if(e<=1&&e>=-1||t.predictable){e=1/e;var n=Math.sqrt(e*e-1);return e>0||t.predictable?Math.log(n+e):new r.Complex(Math.log(n-e),Math.PI)}return new r.Complex(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new r.BigNumber(1).div(e).acosh()},"Array | Matrix":function(r){return e(r,i)}});return i.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},i}exports.name="asech",exports.factory=r;
},{"../../utils/collection/deepMap":132,"./acosh":237}],245:[function(require,module,exports) {
"use strict";var n=require("../../utils/collection/deepMap");function r(r,e,t,i){var a=i("asin",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.asin(n):new r.Complex(n,0).asin()},Complex:function(n){return n.asin()},BigNumber:function(n){return n.asin()},"Array | Matrix":function(r){return n(r,a,!0)}});return a.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},a}exports.name="asin",exports.factory=r;
},{"../../utils/collection/deepMap":132}],247:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,n,e,i){var a=i("asinh",{number:Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()},"Array | Matrix":function(t){return r(t,a,!0)}});return a.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},a}exports.name="asinh",exports.factory=t;
},{"../../utils/collection/deepMap":132}],246:[function(require,module,exports) {
"use strict";var t=require("../../utils/collection/deepMap");function r(r,n,a,e){var u=e("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(r){return t(r,u,!0)}});return u.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},u}exports.name="atan",exports.factory=r;
},{"../../utils/collection/deepMap":132}],249:[function(require,module,exports) {
"use strict";function r(r,t,e,a){var i=e(require("../../type/matrix/function/matrix")),u=e(require("../../type/matrix/utils/algorithm02")),n=e(require("../../type/matrix/utils/algorithm03")),s=e(require("../../type/matrix/utils/algorithm09")),m=e(require("../../type/matrix/utils/algorithm11")),o=e(require("../../type/matrix/utils/algorithm12")),c=e(require("../../type/matrix/utils/algorithm13")),l=e(require("../../type/matrix/utils/algorithm14")),f=a("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,e){return r.BigNumber.atan2(t,e)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=s(r,t,f,!1);break;default:e=u(t,r,f,!0)}break;default:switch(t.storage()){case"sparse":e=n(r,t,f,!1);break;default:e=c(r,t,f)}}return e},"Array, Array":function(r,t){return f(i(r),i(t)).valueOf()},"Array, Matrix":function(r,t){return f(i(r),t)},"Matrix, Array":function(r,t){return f(r,i(t))},"Matrix, number | BigNumber":function(r,t){var e;switch(r.storage()){case"sparse":e=m(r,t,f,!1);break;default:e=l(r,t,f,!1)}return e},"number | BigNumber, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=o(t,r,f,!0);break;default:e=l(t,r,f,!0)}return e},"Array, number | BigNumber":function(r,t){return l(i(r),t,f,!1).valueOf()},"number | BigNumber, Array":function(r,t){return l(i(t),r,f,!0).valueOf()}});return f.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},f}exports.name="atan2",exports.factory=r;
},{"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm02":540,"../../type/matrix/utils/algorithm03":545,"../../type/matrix/utils/algorithm09":554,"../../type/matrix/utils/algorithm11":538,"../../type/matrix/utils/algorithm12":544,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],248:[function(require,module,exports) {
"use strict";var t=require("../../utils/collection/deepMap");function n(n,a,e,u){var o=u("atanh",{number:function(t){return t<=1&&t>=-1||a.predictable?r(t):new n.Complex(t,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(n){return t(n,o,!0)}});return o.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},o}var r=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2};exports.name="atanh",exports.factory=n;
},{"../../utils/collection/deepMap":132}],250:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function n(n,t,e,o){var i=o("cos",{number:Math.cos,Complex:function(r){return r.cos()},BigNumber:function(r){return r.cos()},Unit:function(r){if(!r.hasBase(n.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return i(r.value)},"Array | Matrix":function(n){return r(n,i)}});return i.toTex={1:"\\cos\\left(${args[0]}\\right)"},i}exports.name="cos",exports.factory=n;
},{"../../utils/collection/deepMap":132}],251:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function t(t,e,o,i){var u=i("cosh",{number:n,Complex:function(r){return r.cosh()},BigNumber:function(r){return r.cosh()},Unit:function(r){if(!r.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return u(r.value)},"Array | Matrix":function(t){return r(t,u)}});return u.toTex={1:"\\cosh\\left(${args[0]}\\right)"},u}var n=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2};exports.name="cosh",exports.factory=t;
},{"../../utils/collection/deepMap":132}],252:[function(require,module,exports) {
"use strict";var t=require("../../utils/collection/deepMap");function n(n,r,e,i){var o=i("cot",{number:function(t){return 1/Math.tan(t)},Complex:function(t){return t.cot()},BigNumber:function(t){return new n.BigNumber(1).div(t.tan())},Unit:function(t){if(!t.hasBase(n.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return o(t.value)},"Array | Matrix":function(n){return t(n,o)}});return o.toTex={1:"\\cot\\left(${args[0]}\\right)"},o}exports.name="cot",exports.factory=n;
},{"../../utils/collection/deepMap":132}],253:[function(require,module,exports) {
"use strict";var t=require("../../utils/collection/deepMap");function r(r,e,i,o){var u=o("coth",{number:n,Complex:function(t){return t.coth()},BigNumber:function(t){return new r.BigNumber(1).div(t.tanh())},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return u(t.value)},"Array | Matrix":function(r){return t(r,u)}});return u.toTex={1:"\\coth\\left(${args[0]}\\right)"},u}function n(t){var r=Math.exp(2*t);return(r+1)/(r-1)}exports.name="coth",exports.factory=r;
},{"../../utils/collection/deepMap":132}],254:[function(require,module,exports) {
"use strict";var n=require("../../utils/collection/deepMap");function r(r,t,e,i){var c=i("csc",{number:function(n){return 1/Math.sin(n)},Complex:function(n){return n.csc()},BigNumber:function(n){return new r.BigNumber(1).div(n.sin())},Unit:function(n){if(!n.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return c(n.value)},"Array | Matrix":function(r){return n(r,c)}});return c.toTex={1:"\\csc\\left(${args[0]}\\right)"},c}exports.name="csc",exports.factory=r;
},{"../../utils/collection/deepMap":132}],255:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),n=require("../../utils/number").sign;function e(n,e,i,u){var c=u("csch",{number:t,Complex:function(r){return r.csch()},BigNumber:function(r){return new n.BigNumber(1).div(r.sinh())},Unit:function(r){if(!r.hasBase(n.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return c(r.value)},"Array | Matrix":function(n){return r(n,c)}});return c.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},c}function t(r){return 0==r?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*n(r)}exports.name="csch",exports.factory=e;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],256:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function r(r,n,t,i){var u=i("sec",{number:function(e){return 1/Math.cos(e)},Complex:function(e){return e.sec()},BigNumber:function(e){return new r.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return u(e.value)},"Array | Matrix":function(r){return e(r,u)}});return u.toTex={1:"\\sec\\left(${args[0]}\\right)"},u}exports.name="sec",exports.factory=r;
},{"../../utils/collection/deepMap":132}],261:[function(require,module,exports) {
"use strict";var e=require("../../utils/collection/deepMap");function r(r,t,i,u){var o=u("sech",{number:n,Complex:function(e){return e.sech()},BigNumber:function(e){return new r.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return o(e.value)},"Array | Matrix":function(r){return e(r,o)}});return o.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},o}function n(e){return 2/(Math.exp(e)+Math.exp(-e))}exports.name="sech",exports.factory=r;
},{"../../utils/collection/deepMap":132}],257:[function(require,module,exports) {
"use strict";var n=require("../../utils/collection/deepMap");function r(r,t,i,e){var u=e("sin",{number:Math.sin,Complex:function(n){return n.sin()},BigNumber:function(n){return n.sin()},Unit:function(n){if(!n.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return u(n.value)},"Array | Matrix":function(r){return n(r,u,!0)}});return u.toTex={1:"\\sin\\left(${args[0]}\\right)"},u}exports.name="sin",exports.factory=r;
},{"../../utils/collection/deepMap":132}],258:[function(require,module,exports) {
"use strict";var n=require("../../utils/collection/deepMap");function r(r,e,i,u){var o=u("sinh",{number:t,Complex:function(n){return n.sinh()},BigNumber:function(n){return n.sinh()},Unit:function(n){if(!n.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return o(n.value)},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\sinh\\left(${args[0]}\\right)"},o}var t=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2};exports.name="sinh",exports.factory=r;
},{"../../utils/collection/deepMap":132}],259:[function(require,module,exports) {
"use strict";var n=require("../../utils/collection/deepMap");function t(t,r,e,a){var i=a("tan",{number:Math.tan,Complex:function(n){return n.tan()},BigNumber:function(n){return n.tan()},Unit:function(n){if(!n.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return i(n.value)},"Array | Matrix":function(t){return n(t,i,!0)}});return i.toTex={1:"\\tan\\left(${args[0]}\\right)"},i}exports.name="tan",exports.factory=t;
},{"../../utils/collection/deepMap":132}],260:[function(require,module,exports) {
"use strict";var n=require("../../utils/collection/deepMap");function t(t,e,a,i){var u=i("tanh",{number:r,Complex:function(n){return n.tanh()},BigNumber:function(n){return n.tanh()},Unit:function(n){if(!n.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return u(n.value)},"Array | Matrix":function(t){return n(t,u,!0)}});return u.toTex={1:"\\tanh\\left(${args[0]}\\right)"},u}var r=Math.tanh||function(n){var t=Math.exp(2*n);return(t-1)/(t+1)};exports.name="tanh",exports.factory=t;
},{"../../utils/collection/deepMap":132}],127:[function(require,module,exports) {
module.exports=[require("./acos"),require("./acosh"),require("./acot"),require("./acoth"),require("./acsc"),require("./acsch"),require("./asec"),require("./asech"),require("./asin"),require("./asinh"),require("./atan"),require("./atan2"),require("./atanh"),require("./cos"),require("./cosh"),require("./cot"),require("./coth"),require("./csc"),require("./csch"),require("./sec"),require("./sech"),require("./sin"),require("./sinh"),require("./tan"),require("./tanh")];
},{"./acos":238,"./acosh":237,"./acot":239,"./acoth":240,"./acsc":241,"./acsch":242,"./asec":243,"./asech":244,"./asin":245,"./asinh":247,"./atan":246,"./atan2":249,"./atanh":248,"./cos":250,"./cosh":251,"./cot":252,"./coth":253,"./csc":254,"./csch":255,"./sec":256,"./sech":261,"./sin":257,"./sinh":258,"./tan":259,"./tanh":260}],271:[function(require,module,exports) {
"use strict";function r(r,t,n,i){var a=require("../../utils/latex"),e=n(require("../../type/matrix/function/matrix")),u=n(require("../../type/matrix/utils/algorithm13")),o=n(require("../../type/matrix/utils/algorithm14")),f=i("to",{"Unit, Unit | string":function(r,t){return r.to(t)},"Matrix, Matrix":function(r,t){return u(r,t,f)},"Array, Array":function(r,t){return f(e(r),e(t)).valueOf()},"Array, Matrix":function(r,t){return f(e(r),t)},"Matrix, Array":function(r,t){return f(r,e(t))},"Matrix, any":function(r,t){return o(r,t,f,!1)},"any, Matrix":function(r,t){return o(t,r,f,!0)},"Array, any":function(r,t){return o(e(r),t,f,!1).valueOf()},"any, Array":function(r,t){return o(e(t),r,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}"+a.operators.to+"${args[1]}\\right)"},f}exports.name="to",exports.factory=r;
},{"../../utils/latex":282,"../../type/matrix/function/matrix":147,"../../type/matrix/utils/algorithm13":539,"../../type/matrix/utils/algorithm14":541}],129:[function(require,module,exports) {
module.exports=[require("./to")];
},{"./to":271}],272:[function(require,module,exports) {
"use strict";var e=require("../../utils/object");function o(o,r,t,n){var c=n("clone",{any:e.clone});return c.toTex=void 0,c}exports.name="clone",exports.factory=o;
},{"../../utils/object":86}],277:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap");function e(e,t,i,u){var n=u("isPrime",{number:function(r){if(r<2)return!1;if(2==r)return!0;if(r%2==0)return!1;for(var e=3;e*e<=r;e+=2)if(r%e==0)return!1;return!0},BigNumber:function(r){if(r.lt(2))return!1;if(r.equals(2))return!0;if(r.mod(2).isZero())return!1;for(var t=e.BigNumber(3);t.times(t).lte(r);t=t.plus(1))if(r.mod(t).isZero())return!1;return!0},"Array | Matrix":function(e){return r(e,n)}});return n}exports.name="isPrime",exports.factory=e;
},{"../../utils/collection/deepMap":132}],279:[function(require,module,exports) {
"use strict";var r=require("../../utils/collection/deepMap"),e=require("../../utils/number");function u(e,u,n,i){return i("isNaN",{number:function(r){return Number.isNaN(r)},BigNumber:function(r){return r.isNaN()},Fraction:function(r){return!1},Complex:function(r){return Number.isNaN(r.re)&&Number.isNaN(r.im)},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":function(e){return r(e,Number.isNaN)}})}exports.name="isNaN",exports.factory=u;
},{"../../utils/collection/deepMap":132,"../../utils/number":134}],130:[function(require,module,exports) {
module.exports=[require("./clone"),require("./isInteger"),require("./isNegative"),require("./isNumeric"),require("./isPositive"),require("./isPrime"),require("./isZero"),require("./isNaN"),require("./typeof")];
},{"./clone":272,"./isInteger":273,"./isNegative":274,"./isNumeric":275,"./isPositive":276,"./isPrime":277,"./isZero":278,"./isNaN":279,"./typeof":280}],43:[function(require,module,exports) {
module.exports=[require("./algebra"),require("./arithmetic"),require("./bitwise"),require("./combinatorics"),require("./complex"),require("./geometry"),require("./logical"),require("./matrix"),require("./probability"),require("./relational"),require("./special"),require("./statistics"),require("./string"),require("./trigonometry"),require("./unit"),require("./utils")];
},{"./algebra":115,"./arithmetic":116,"./bitwise":118,"./combinatorics":117,"./complex":121,"./geometry":119,"./logical":120,"./matrix":122,"./probability":128,"./relational":123,"./special":124,"./statistics":125,"./string":126,"./trigonometry":127,"./unit":129,"./utils":130}],97:[function(require,module,exports) {
"use strict";function r(r,t,o,e){return function(t,o){var e=r[o&&o.mathjs];return e&&"function"==typeof e.fromJSON?e.fromJSON(o):o}}exports.name="reviver",exports.path="json",exports.factory=r;
},{}],41:[function(require,module,exports) {
module.exports=[require("./reviver")];
},{"./reviver":97}],42:[function(require,module,exports) {
"use strict";var r=require("./ArgumentsError"),e=require("./DimensionError"),n=require("./IndexError");module.exports=[{name:"ArgumentsError",path:"error",factory:function(){return r}},{name:"DimensionError",path:"error",factory:function(){return e}},{name:"IndexError",path:"error",factory:function(){return n}}];
},{"./ArgumentsError":98,"./DimensionError":99,"./IndexError":100}],16:[function(require,module,exports) {
module.exports=[require("./type"),require("./constants"),require("./expression"),require("./function"),require("./json"),require("./error")];
},{"./type":39,"./constants":38,"./expression":40,"./function":43,"./json":41,"./error":42}],8:[function(require,module,exports) {
var r=require("./core");function e(t){var i=r.create(t);return i.create=e,i.import(require("./lib")),i}module.exports=e();
},{"./core":14,"./lib":16}],61:[function(require,module,exports) {
const n={isOperator:function(n,t=null){return"OperatorNode"===n.type&&"unaryMinus"!==n.fn&&"*+-/^".includes(n.op)&&(!t||n.op===t)},isParenthesis:function(n){return"ParenthesisNode"===n.type},isUnaryMinus:function(n){return"OperatorNode"===n.type&&"unaryMinus"===n.fn},isFunction:function(n,t=null){return"FunctionNode"===n.type&&(!t||n.fn.name===t)},isSymbol:function(t,r=!1){return"SymbolNode"===t.type||!(!r||!n.isUnaryMinus(t))&&n.isSymbol(t.args[0],!1)},isConstant:function(t,r=!1){if("ConstantNode"===t.type)return!0;return!(!r||!n.isUnaryMinus(t))&&(!!n.isConstant(t.args[0],!1)&&parseFloat(t.args[0].value)>=0)},isConstantFraction:function(t,r=!1){return!!n.isOperator(t,"/")&&t.args.every(t=>n.isConstant(t,r))},isConstantOrConstantFraction:function(t,r=!1){return!(!n.isConstant(t,r)&&!n.isConstantFraction(t,r))},isIntegerFraction:function(t,r=!1){if(!n.isConstantFraction(t,r))return!1;let s=t.args[0],e=t.args[1];return r&&(n.isUnaryMinus(s)&&(s=s.args[0]),n.isUnaryMinus(e)&&(e=e.args[0])),Number.isInteger(parseFloat(s.value))&&Number.isInteger(parseFloat(e.value))}};module.exports=n;
},{}],55:[function(require,module,exports) {
const e=require("mathjs"),o=require("./Type"),r={operator(o,r,n=!1){switch(o){case"+":return new e.expression.node.OperatorNode("+","add",r);case"-":return new e.expression.node.OperatorNode("-","subtract",r);case"/":return new e.expression.node.OperatorNode("/","divide",r);case"*":return new e.expression.node.OperatorNode("*","multiply",r,n);case"^":return new e.expression.node.OperatorNode("^","pow",r);default:throw Error("Unsupported operation: "+o)}},unaryMinus:o=>new e.expression.node.OperatorNode("-","unaryMinus",[o]),constant:o=>new e.expression.node.ConstantNode(o),symbol:o=>new e.expression.node.SymbolNode(o),parenthesis:o=>new e.expression.node.ParenthesisNode(o),list:o=>new e.expression.node.ArrayNode(o),term(e,r,n,s=!1){let t=e;return r&&(t=this.operator("^",[t,r])),n&&(s||1!==parseFloat(n.value))&&(t=o.isConstant(n)&&-1===parseFloat(n.value)&&!s?this.unaryMinus(t):this.operator("*",[n,t],!0)),t},polynomialTerm(e,o,r,n=!1){return this.term(e,o,r,n)},nthRoot(o,n){const s=r.symbol("nthRoot");return new e.expression.node.FunctionNode(s,[o,n])}};module.exports=r;
},{"mathjs":8,"./Type":61}],33:[function(require,module,exports) {
function e(e){return e.eval()}module.exports=e;
},{}],60:[function(require,module,exports) {
const e=require("./Creator"),t=require("./Type"),o=require("../util/evaluate");class r{constructor(e,t,o=!1){const n=r.parseNode(e,t,o);this.base=n.base,this.exponent=n.exponent,this.coeff=n.coeff}getBaseNode(){return this.base}getCoeffNode(t=!1){return!this.coeff&&t?e.constant(1):this.coeff}getCoeffValue(){return this.coeff?o(this.coeff):1}getExponentNode(t=!1){return!this.exponent&&t?e.constant(1):this.exponent}hasFractionCoeff(){return this.coeff&&t.isOperator(this.coeff)}hasCoeff(){return!!this.coeff}}function n(o){if(t.isConstant(o))o=e.constant(0-parseFloat(o.value));else{const t=0-parseFloat(o.args[0].value);o.args[0]=e.constant(t)}return o}r.isTerm=function(e,t,o=!1){try{return new r(e,t,o),!0}catch(e){return!1}},r.parseNode=function(o,s,a){let i,f,c;if(t.isOperator(o))if("^"===o.op){const e=o.args[0];if(!s(e))throw Error("Expected base term, got "+e);i=e,f=o.args[1]}else if("*"===o.op){if(a&&!o.implicit)throw Error("Expected implicit multiplication");if(2!==o.args.length)throw Error("Expected two arguments to *");const e=o.args[0];if(!t.isConstantOrConstantFraction(e))throw Error("Expected coefficient to be constant or fraction of constants term, got "+e);c=e;const n=new r(o.args[1],s,a);if(n.hasCoeff())throw Error("Cannot have two coefficients "+e+" and "+n.getCoeffNode());i=n.getBaseNode(),f=n.getExponentNode()}else{if("/"!==o.op)throw Error("Unsupported operatation for term with coefficent: "+o.op);{const n=o.args[1];if(!t.isConstant(n))throw Error("denominator must be constant node, instead of "+n);const p=new r(o.args[0],s,a);if(p.hasFractionCoeff())throw Error("Terms with coefficients cannot have nested fractions");f=p.getExponentNode(),i=p.getBaseNode();const h=p.getCoeffNode(!0);c=e.operator("/",[h,n])}}else if(t.isUnaryMinus(o)){var p=o.args[0];t.isParenthesis(p)&&(p=p.content);const h=new r(p,s,a);f=h.getExponentNode(),i=h.getBaseNode(),c=h.hasCoeff()?n(h.getCoeffNode()):e.constant(-1)}else{if(!s(o)){if(t.isParenthesis(o))return r.parseNode(o.content,s,a);throw Error("Unsupported node type: "+o.type)}i=o}return{base:i,exponent:f,coeff:c}},module.exports=r;
},{"./Creator":55,"./Type":61,"../util/evaluate":33}],59:[function(require,module,exports) {
const e=require("./Type"),r=require("./Term");class s extends r{constructor(e,r=!1){super(e,s.baseNodeFunc,r)}getSymbolNode(){return this.base}getSymbolName(){return this.base.name}}s.baseNodeFunc=function(r){return e.isSymbol(r)},s.isPolynomialTerm=function(e,n=!1){return r.isTerm(e,s.baseNodeFunc,n)},module.exports=s;
},{"./Type":61,"./Term":60}],36:[function(require,module,exports) {
const e=require("./node/Creator"),n=require("./node/Type"),r=require("./node/PolynomialTerm"),t={isNegative:function(e){if(n.isUnaryMinus(e))return!t.isNegative(e.args[0]);if(n.isConstant(e))return parseFloat(e.value)<0;if(n.isConstantFraction(e)){const n=parseFloat(e.args[0].value),r=parseFloat(e.args[1].value);if(n<0||r<0)return!(n<0&&r<0)}else if(r.isPolynomialTerm(e)){const n=new r(e);return t.isNegative(n.getCoeffNode(!0))}return!1},negate:function(o,a=!1){if(n.isConstantFraction(o))return o.args[0]=t.negate(o.args[0],a),o;if(r.isPolynomialTerm(o))return t.negatePolynomialTerm(o,a);if(!a){if(n.isUnaryMinus(o))return o.args[0];if(n.isConstant(o))return e.constant(0-parseFloat(o.value))}return e.unaryMinus(o)},negatePolynomialTerm:function(n,o=!1){if(!r.isPolynomialTerm(n))throw Error("node is not a polynomial term");const a=new r(n);let i;if(a.hasCoeff()){const n=a.getCoeffNode();if("-1"===n.value)i=null;else if(a.hasFractionCoeff()){let r=n.args[0];r=t.negate(r,o);const a=n.args[1];i=e.operator("/",[r,a])}else"1"===(i=t.negate(n,o)).value&&(i=null)}else i=e.constant(-1);return e.polynomialTerm(a.getSymbolNode(),a.getExponentNode(),i)}};module.exports=t;
},{"./node/Creator":55,"./node/Type":61,"./node/PolynomialTerm":59}],56:[function(require,module,exports) {
const e=require("../Negative"),r=require("./Creator"),t=require("./Type"),n={isType:function(e,r,i=!0,o=!0){return!!r(e)||(i&&t.isUnaryMinus(e)?n.isType(e.args[0],r,i,o):!(!o||!t.isParenthesis(e))&&n.isType(e.content,r,i,o))},getType:function(e,r,i=!0,o=!0,s){if(!0===i&&void 0===s)throw Error("Error in `getType`: moveUnaryMinus is undefined");if(r(e))return e;if(i&&t.isUnaryMinus(e))return s(n.getType(e.args[0],r,i,o,s));if(o&&t.isParenthesis(e))return n.getType(e.content,r,i,o,s);throw Error("`getType` called on a node that does not belong to specified type")},isFraction:function(e,r=!0,i=!0){return n.isType(e,e=>t.isOperator(e,"/"),r,i)},getFraction:function(i,o=!0,s=!0){return n.getType(i,e=>t.isOperator(e,"/"),s,o,function(n){if(!t.isOperator(n,"/"))throw Error("Expected a fraction");const i=n.args[0],o=n.args[1],s=e.negate(i);return r.operator("/",[s,o])})}};module.exports=n;
},{"../Negative":36,"./Creator":55,"./Type":61}],58:[function(require,module,exports) {
const r=require("../Negative"),e=require("./Type");function s(s){if(!e.isOperator(s,"/"))return!1;if(2!==s.args.length)return!1;const t=s.args[0],n=s.args[1];if(!e.isOperator(t,"*")||!t.implicit)return!1;const a=e.isUnaryMinus(t.args[0])?r.negate(t.args[0].args[0]):t.args[0],i=e.isParenthesis(t.args[1])?t.args[1].content:t.args[1];if(!e.isConstant(a)||!e.isConstant(i))return!1;const g=e.isParenthesis(n)?n.content:n;return!!e.isConstant(g)}function t(r){if(!s(r))throw Error("Expected a mixed number");return e.isUnaryMinus(r.args[0].args[0])}function n(r){if(!s(r))throw Error("Expected a mixed number");const t=e.isUnaryMinus(r.args[0].args[0])?r.args[0].args[0].args[0]:r.args[0].args[0];return parseInt(t.value)}function a(r){if(!s(r))throw Error("Expected a mixed number");const t=e.isParenthesis(r.args[0].args[1])?r.args[0].args[1].content:r.args[0].args[1];return parseInt(t.value)}function i(r){if(!s(r))throw Error("Expected a mixed number");const t=e.isParenthesis(r.args[1])?r.args[1].content:r.args[1];return parseInt(t.value)}module.exports={isMixedNumber:s,isNegativeMixedNumber:t,getWholeNumberValue:n,getNumeratorValue:a,getDenominatorValue:i};
},{"../Negative":36,"./Type":61}],57:[function(require,module,exports) {
const e=require("./Type"),n=require("./Term");class o extends n{constructor(e,n=!1){super(e,o.baseNodeFunc,n)}}o.baseNodeFunc=function(n){return e.isFunction(n,"nthRoot")},o.isNthRootTerm=function(e,r=!1){return n.isTerm(e,o.baseNodeFunc,r)},module.exports=o;
},{"./Type":61,"./Term":60}],18:[function(require,module,exports) {
function n(o){const t=o.clone();return t.changeGroup=o.changeGroup,o.args?o.args.forEach((o,c)=>{t.args[c]=n(o)}):o.content&&(t.content=n(o.content)),t}module.exports=n;
},{}],17:[function(require,module,exports) {
const e=require("../util/clone"),n=require("../ChangeTypes"),o=require("./Type");class r{constructor(e,n,o,r=[]){if(!o)throw Error("node is not defined");if(void 0===e||"string"!=typeof e)throw Error("changetype isn't valid");this.changeType=e,this.oldNode=n,this.newNode=o,this.substeps=r}hasChanged(){return this.changeType!==n.NO_CHANGE}}r.resetChangeGroups=function(n){return(n=e(n)).filter(e=>e.changeGroup).forEach(e=>{delete e.changeGroup}),n},r.noChange=function(e){return new r(n.NO_CHANGE,null,e)},r.nodeChanged=function(e,n,o,t=!0,s=[]){return t&&(n.changeGroup=1,o.changeGroup=1),new r(e,n,o,s)},r.childChanged=function(n,t,s=null){const d=e(n),i=e(n);let u=t.substeps;if(!t.oldNode)throw Error("Expected old node for changeType: "+t.changeType);function c(e,n){return e.map(e=>{(e=n(e)).substeps=c(e.substeps,n)}),e}if(o.isParenthesis(n))d.content=t.oldNode,i.content=t.newNode,u=c(u,o=>{const r=e(n),t=e(n);return r.content=o.oldNode,t.content=o.newNode,o.oldNode=r,o.newNode=t,o});else if(o.isOperator(n)||o.isFunction(n)&&null!==s)d.args[s]=t.oldNode,i.args[s]=t.newNode,u=c(u,o=>{const r=e(n),t=e(n);return r.args[s]=o.oldNode,t.args[s]=o.newNode,o.oldNode=r,o.newNode=t,o});else{if(!o.isUnaryMinus(n))throw Error("Unexpected node type: "+n.type);d.args[0]=t.oldNode,i.args[0]=t.newNode,u=c(u,o=>{const r=e(n),t=e(n);return r.args[0]=o.oldNode,t.args[0]=o.newNode,o.oldNode=r,o.newNode=t,o})}return new r(t.changeType,d,i,u)},module.exports=r;
},{"../util/clone":18,"../ChangeTypes":3,"./Type":61}],20:[function(require,module,exports) {
const e=require("./Creator"),r=require("./CustomType"),o=require("./MixedNumber"),u=require("./NthRootTerm"),t=require("./PolynomialTerm"),m=require("./Status"),i=require("./Term"),T=require("./Type");module.exports={Creator:e,CustomType:r,MixedNumber:o,NthRootTerm:u,PolynomialTerm:t,Status:m,Term:i,Type:T};
},{"./Creator":55,"./CustomType":56,"./MixedNumber":58,"./NthRootTerm":57,"./PolynomialTerm":59,"./Status":17,"./Term":60,"./Type":61}],45:[function(require,module,exports) {
const e=require("../node");function n(n,o){if(!e.Type.isOperator(n,"+"))return!1;const r=n.args;if(!r.every(n=>e.Term.isTerm(n,o.baseNodeFunc)))return!1;if(1===r.length)return!1;const t=r.map(e=>new o(e)),s=t[0],d=s.getBaseNode(),i=s.getExponentNode(!0);return t.slice(1).every(e=>{const n=d.equals(e.getBaseNode()),o=e.getExponentNode(!0).equals(i);return n&&o})}function o(o){return n(o,e.NthRootTerm)}function r(o){return n(o,e.PolynomialTerm)}module.exports={canAddLikeTermNodes:n,canAddLikeTermNthRootNodes:o,canAddLikeTermPolynomialNodes:r};
},{"../node":20}],52:[function(require,module,exports) {
const e=require("../node");function r(n){if(e.Type.isOperator(n)||e.Type.isFunction(n))return n.args.every(e=>r(e));if(e.Type.isParenthesis(n))return r(n.content);if(e.Type.isConstant(n,!0))return!0;if(e.Type.isSymbol(n))return!1;if(e.Type.isUnaryMinus(n))return r(n.args[0]);throw Error("Unsupported node type: "+n.type)}module.exports=r;
},{"../node":20}],46:[function(require,module,exports) {
const e=require("../node"),r=require("./resolvesToConstant.js");function t(t){const o=t.leftNode,s=t.rightNode,i=e.Type.isConstant(s)&&0===parseFloat(s.value),n=e.Type.isOperator(o,"*")||e.Type.isOperator(o,"^");if(!i||!n)return!1;if(e.Type.isOperator(o,"*"))return o.args.filter(e=>!r(e)).length>=1;if(e.Type.isOperator(o,"^"))return!r(o)}module.exports=t;
},{"../node":20,"./resolvesToConstant.js":52}],131:[function(require,module,exports) {
const n=require("../../node/Creator"),t=require("../../node/Type");function e(n){return n.args?n.args[0]:n}function r(e){return t.isConstant(e)?n.constant(1):e.args[1]}function o(n){return t.isOperator(n,"^")&&t.isConstant(n.args[0])||t.isConstant(n)}module.exports={getBaseNode:e,getExponentNode:r,isConstantOrConstantPower:o};
},{"../../node/Creator":55,"../../node/Type":61}],48:[function(require,module,exports) {
const e=require("../simplifyExpression/collectAndCombineSearch/ConstantOrConstantPower"),r=require("../node");function n(n){if(!r.Type.isOperator(n)||"*"!==n.op)return!1;const t=n.args;if(!t.every(r=>e.isConstantOrConstantPower(r)))return!1;if(t.every(e=>!r.Type.isOperator(e,"^")))return!1;const o=t.map(r=>e.getBaseNode(r)),s=o[0];return o.slice(1).every(e=>s.value===e.value)}module.exports=n;
},{"../simplifyExpression/collectAndCombineSearch/ConstantOrConstantPower":131,"../node":20}],47:[function(require,module,exports) {
const e=require("../node");function r(r){if(!e.Type.isOperator(r)||"*"!==r.op)return!1;const o=r.args;if(!o.every(r=>e.PolynomialTerm.isPolynomialTerm(r)))return!1;if(1===o.length)return!1;const n=r.args.map(r=>new e.PolynomialTerm(r));if(!n.every(e=>!e.hasCoeff()))return!1;const t=n[0];return n.slice(1).every(e=>t.getSymbolName()===e.getSymbolName())}module.exports=r;
},{"../node":20}],37:[function(require,module,exports) {
const t={getPrimeFactors:function(r){let o=[];if(r<0)return o=(o=[-1]).concat(t.getPrimeFactors(-1*r));const s=Math.sqrt(r);let c=2;if(r%2)for(c=3;r%c&&c<=s;)c+=2;return c>s?o.push(r):(o.push(c),o=o.concat(t.getPrimeFactors(r/c))),o},getFactorPairs:function(t){const r=[],o=Math.floor(Math.sqrt(Math.abs(t)));for(var s=-o;s<=o;s++)if(0!==s&&t%s==0){const o=t/s;r.push([s,o])}return r}};module.exports=t;
},{}],12:[function(require,module,exports) {
const r=require("./evaluate"),e=require("../Negative"),n=require("../node");function t(a){if(n.MixedNumber.isMixedNumber(a))return a;if(n.Type.isConstant(a,!0)){const e=n.Creator.constant(r(a));return a.changeGroup&&(e.changeGroup=a.changeGroup),e}if(n.Type.isOperator(a)){{let r;if("+-/*".includes(a.op))return r="/"===a.op?"*":"-"===a.op?"+":a.op,o(a,r);a.args.forEach((r,e)=>{a.args[e]=t(r)})}return a}if(n.Type.isParenthesis(a))return a.content=t(a.content),a;if(n.Type.isUnaryMinus(a)){const r=t(a.args[0]),n=e.negate(r,!0);return a.changeGroup&&(n.changeGroup=a.changeGroup),n}if(n.Type.isFunction(a)&&a.fn.args){const r=t(a.fn),e=t(a.args[0]);return n.Creator.operator("*",[r,n.Creator.parenthesis(e)])}return n.Type.isFunction(a,"abs")?(a.args[0]=t(a.args[0]),a):n.Type.isFunction(a,"nthRoot")?(a.args[0]=t(a.args[0]),a.args[1]&&(a.args[1]=t(a.args[1])),a):a}function o(r,e){const t=a(r,e);return 1===t.length?r=t[0]:("/"===r.op&&(t.length>2||u(r))?r=n.Creator.operator("*",t):"-"===r.op?r=n.Creator.operator("+",t):r.args=t,"*"===r.op&&(r.implicit=!1)),r}function a(r,o){if(!n.Type.isOperator(r))return[t(r)];switch(r.op){case"*":case"/":if("*"!==o)return[t(r)];break;case"+":case"-":if("+"!==o)return[t(r)];break;default:return[t(r)]}if(n.PolynomialTerm.isPolynomialTerm(r,!0))return r.args.forEach((e,n)=>{r.args[n]=t(r.args[n])}),[r];if("*"===o&&s(r))return i(r);if("*"===o&&"/"===r.op)return p(r);if("-"===r.op){const n=r.args[1],t=e.negate(n,!0),s=[a(r.args[0],o),a(t,o)];return[].concat.apply([],s)}{const e=[];return r.args.forEach(r=>{e.push(a(r,o))}),[].concat.apply([],e)}}function s(r){if("*"!==r.op)return!1;if(2!==r.args.length)return!1;const e=r.args[1];return!!n.PolynomialTerm.isPolynomialTerm(e)&&!new n.PolynomialTerm(e).hasCoeff()}function i(r){const e=a(r.args[0],"*"),o=e.pop(),s=t(r.args[1]);return n.Type.isConstantOrConstantFraction(o)?e.push(n.Creator.operator("*",[o,s],!0)):(e.push(o),e.push(s)),e}function p(r){let e=a(r.args[0],"*");if(1===e.length)r.args[0]=e.pop(),r.args[1]=t(r.args[1]),e=[r];else{const o=e.pop(),a=t(r.args[1]),s=n.Creator.operator("/",[o,a]);e.push(s)}return e}function u(r){return!!n.Type.isOperator(r)&&("*"===r.op||"/"===r.op&&r.args.some(u))}module.exports=t;
},{"./evaluate":33,"../Negative":36,"../node":20}],19:[function(require,module,exports) {
const e=require("./clone"),r=require("./flattenOperands"),o=require("../node");function i(o,i=!1){let a=n(o=r(e(o)));return i||(a=a.replace(/\s*?\+\s*?\-\s*?/g," - ")),a}function n(e,r){if(o.PolynomialTerm.isPolynomialTerm(e)){const r=new o.PolynomialTerm(e);if(r.hasFractionCoeff()&&"/"!==e.op)return`${n(r.getCoeffNode())} ${n(o.Creator.polynomialTerm(r.getSymbolNode(),r.exponent,null))}`}if(o.Type.isIntegerFraction(e))return`${e.args[0]}/${e.args[1]}`;if(o.Type.isOperator(e)){if("/"===e.op&&o.Type.isOperator(e.args[1]))return`${n(e.args[0])} / (${n(e.args[1])})`;let i="";switch(e.op){case"+":case"-":i=` ${e.op} `;break;case"*":if(e.implicit)break;i=` ${e.op} `;break;case"/":i=o.Type.isConstantFraction(e,!0)?`${e.op}`:` ${e.op} `;break;case"^":i=`${e.op}`}let a=e.args.map(r=>n(r,e)).join(i);return r&&o.Type.isOperator(r)&&e.op&&r.op&&"*/^".indexOf(r.op)>=0&&"+-".indexOf(e.op)>=0&&(a=`(${a})`),a}return o.Type.isParenthesis(e)?`(${n(e.content)})`:o.Type.isUnaryMinus(e)?o.Type.isOperator(e.args[0])&&-1==="*/^".indexOf(e.args[0].op)&&!o.PolynomialTerm.isPolynomialTerm(e)?`-(${n(e.args[0])})`:`-${n(e.args[0])}`:e.toString()}function a(e,r=!1){let o=e.toTex({implicit:"hide"});return r||(o=o.replace(/\s*?\+\s*?\-\s*?/g," - ")),o}module.exports={ascii:i,latex:a};
},{"./clone":18,"./flattenOperands":12,"../node":20}],76:[function(require,module,exports) {
const t=require("../../util/clone"),e=require("mathjs"),n=require("../../ChangeTypes"),o=require("../../factor/ConstantFactors"),r=require("../../Negative"),a=require("../../node"),s=require("../../util/print");function u(t){if(!a.Type.isFunction(t,"nthRoot"))return a.Status.noChange(t);const e=S(t);if(a.Type.isOperator(e)){if("^"===e.op)return i(t);if("*"===e.op)return h(t)}else if(a.Type.isConstant(e))return f(t);return a.Status.noChange(t)}function i(e){let o=t(e);const r=S(e),s=N(e),u=r.args[0],i=a.Type.isParenthesis(r.args[1])?r.args[1].content:r.args[1];if(s.equals(i))return o=u,a.Status.nodeChanged(n.CANCEL_EXPONENT_AND_ROOT,e,o);if(a.Type.isConstant(s)&&a.Type.isConstant(i)){const t=parseFloat(s.value),r=parseFloat(i.value);if(t%r==0){const s=t/r,i=a.Creator.constant(s);return o=a.Creator.nthRoot(u,i),a.Status.nodeChanged(n.CANCEL_EXPONENT,e,o)}if(r%t==0){const s=r/t,i=a.Creator.constant(s);return o=a.Creator.operator("^",[u,i]),a.Status.nodeChanged(n.CANCEL_ROOT,e,o)}}return a.Status.noChange(e)}function h(e){let o=t(e);const s=N(e),u=[];let h;return a.Type.isConstant(s)&&!r.isNegative(s)&&((h=g(o)).hasChanged()&&(u.push(h),o=a.Status.resetChangeGroups(h.newNode)),(h=c(o)).hasChanged()&&(u.push(h),o=a.Status.resetChangeGroups(h.newNode)),(h=p(o)).hasChanged()&&(u.push(h),"^"===(o=a.Status.resetChangeGroups(h.newNode)).args[0].op))?(h=i(o),u.push(h),a.Status.nodeChanged(n.NTH_ROOT_VALUE,e,h.newNode,!0,u)):(h=l(o),u.push(h),(h=T(o=a.Status.resetChangeGroups(h.newNode))).hasChanged()?(u.push(h),(h=d(o=a.Status.resetChangeGroups(h.newNode))).hasChanged()&&(u.push(h),o=a.Status.resetChangeGroups(h.newNode)),a.Status.nodeChanged(n.NTH_ROOT_VALUE,e,o,!0,u)):a.Status.noChange(e))}function g(e){const o=t(e);let r=[],s=!1;return S(e).args.forEach(t=>{if(a.PolynomialTerm.isPolynomialTerm(t)){const e=new a.PolynomialTerm(t),n=e.getCoeffNode(),o=a.Creator.polynomialTerm(e.getSymbolNode(),e.getExponentNode(),null);if(n){const t=C(n);t.length>1&&(s=!0),r=r.concat(t)}r.push(o)}else{const e=C(t);e.length>1&&(s=!0),r=r.concat(e)}}),s?(o.args[0]=a.Creator.operator("*",r),a.Status.nodeChanged(n.FACTOR_INTO_PRIMES,e,o)):a.Status.noChange(e)}function C(t){if(a.Type.isConstant(t)&&!r.isNegative(t)){const e=parseFloat(t.value);return o.getPrimeFactors(e).map(a.Creator.constant)}return[t]}function c(o){let r=t(o);const u=S(o),i=N(o),h=parseFloat(i.value);u.args.sort(O);const g=u.args.map(t=>s.ascii(t));if([...new Set(g)].length===g.length)return a.Status.noChange(o);const C={};u.args.forEach(t=>{const e=s.ascii(t);C[e]?C[e]++:C[e]=1});const c=Object.keys(C).map(t=>{let n=C[t];const o=e.parse(t),r=h,s=[];for(;n-r>0;)n-=r,s.push(a.Creator.parenthesis(a.Creator.operator("*",Array(r).fill(o))));const u=1===n?o:a.Creator.parenthesis(a.Creator.operator("*",Array(n).fill(o)));return s.push(u),s}).reduce((t,e)=>t.concat(e),[]),p=a.Creator.operator("*",c);return r=a.Creator.nthRoot(p,i),a.Status.nodeChanged(n.GROUP_TERMS_BY_ROOT,o,r)}function p(e){const o=t(e),r=S(e);if(a.Type.isParenthesis(r)){const t=r.content;if(R(t)){const r=t.args[0],s=a.Creator.constant(t.args.length);return o.args[0]=a.Creator.operator("^",[r,s]),a.Status.nodeChanged(n.CONVERT_MULTIPLICATION_TO_EXPONENT,e,o)}}else if(a.Type.isOperator(r,"*")){const t=[];return r.args.forEach(e=>{if(a.Type.isParenthesis(e)){const n=e.content;if(R(n)){const e=n.args[0],o=a.Creator.constant(n.args.length);return void t.push(a.Creator.operator("^",[e,o]))}}t.push(e)}),o.args[0]=a.Creator.operator("*",t),a.Status.nodeChanged(n.CONVERT_MULTIPLICATION_TO_EXPONENT,e,o)}return a.Status.noChange(e)}function l(e){let o=t(e);const r=S(e),s=N(e),u=[];for(let t=0;t<r.args.length;t++){const e=r.args[t];u.push(a.Creator.nthRoot(e,s))}return o=a.Creator.operator("*",u),a.Status.nodeChanged(n.DISTRIBUTE_NTH_ROOT,e,o)}function T(e){const o=t(e),r=[];for(let t=0;t<o.args.length;t++){const e=u(o.args[t]);e.hasChanged()&&(o.args[t]=e.newNode,r.push(a.Status.childChanged(o,e,t)))}return 0===r.length?a.Status.noChange(e):1===r.length?r[0]:a.Status.nodeChanged(n.EVALUATE_DISTRIBUTED_NTH_ROOT,e,o,!0,r)}function d(e){let o,r=t(e);const s=[],u=[];for(let t=0;t<r.args.length;t++){const e=r.args[t];a.Type.isFunction(e,"nthRoot")?(u.push(e.args[0]),o=N(e)):s.push(e)}if(s.length>0){if(u.length>0){const t=1===u.length?u[0]:a.Creator.operator("*",u);s.push(a.Creator.nthRoot(t,o))}if(!(r=a.Creator.operator("*",s)).equals(e))return a.Status.nodeChanged(n.COMBINE_UNDER_ROOT,e,r)}return a.Status.noChange(e)}function f(s){let u=t(s);const i=S(s),g=N(s);if(r.isNegative(i))return a.Status.noChange(s);if(!a.Type.isConstant(g)||r.isNegative(g))return a.Status.noChange(s);const C=parseFloat(i.value),c=parseFloat(g.value),p=e.nthRoot(C,c),l=e.round(p);if(e.pow(l,c)===C)return u=a.Creator.constant(l),a.Status.nodeChanged(n.NTH_ROOT_VALUE,s,u);{const t=o.getPrimeFactors(C);if(t.length>1){let e=[];const o=t.map(a.Creator.constant);u.args[0]=a.Creator.operator("*",o),e.push(a.Status.nodeChanged(n.FACTOR_INTO_PRIMES,s,u));const r=h(u);if(r.hasChanged())return e=e.concat(r.substeps),u=r.newNode,a.Status.nodeChanged(n.NTH_ROOT_VALUE,s,u,!0,e)}}return a.Status.noChange(s)}function N(t){if(!a.Type.isFunction(t,"nthRoot"))throw Error("Expected nthRoot");return 2===t.args.length?t.args[1]:a.Creator.constant(2)}function S(t){if(!a.Type.isFunction(t,"nthRoot"))throw Error("Expected nthRoot");return t.args[0]}function O(t,e){return a.Type.isConstant(t)&&a.Type.isConstant(e)?parseFloat(t.value)-parseFloat(e.value):a.Type.isConstant(t)?-1:a.Type.isConstant(e)?1:0}function R(t){if(!a.Type.isOperator(t)||"*"!==t.op)return!1;const e=t.args.map(s.ascii);return 1===[...new Set(e)].length}module.exports={getRadicandNode:S,getRootNode:N,nthRoot:u};
},{"../../util/clone":18,"mathjs":8,"../../ChangeTypes":3,"../../factor/ConstantFactors":37,"../../Negative":36,"../../node":20,"../../util/print":19}],49:[function(require,module,exports) {
const e=require("../node"),o=require("../simplifyExpression/functionsSearch/nthRoot");function r(r){if(!e.Type.isOperator(r,"*")||!r.args.every(o=>e.Type.isFunction(o,"nthRoot")))return!1;const t=r.args[0],n=o.getRootNode(t);return r.args.every(e=>o.getRootNode(e).equals(n))}module.exports=r;
},{"../node":20,"../simplifyExpression/functionsSearch/nthRoot":76}],54:[function(require,module,exports) {
const r=require("../node");function n(n){if("*"!==n.op||n.implicit)return!1;if(2!==n.args.length)return!1;if(!r.Type.isConstantOrConstantFraction(n.args[1]))return!1;if(!r.PolynomialTerm.isPolynomialTerm(n.args[0]))return!1;return!new r.PolynomialTerm(n.args[0]).hasCoeff()}module.exports=n;
},{"../node":20}],53:[function(require,module,exports) {
const e=require("./canAddLikeTerms"),r=require("./canMultiplyLikeTermPolynomialNodes"),i=require("./canRearrangeCoefficient");function n(n){return e.canAddLikeTermPolynomialNodes(n)||r(n)||i(n)}module.exports=n;
},{"./canAddLikeTerms":45,"./canMultiplyLikeTermPolynomialNodes":47,"./canRearrangeCoefficient":54}],50:[function(require,module,exports) {
const s=require("../node"),e=require("./resolvesToConstant");function n(o){return s.Type.isParenthesis(o)?n(o.content):s.Type.isUnaryMinus(o)?n(o.args[0]):s.Type.isOperator(o)?o.args.some(n):!s.Type.isSymbol(o)&&!s.Type.isConstant(o)&&(s.Type.isFunction(o,"abs")?1!==o.args.length||(!!o.args.some(n)||!e(o.args[0])):!s.Type.isFunction(o,"nthRoot")||(o.args.some(n)||o.args.length<1))}module.exports=n;
},{"../node":20,"./resolvesToConstant":52}],30:[function(require,module,exports) {
const e=require("./node"),r={};function t(e,r){return n(e,r)||o(e,r)}function n(r,t){if(e.PolynomialTerm.isPolynomialTerm(r)&&new e.PolynomialTerm(r).getSymbolName()===t)return!0;return!1}function o(t,n){return!(!e.Type.isOperator(t)||"/"!==t.op)&&r.getSymbolsInExpression(t.args[1]).has(n)}r.getSymbolsInEquation=function(e){const t=r.getSymbolsInExpression(e.leftNode),n=r.getSymbolsInExpression(e.rightNode);return new Set([...t,...n])},r.getSymbolsInExpression=function(e){const r=e.filter(e=>e.isSymbolNode).map(e=>e.name);return new Set(r)},r.getLastSymbolTerm=function(n,o){if(t(n,o))return n;if(e.Type.isOperator(n,"+"))for(let i=n.args.length-1;i>=0;i--){const s=n.args[i];if(e.Type.isOperator(s,"+"))return r.getLastSymbolTerm(s,o);if(t(s,o))return s}return null},r.getLastNonSymbolTerm=function(i,s){if(n(i,s))return new e.PolynomialTerm(i).getCoeffNode();if(o(i,s))return null;if(e.Type.isOperator(i))for(let n=i.args.length-1;n>=0;n--){const o=i.args[n];if(e.Type.isOperator(o,"+"))return r.getLastNonSymbolTerm(o,s);if(!t(o,s))return o}return null},r.getLastDenominatorWithSymbolTerm=function(t,n){if(o(t,n))return t.args[1];if(e.Type.isOperator(t,"+"))for(let i=t.args.length-1;i>=0;i--){const s=t.args[i];if(e.Type.isOperator(s,"+"))return r.getLastDenominatorWithSymbolTerm(s,n);if(o(s,n))return s.args[1]}return null},module.exports=r;
},{"./node":20}],51:[function(require,module,exports) {
const e=require("../node"),n=require("../Symbols");function r(r){if(!e.Type.isOperator(r,"+"))return!1;if(r.args.length>3)return!1;if(1!==n.getSymbolsInExpression(r).size)return!1;const o=r.args.filter(t(2)),l=r.args.filter(t(1)),i=r.args.filter(e.Type.isConstant);return!(1!==o.length||l.length>1||i.length>1)&&o.length+l.length+i.length===r.args.length}function t(n){return function(r){if(e.PolynomialTerm.isPolynomialTerm(r)){const t=new e.PolynomialTerm(r).getExponentNode(!0);return t&&parseFloat(t.value)===n}return!1}}module.exports=r;
},{"../node":20,"../Symbols":30}],15:[function(require,module,exports) {
const e=require("./canAddLikeTerms"),i=require("./canFindRoots"),r=require("./canMultiplyLikeTermConstantNodes"),o=require("./canMultiplyLikeTermPolynomialNodes"),n=require("./canMultiplyLikeTermsNthRoots"),a=require("./canRearrangeCoefficient"),s=require("./canSimplifyPolynomialTerms"),t=require("./hasUnsupportedNodes"),l=require("./isQuadratic"),u=require("./resolvesToConstant");module.exports={canFindRoots:i,canAddLikeTerms:e,canMultiplyLikeTermConstantNodes:r,canMultiplyLikeTermPolynomialNodes:o,canMultiplyLikeTermsNthRoots:n,canRearrangeCoefficient:a,canSimplifyPolynomialTerms:s,hasUnsupportedNodes:t,isQuadratic:l,resolvesToConstant:u};
},{"./canAddLikeTerms":45,"./canFindRoots":46,"./canMultiplyLikeTermConstantNodes":48,"./canMultiplyLikeTermPolynomialNodes":47,"./canMultiplyLikeTermsNthRoots":49,"./canRearrangeCoefficient":54,"./canSimplifyPolynomialTerms":53,"./hasUnsupportedNodes":50,"./isQuadratic":51,"./resolvesToConstant":52}],11:[function(require,module,exports) {
const t=require("mathjs"),e=require("./ConstantFactors"),r=require("../ChangeTypes"),o=require("../util/evaluate"),a=require("../Negative"),n=require("../node"),s=[u,l,c,i];function C(t){let e,r=0,a=0,C=0;for(const s of t.args)if(n.Type.isConstant(s))C=o(s);else{if(!n.PolynomialTerm.isPolynomialTerm(s))return n.Status.noChange(t);{const o=new n.PolynomialTerm(s),C=o.getExponentNode(!0);if("2"===C.value)e=o.getSymbolNode(),r=o.getCoeffValue();else{if("1"!==C.value)return n.Status.noChange(t);a=o.getCoeffValue()}}}if(!e||!r)return n.Status.noChange(t);let u=!1;r<0&&(u=!0,r=-r,a=-a,C=-C);for(let o=0;o<s.length;o++){const n=s[o](t,e,r,a,C,u);if(n.hasChanged())return n}return n.Status.noChange(t)}function u(e,o,s,C,u,l){if(!C||u)return n.Status.noChange(e);const c=t.gcd(s,C),i=n.Creator.constant(c),p=n.Creator.constant(s/c),g=n.Creator.constant(C/c),h=n.Creator.polynomialTerm(o,null,i),d=n.Creator.polynomialTerm(o,null,p),S=n.Creator.parenthesis(n.Creator.operator("+",[d,g]));let m=n.Creator.operator("*",[h,S],!0);return l&&(m=a.negate(m)),n.Status.nodeChanged(r.FACTOR_SYMBOL,e,m)}function l(e,o,s,C,u,l){if(C||!u)return n.Status.noChange(e);const c=t.gcd(s,u);s/=c,u/=c;const i=Math.sqrt(Math.abs(s)),p=Math.sqrt(Math.abs(u));if(Number.isInteger(i)&&Number.isInteger(p)&&u<0){const t=n.Creator.constant(i),s=n.Creator.constant(p),C=n.Creator.polynomialTerm(o,null,t),u=n.Creator.parenthesis(n.Creator.operator("+",[C,s])),g=n.Creator.parenthesis(n.Creator.operator("-",[C,s]));let h=n.Creator.operator("*",[u,g],!0);if(1!==c){const t=n.Creator.constant(c);h=n.Creator.operator("*",[t,h],!0)}return l&&(h=a.negate(h)),n.Status.nodeChanged(r.FACTOR_DIFFERENCE_OF_SQUARES,e,h)}return n.Status.noChange(e)}function c(e,o,s,C,u,l){if(!C||!u)return n.Status.noChange(e);const c=t.gcd(s,C,u);s/=c,u/=c;const i=Math.sqrt(Math.abs(s));let p=Math.sqrt(Math.abs(u));C<0&&(p*=-1);const g=2*i*p;if(Number.isInteger(i)&&Number.isInteger(p)&&C/c===g){const t=n.Creator.constant(i),s=n.Creator.constant(p),C=n.Creator.polynomialTerm(o,null,t),u=n.Creator.parenthesis(n.Creator.operator("+",[C,s])),g=n.Creator.constant(2);let h=n.Creator.operator("^",[u,g]);if(1!==c){const t=n.Creator.constant(c);h=n.Creator.operator("*",[t,h],!0)}return l&&(h=a.negate(h)),n.Status.nodeChanged(r.FACTOR_PERFECT_SQUARE,e,h)}return n.Status.noChange(e)}function i(r,o,s,C,u,l){let c;if(C&&u){const i=t.gcd(s,C,u),p=n.Creator.constant(i);C/=i;const g=(s/=i)*(u/=i),h=e.getFactorPairs(g,!0);for(const t of h)if(t[0]+t[1]===C){const e=[];let g;const h=n.Creator.constant(s),d=n.Creator.constant(C),S=n.Creator.constant(u),m=n.Creator.polynomialTerm(o,n.Creator.constant(2),h),f=n.Creator.polynomialTerm(o,null,d);l&&(c=n.Creator.operator("+",[m,f,S],!0),c=a.negate(c),g=n.Status.nodeChanged(S.REARRANGE_COEFF,r,c),e.push(g),c=n.Status.resetChangeGroups(g.newNode));const T=t[0],R=t[1],_=n.Creator.constant(T),E=n.Creator.constant(R),y=n.Creator.polynomialTerm(o,null,_),F=n.Creator.polynomialTerm(o,null,E);c=n.Creator.operator("+",[m,y,F,S],!0),l&&(c=a.negate(c)),g=n.Status.nodeChanged(S.BREAK_UP_TERM,r,c),e.push(g),c=n.Status.resetChangeGroups(g.newNode);const M=n.Creator.parenthesis(n.Creator.operator("+",[m,y])),N=n.Creator.parenthesis(n.Creator.operator("+",[F,S]));c=n.Creator.operator("+",[M,N],!0),l&&(c=a.negate(c)),g=n.Status.nodeChanged(S.COLLECT_LIKE_TERMS,r,c),e.push(g),c=n.Status.resetChangeGroups(g.newNode);const O=n.Creator.constant(h.gcd(s,T)),A=n.Creator.constant(s/O),q=n.Creator.constant(T/O),b=n.Creator.polynomialTerm(o,null,O),U=n.Creator.polynomialTerm(o,null,A),L=n.Creator.parenthesis(n.Creator.operator("+",[U,q])),P=n.Creator.operator("*",[b,L],!0);c=n.Creator.operator("+",[P,N],!0),l&&(c=a.negate(c)),g=n.Status.nodeChanged(S.FACTOR_SYMBOL,r,c),e.push(g),c=n.Status.resetChangeGroups(g.newNode);let w=h.gcd(u,R);R<0&&(w*=-1);const G=n.Creator.constant(w),I=n.Creator.parenthesis(n.Creator.operator("+",[b,G])),v=n.Creator.operator("*",[G,L],!0);return c=n.Creator.operator("+",[P,v],!0),l&&(c=a.negate(c)),g=n.Status.nodeChanged(S.FACTOR_SYMBOL,r,c),e.push(g),c=n.Status.resetChangeGroups(g.newNode),c=1===i?n.Creator.operator("*",[L,I],!0):n.Creator.operator("*",[p,L,I],!0),l&&(c=a.negate(c)),g=n.Status.nodeChanged(S.FACTOR_SUM_PRODUCT_RULE,r,c),e.push(g),c=n.Status.resetChangeGroups(g.newNode),n.Status.nodeChanged(S.FACTOR_SUM_PRODUCT_RULE,r,c,!0,e)}}return n.Status.noChange(r)}module.exports=C;
},{"mathjs":8,"./ConstantFactors":37,"../ChangeTypes":3,"../util/evaluate":33,"../Negative":36,"../node":20}],96:[function(require,module,exports) {
const n={appendToArrayInObject:function(n,e,o){return n[e]?n[e].push(o):n[e]=[o],n}};module.exports=n;
},{}],44:[function(require,module,exports) {
const e=require("../../util/clone"),t=require("../../util/print"),n=require("../../ChangeTypes"),r=require("../../node"),o=require("../functionsSearch/nthRoot"),i=require("../../util/Util"),s="constant",a="constantFraction",p="nthRoot",c="other",l={};function u(e,n,r){const o=new n(e);let i=t.ascii(o.getBaseNode());"+"===r&&(i+="^"+t.ascii(o.getExponentNode(!0)));return i}function y(e){let t={};for(let n=0;n<e.args.length;n++){const o=e.args[n];if(r.PolynomialTerm.isPolynomialTerm(o)){const e=u(o,r.PolynomialTerm,"+");t=i.appendToArrayInObject(t,e,o)}else if(r.NthRootTerm.isNthRootTerm(o)){const e=u(o,r.NthRootTerm,"+");t=i.appendToArrayInObject(t,e,o)}else if(r.Type.isIntegerFraction(o))t=i.appendToArrayInObject(t,a,o);else if(r.Type.isConstant(o))t=i.appendToArrayInObject(t,s,o);else{if(!(r.Type.isOperator(e)||r.Type.isFunction(e)||r.Type.isParenthesis(e)||r.Type.isUnaryMinus(e)))throw Error("Unsupported node type: "+o.type);t=i.appendToArrayInObject(t,c,o)}}if(t[s]&&1===t[s].length&&t[a]&&1===t[a].length){const e=t[a][0];delete(t=i.appendToArrayInObject(t,s,e))[a]}return t}function T(e){let t={};for(let n=0;n<e.args.length;n++){let o=e.args[n];if(r.Type.isUnaryMinus(o)&&(t=i.appendToArrayInObject(t,s,r.Creator.constant(-1)),o=o.args[0]),r.PolynomialTerm.isPolynomialTerm(o))t=h(t,o);else if(r.Type.isFunction(o,"nthRoot"))t=f(t,o);else if(r.Type.isIntegerFraction(o))t=i.appendToArrayInObject(t,s,o);else if(r.Type.isConstant(o))t=i.appendToArrayInObject(t,s,o);else{if(!(r.Type.isOperator(e)||r.Type.isFunction(e)||r.Type.isParenthesis(e)||r.Type.isUnaryMinus(e)))throw Error("Unsupported node type: "+o.type);t=i.appendToArrayInObject(t,c,o)}}return t}function f(e,t){const n=o.getRootNode(t).value;return e=i.appendToArrayInObject(e,p+n,t)}function h(e,t){const n=new r.PolynomialTerm(t);let o;if(n.hasCoeff()){const t=n.getCoeffNode();let a=n.getSymbolNode();n.getExponentNode()&&(a=r.Creator.operator("^",[a,n.getExponentNode()])),e=i.appendToArrayInObject(e,s,t),o=u(a,r.PolynomialTerm,"*"),e=i.appendToArrayInObject(e,o,a)}else o=u(t,r.PolynomialTerm,"*"),e=i.appendToArrayInObject(e,o,t);return e}function d(e,t){if(e===t)return 0;if(-1===e.indexOf("^"))return e<t?-1:1;{const n=e.split("^")[0],r=e.split("^")[1],o=t.split("^")[0],i=t.split("^")[1];return n!==o?n<o?-1:1:r>i?-1:1}}l.canCollectLikeTerms=function(e){if(!r.Type.isOperator(e,"+")&&!r.Type.isOperator(e,"*"))return!1;let t;if("+"===e.op)t=y(e);else{if("*"!==e.op)throw Error("Operation not supported: "+e.op);t=T(e)}const n=Object.keys(t),o=n.filter(e=>e!==c);return n.length>1&&o.some(e=>t[e].length>1)},l.collectLikeTerms=function(t){if(!l.canCollectLikeTerms(t))return r.Status.noChange(t);const o=t.op;let i=[];if("+"===o)i=y(t);else{if("*"!==o)throw Error("Operation not supported: "+o);i=T(t)}const p=Object.keys(i).filter(e=>e!==s&&e!==a&&e!==c).sort(d);i[s]&&("+"===o&&p.push(s),"*"===o&&p.unshift(s)),i[a]&&p.push(a);let u=[],f=1;p.forEach(t=>{const n=i[t];if(1===n.length){const t=e(n[0]);t.changeGroup=f,u.push(t)}else{const t=e(r.Creator.parenthesis(r.Creator.operator(o,n)));t.changeGroup=f,u.push(t)}n.forEach(e=>{e.changeGroup=f}),f++}),i[c]&&(u=u.concat(i[c]));const h=e(t);return h.args=u,r.Status.nodeChanged(n.COLLECT_LIKE_TERMS,t,h,!1)},module.exports=l;
},{"../../util/clone":18,"../../util/print":19,"../../ChangeTypes":3,"../../node":20,"../functionsSearch/nthRoot":76,"../../util/Util":96}],13:[function(require,module,exports) {
const n=require("../checks"),e=require("../simplifyExpression/collectAndCombineSearch/LikeTermCollector"),t=require("../node");function r(n,e=!1){if(e)for(;t.Type.isParenthesis(n);)n=n.content;return o(n)}function o(n){if(t.Type.isOperator(n))return s(n);if(t.Type.isFunction(n))return i(n);if(t.Type.isParenthesis(n))return c(n);if(t.Type.isConstant(n,!0)||t.Type.isSymbol(n))return n;if(t.Type.isUnaryMinus(n)){const e=n.args[0];return n.args[0]=o(e),n}throw Error("Unsupported node type: "+n.type)}function s(n){if("^"===n.op&&t.Type.isParenthesis(n.args[0])){const e=n.args[0];if(t.Type.isOperator(e.content))return e.content=o(e.content),n.args[1]=o(n.args[1]),n}return n.args.forEach((e,t)=>{n.args[t]=o(e)}),"+"===n.op?n.args.forEach((e,r)=>{t.Type.isParenthesis(e)&&!a(e.content)&&(n.args[r]=e.content)}):"-"===n.op&&t.Type.isParenthesis(n.args[0])&&!a(n.args[0].content)&&(n.args[0]=n.args[0].content),n}function i(n){return n.args.forEach((e,r)=>{t.Type.isParenthesis(e)&&(e=e.content),n.args[r]=o(e)}),n}function c(n){if(t.PolynomialTerm.isPolynomialTerm(n.content))n.content.args&&n.content.args.forEach((e,t)=>{n.content.args[t]=o(e)}),n=n.content;else if(t.Type.isConstant(n.content,!0)||t.Type.isIntegerFraction(n.content)||t.Type.isSymbol(n.content))n=n.content;else if(t.Type.isFunction(n.content))n=o(n=n.content);else if(t.Type.isOperator(n.content))n.content=o(n.content),"^"===n.content.op&&(n=n.content);else if(t.Type.isParenthesis(n.content))n=o(n.content);else{if(!t.Type.isUnaryMinus(n.content))throw Error("Unsupported node type: "+n.content.type);n.content=o(n.content)}return n}function a(t){return e.canCollectLikeTerms(t)||n.resolvesToConstant(t)||n.canSimplifyPolynomialTerms(t)}module.exports=r;
},{"../checks":15,"../simplifyExpression/collectAndCombineSearch/LikeTermCollector":44,"../node":20}],7:[function(require,module,exports) {
const e=require("../checks"),r=require("./factorQuadratic"),t=require("../util/flattenOperands"),s=require("../util/removeUnnecessaryParens");function u(u,n=!1){if(e.hasUnsupportedNodes(u))return[];let a;const i=[];return u=t(u),u=s(u,!0),e.isQuadratic(u)&&(a=r(u)).hasChanged()&&i.push(a),i}module.exports=u;
},{"../checks":15,"./factorQuadratic":11,"../util/flattenOperands":12,"../util/removeUnnecessaryParens":13}],4:[function(require,module,exports) {
const r=require("mathjs"),e=require("./stepThrough");function t(t,u=!1){let n;try{n=r.parse(t)}catch(r){return[]}return n?e(n,u):[]}module.exports=t;
},{"mathjs":8,"./stepThrough":7}],62:[function(require,module,exports) {
const e=require("./node"),n={};function t(n,r,s){let i;if(s&&(i=n(r)).hasChanged())return i;if(e.Type.isConstant(r)||e.Type.isSymbol(r))return e.Status.noChange(r);if(e.Type.isUnaryMinus(r)){if((i=t(n,r.args[0],s)).hasChanged())return e.Status.childChanged(r,i)}else if(e.Type.isOperator(r)||e.Type.isFunction(r))for(let r=0;r<r.args.length;r++){const i=t(n,r.args[r],s);if(i.hasChanged())return e.Status.childChanged(r,i,r)}else{if(!e.Type.isParenthesis(r))throw Error("Unsupported node type: "+r);if((i=t(n,r.content,s)).hasChanged())return e.Status.childChanged(r,i)}return s?e.Status.noChange(r):n(r)}n.preOrder=function(e){return function(n){return t(e,n,!0)}},n.postOrder=function(e){return function(n){return t(e,n,!1)}},module.exports=n;
},{"./node":20}],23:[function(require,module,exports) {
const e=require("../../ChangeTypes"),t=require("../../util/evaluate"),r=require("../../node"),n=require("../../TreeSearch"),a=n.postOrder(o);function o(n){if(!r.Type.isOperator(n))return r.Status.noChange(n);if(!n.args.every(e=>r.Type.isConstant(e,!0)))return r.Status.noChange(n);if(n.args.forEach((e,a)=>{n.args[a]=r.Creator.constant(t(e))}),r.Type.isIntegerFraction(n)){const t=parseInt(n.args[0]),a=parseInt(n.args[1]);if(t%a==0){const o=r.Creator.constant(t/a);return r.Status.nodeChanged(e.SIMPLIFY_ARITHMETIC,n,o)}return r.Status.noChange(n)}{const t=s(n),a=r.Creator.constant(t);return r.Status.nodeChanged(e.SIMPLIFY_ARITHMETIC,n,a)}}function s(e){let r=t(e);return r=Math.abs(r)<1?parseFloat(r.toPrecision(4)):parseFloat(r.toFixed(4))}module.exports=a;
},{"../../ChangeTypes":3,"../../util/evaluate":33,"../../node":20,"../../TreeSearch":62}],63:[function(require,module,exports) {
const e=require("../../util/clone"),r=require("../../ChangeTypes"),t=require("../../node");function o(o){if(!t.MixedNumber.isMixedNumber(o))return t.Status.noChange(o);const s=[];let C=e(o);const c=t.MixedNumber.getWholeNumberValue(o),i=t.MixedNumber.getNumeratorValue(o),g=t.MixedNumber.getDenominatorValue(o),p=t.MixedNumber.isNegativeMixedNumber(o);let d=n(C,c,i,g,p);return s.push(d),d=a(C=t.Status.resetChangeGroups(d.newNode),c,i,g,p),s.push(d),d=u(C=t.Status.resetChangeGroups(d.newNode),c,i,g,p),s.push(d),C=t.Status.resetChangeGroups(d.newNode),t.Status.nodeChanged(r.CONVERT_MIXED_NUMBER_TO_IMPROPER_FRACTION,o,C,!0,s)}function n(e,o,n,a,u){const s=t.Creator.parenthesis(t.Creator.operator("*",[t.Creator.constant(o),t.Creator.constant(a)])),C=t.Creator.operator("+",[s,t.Creator.constant(n)]);e.args[0].args[0].changeGroup=1,C.changeGroup=1;const c=t.Creator.constant(a);let i=t.Creator.operator("/",[C,c]);return u&&(i=t.Creator.unaryMinus(i)),t.Status.nodeChanged(r.IMPROPER_FRACTION_NUMERATOR,e,i,!1)}function a(e,o,n,a,u){const s=t.Creator.operator("+",[t.Creator.constant(o*a),t.Creator.constant(n)]);e.args[0].changeGroup=1,s.changeGroup=1;const C=t.Creator.constant(a);let c=t.Creator.operator("/",[s,C]);return u&&(c=t.Creator.unaryMinus(c)),t.Status.nodeChanged(r.SIMPLIFY_ARITHMETIC,e,c,!1)}function u(e,o,n,a,u){const s=t.Creator.constant(o*a+n);e.args[0].changeGroup=1,s.changeGroup=1;const C=t.Creator.constant(a);let c=t.Creator.operator("/",[s,C]);return u&&(c=t.Creator.unaryMinus(c)),t.Status.nodeChanged(r.SIMPLIFY_ARITHMETIC,e,c,!1)}module.exports=o;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],64:[function(require,module,exports) {
const e=require("../../checks"),n=require("../../util/clone"),r=require("../../ChangeTypes"),o=require("../../node");function t(t){if(!e.canRearrangeCoefficient(t))return o.Status.noChange(t);let a=n(t);const i=new o.PolynomialTerm(a.args[0]),u=a.args[1],l=i.getExponentNode();return a=o.Creator.polynomialTerm(i.getSymbolNode(),l,u),o.Status.nodeChanged(r.REARRANGE_COEFF,t,a)}module.exports=t;
},{"../../checks":15,"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],65:[function(require,module,exports) {
const n=require("../../ChangeTypes"),e=require("../../node");function t(t){if("^"!==t.op)return e.Status.noChange(t);const o=t.args[1];if(e.Type.isConstant(o)&&"0"===o.value){const o=e.Creator.constant(1);return e.Status.nodeChanged(n.REDUCE_EXPONENT_BY_ZERO,t,o)}return e.Status.noChange(t)}module.exports=t;
},{"../../ChangeTypes":3,"../../node":20}],66:[function(require,module,exports) {
const e=require("../../ChangeTypes"),n=require("../../node");function r(r){if("*"!==r.op)return n.Status.noChange(r);if(r.args.findIndex(e=>{if(n.Type.isConstant(e)&&"0"===e.value)return!0;return!!n.PolynomialTerm.isPolynomialTerm(e)&&0===new n.PolynomialTerm(e).getCoeffValue()})>=0){const t=n.Creator.constant(0);return n.Status.nodeChanged(e.MULTIPLY_BY_ZERO,r,t)}return n.Status.noChange(r)}module.exports=r;
},{"../../ChangeTypes":3,"../../node":20}],67:[function(require,module,exports) {
const e=require("../../ChangeTypes"),n=require("../../node");function t(t){if("/"!==t.op)return n.Status.noChange(t);if("0"===t.args[0].value){const r=n.Creator.constant(0);return n.Status.nodeChanged(e.REDUCE_ZERO_NUMERATOR,t,r)}return n.Status.noChange(t)}module.exports=t;
},{"../../ChangeTypes":3,"../../node":20}],68:[function(require,module,exports) {
const e=require("../../util/clone"),n=require("../../ChangeTypes"),t=require("../../node");function r(r){if("+"!==r.op)return t.Status.noChange(r);const s=r.args.findIndex(e=>t.Type.isConstant(e)&&"0"===e.value);let a=e(r);return s>=0?(a.args.splice(s,1),1===a.args.length&&(a=a.args[0]),t.Status.nodeChanged(n.REMOVE_ADDING_ZERO,r,a)):t.Status.noChange(r)}module.exports=r;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],69:[function(require,module,exports) {
const e=require("../../util/clone"),t=require("../../ChangeTypes"),a=require("../../Negative"),n=require("../../node");function r(r){if("/"!==r.op)return n.Status.noChange(r);const s=r.args[1];if(!n.Type.isConstant(s))return n.Status.noChange(r);let o=e(r.args[0]);if(-1===parseFloat(s.value)){n.Type.isOperator(o)&&(o=n.Creator.parenthesis(o));const e=a.isNegative(o)?t.RESOLVE_DOUBLE_MINUS:t.DIVISION_BY_NEGATIVE_ONE;return o=a.negate(o),n.Status.nodeChanged(e,r,o)}return 1===parseFloat(s.value)?n.Status.nodeChanged(t.DIVISION_BY_ONE,r,o):n.Status.noChange(r)}module.exports=r;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../Negative":36,"../../node":20}],70:[function(require,module,exports) {
const e=require("../../checks"),r=require("../../util/clone"),n=require("../../ChangeTypes"),s=require("../../node");function t(t){if("^"===t.op&&e.resolvesToConstant(t.args[1])&&s.Type.isConstant(t.args[0])&&"1"===t.args[0].value){const e=r(t.args[0]);return s.Status.nodeChanged(n.REMOVE_EXPONENT_BASE_ONE,t,e)}return s.Status.noChange(t)}module.exports=t;
},{"../../checks":15,"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],71:[function(require,module,exports) {
const e=require("../../util/clone"),n=require("../../ChangeTypes"),r=require("../../node");function t(t){if("^"===t.op&&r.Type.isConstant(t.args[1])&&"1"===t.args[1].value){const o=e(t.args[0]);return r.Status.nodeChanged(n.REMOVE_EXPONENT_BY_ONE,t,o)}return r.Status.noChange(t)}module.exports=t;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],73:[function(require,module,exports) {
const e=require("../../util/clone"),n=require("../../ChangeTypes"),t=require("../../Negative"),r=require("../../node");function a(a){if("*"!==a.op)return r.Status.noChange(a);const s=a.args.findIndex(e=>r.Type.isConstant(e)&&"-1"===e.value);if(s<0)return r.Status.noChange(a);let g;g=s+1===a.args.length?s-1:s+1;let u=a.args[g];if(r.Type.isConstant(u))return r.Status.noChange(a);let i=e(a);return u=t.negate(e(u)),i.args[g]=u,i.args.splice(s,1),1===i.args.length&&(i=i.args[0]),r.Status.nodeChanged(n.REMOVE_MULTIPLYING_BY_NEGATIVE_ONE,a,i)}module.exports=a;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../Negative":36,"../../node":20}],72:[function(require,module,exports) {
const e=require("../../util/clone"),n=require("../../ChangeTypes"),t=require("../../node");function r(r){if("*"!==r.op)return t.Status.noChange(r);const s=r.args.findIndex(e=>t.Type.isConstant(e)&&"1"===e.value);if(s>=0){let a=e(r);return a.args.splice(s,1),1===a.args.length&&(a=a.args[0]),t.Status.nodeChanged(n.REMOVE_MULTIPLYING_BY_ONE,r,a)}return t.Status.noChange(r)}module.exports=r;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],74:[function(require,module,exports) {
const e=require("../../util/clone"),n=require("../../ChangeTypes"),t=require("../../node");function s(s){if(!t.Type.isUnaryMinus(s))return t.Status.noChange(s);const r=s.args[0];if(t.Type.isUnaryMinus(r)){const a=e(r.args[0]);return t.Status.nodeChanged(n.RESOLVE_DOUBLE_MINUS,s,a)}if(t.Type.isConstant(r)&&parseFloat(r.value)<0){const e=t.Creator.constant(-1*parseFloat(r.value));return t.Status.nodeChanged(n.RESOLVE_DOUBLE_MINUS,s,e)}if(t.Type.isParenthesis(r)){const e=r.content;if(t.Type.isUnaryMinus(e)){const r=t.Creator.parenthesis(e.args[0]);return t.Status.nodeChanged(n.RESOLVE_DOUBLE_MINUS,s,r)}}return t.Status.noChange(s)}module.exports=s;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],21:[function(require,module,exports) {
const e=require("../../node"),r=require("../../TreeSearch"),i=require("./convertMixedNumberToImproperFraction"),n=require("./rearrangeCoefficient"),o=require("./reduceExponentByZero"),u=require("./reduceMultiplicationByZero"),t=require("./reduceZeroDividedByAnything"),a=require("./removeAdditionOfZero"),q=require("./removeDivisionByOne"),c=require("./removeExponentBaseOne"),d=require("./removeExponentByOne"),l=require("./removeMultiplicationByNegativeOne"),p=require("./removeMultiplicationByOne"),m=require("./simplifyDoubleUnaryMinus"),v=[i,u,t,o,d,c,m,a,p,l,q,n],y=r.preOrder(s);function s(r){for(let e=0;e<v.length;e++){const i=v[e](r);if(i.hasChanged())return i;r=i.newNode}return e.Status.noChange(r)}module.exports=y;
},{"../../node":20,"../../TreeSearch":62,"./convertMixedNumberToImproperFraction":63,"./rearrangeCoefficient":64,"./reduceExponentByZero":65,"./reduceMultiplicationByZero":66,"./reduceZeroDividedByAnything":67,"./removeAdditionOfZero":68,"./removeDivisionByOne":69,"./removeExponentBaseOne":70,"./removeExponentByOne":71,"./removeMultiplicationByNegativeOne":73,"./removeMultiplicationByOne":72,"./simplifyDoubleUnaryMinus":74}],22:[function(require,module,exports) {
const e=require("../../ChangeTypes"),r=require("../../node"),t=require("../../TreeSearch"),o=t.postOrder(a);function a(t){if(!r.Type.isOperator(t)||"/"!==t.op)return r.Status.noChange(t);let o=t.args[0];if(r.Type.isParenthesis(o)&&(o=o.content),!r.Type.isOperator(o)||"+"!==o.op)return r.Status.noChange(t);const a=[],n=t.args[1];o.args.forEach(e=>{const t=r.Creator.operator("/",[e,n]);t.changeGroup=1,a.push(t)});let s=r.Creator.operator("+",a);return s=r.Creator.parenthesis(s),t.changeGroup=1,r.Status.nodeChanged(e.BREAK_UP_FRACTION,t,s,!1)}module.exports=o;
},{"../../ChangeTypes":3,"../../node":20,"../../TreeSearch":62}],77:[function(require,module,exports) {
const e=require("../../util/clone"),t=require("mathjs"),r=require("../../ChangeTypes"),n=require("../../util/evaluate"),a=require("../../node");function o(o){if(!a.Type.isOperator(o)||"/"!==o.op)return a.Status.noChange(o);if(!a.Type.isIntegerFraction(o,!0))return a.Status.noChange(o);const C=[];let p=e(o);const c=parseInt(n(o.args[0])),i=parseInt(n(o.args[1]));let h=t.gcd(c,i);if(i<0&&(h*=-1),1===h)return a.Status.noChange(o);let g=s(p,h,c,i);return C.push(g),g=u(p=a.Status.resetChangeGroups(g.newNode),h,c,i),C.push(g),p=a.Status.resetChangeGroups(g.newNode),a.Status.nodeChanged(r.SIMPLIFY_FRACTION,o,p,!0,C)}function s(t,n,o,s){let u=e(t);const C=a.Creator.constant(n);C.changeGroup=1;const p=a.Creator.parenthesis(a.Creator.operator("*",[a.Creator.constant(o/n),C])),c=a.Creator.parenthesis(a.Creator.operator("*",[a.Creator.constant(s/n),C]));return u=a.Creator.operator("/",[p,c]),a.Status.nodeChanged(r.FIND_GCD,t,u,!1)}function u(e,t,n,o){let s;const u=a.Creator.constant(n/t),C=a.Creator.constant(o/t);return s=1===parseFloat(C.value)?u:a.Creator.operator("/",[u,C]),a.Status.nodeChanged(r.CANCEL_GCD,e,s,!1)}module.exports=o;
},{"../../util/clone":18,"mathjs":8,"../../ChangeTypes":3,"../../util/evaluate":33,"../../node":20}],78:[function(require,module,exports) {
const e=require("../../util/clone"),r=require("./divideByGCD"),t=require("mathjs"),a=require("../../ChangeTypes"),s=require("../../util/evaluate"),n=require("../../node");function o(t){let o=e(t);if(!n.Type.isOperator(t)||"+"!==t.op)return n.Status.noChange(t);if(!t.args.every(e=>n.Type.isIntegerFraction(e,!0)))return n.Status.noChange(t);const d=t.args.map(e=>parseFloat(s(e.args[1]))),i=[];let S;return d.every(e=>e===d[0])||(S=h(o),i.push(S),S=p(o=n.Status.resetChangeGroups(S.newNode)),i.push(S),S=c(o=n.Status.resetChangeGroups(S.newNode)),i.push(S),o=n.Status.resetChangeGroups(S.newNode)),S=u(o),i.push(S),S=g(o=n.Status.resetChangeGroups(S.newNode)),i.push(S),(S=C(o=n.Status.resetChangeGroups(S.newNode))).hasChanged()&&(i.push(S),o=n.Status.resetChangeGroups(S.newNode)),(S=r(o)).hasChanged()&&(i.push(S),o=n.Status.resetChangeGroups(S.newNode)),n.Status.nodeChanged(a.ADD_FRACTIONS,t,o,!0,i)}function u(r){let t=e(r);const s=t.args[0].args[1],o=[];t.args.forEach(e=>{o.push(e.args[0])});const u=n.Creator.parenthesis(n.Creator.operator("+",o));return t=n.Creator.operator("/",[u,s]),n.Status.nodeChanged(a.COMBINE_NUMERATORS,r,t)}function g(r){const t=e(r);return t.args[0]=n.Creator.constant(s(t.args[0])),n.Status.nodeChanged(a.ADD_NUMERATORS,r,t)}function C(r){let t=e(r);return"0"===t.args[0].value?(t=n.Creator.constant(0),n.Status.nodeChanged(a.REDUCE_ZERO_NUMERATOR,r,t)):n.Status.noChange(r)}function h(r){const s=e(r),o=s.args.map(e=>parseFloat(e.args[1].value)),u=t.lcm(...o);return s.args.forEach((e,r)=>{const t=u/o[r];if(1!==t){const a=n.Creator.constant(t),o=n.Creator.parenthesis(n.Creator.operator("*",[e.args[0],a])),u=n.Creator.parenthesis(n.Creator.operator("*",[e.args[1],a]));s.args[r]=n.Creator.operator("/",[o,u])}}),n.Status.nodeChanged(a.COMMON_DENOMINATOR,r,s)}function p(r){const t=e(r);return t.args.map(e=>{e.args[1]=n.Creator.constant(s(e.args[1]))}),n.Status.nodeChanged(a.MULTIPLY_DENOMINATORS,r,t)}function c(r){const t=e(r);return t.args.map(e=>{e.args[0]=n.Creator.constant(s(e.args[0]))}),n.Status.nodeChanged(a.MULTIPLY_NUMERATORS,r,t)}module.exports=o;
},{"../../util/clone":18,"./divideByGCD":77,"mathjs":8,"../../ChangeTypes":3,"../../util/evaluate":33,"../../node":20}],82:[function(require,module,exports) {
const e=require("./addConstantFractions"),t=require("../../util/clone"),n=require("../../ChangeTypes"),r=require("../../util/evaluate"),s=require("../../node");function a(a){if(!s.Type.isOperator(a)||"+"!==a.op||2!==a.args.length)return s.Status.noChange(a);const o=a.args[0],u=a.args[1];let i,C;if(s.Type.isConstant(o)){if(!s.Type.isIntegerFraction(u))return s.Status.noChange(a);i=o,C=u}else{if(!s.Type.isConstant(u))return s.Status.noChange(a);if(!s.Type.isIntegerFraction(o))return s.Status.noChange(a);i=u,C=o}let g,I,p,T=t(a),l=[];if(Number.isInteger(parseFloat(i.value))){const e=C.args[1],t=parseInt(e),r=parseInt(i.value),a=s.Creator.constant(r*t);g=s.Creator.operator("/",[a,e]),I=C,p=n.CONVERT_INTEGER_TO_FRACTION}else{let e=r(C);e=e<1?parseFloat(e.toPrecision(4)):parseFloat(e.toFixed(4)),I=s.Creator.constant(e),g=i,p=n.DIVIDE_FRACTION_FOR_ADDITION}if(s.Type.isConstant(o)?(T.args[0]=g,T.args[1]=I):(T.args[0]=I,T.args[1]=g),l.push(s.Status.nodeChanged(p,a,T)),T=s.Status.resetChangeGroups(T),p===n.CONVERT_INTEGER_TO_FRACTION){const t=e(T);l=l.concat(t.substeps)}else{const e=s.Creator.constant(r(T));l.push(s.Status.nodeChanged(n.SIMPLIFY_ARITHMETIC,T,e))}const c=l[l.length-1];return T=s.Status.resetChangeGroups(c.newNode),s.Status.nodeChanged(n.SIMPLIFY_ARITHMETIC,a,T,!0,l)}module.exports=a;
},{"./addConstantFractions":78,"../../util/clone":18,"../../ChangeTypes":3,"../../util/evaluate":33,"../../node":20}],135:[function(require,module,exports) {
const e=require("../fractionsSearch/addConstantAndFraction"),t=require("../fractionsSearch/addConstantFractions"),n=require("../arithmeticSearch"),r=require("../../util/clone"),a=require("../../ChangeTypes"),s=require("../../node");function o(h){if(s.Type.isParenthesis(h)&&(h=h.content),!s.Type.isOperator(h)||"+"!==h.op)return s.Status.noChange(h);if(h.args.some(e=>!s.Type.isConstantOrConstantFraction(e)))return s.Status.noChange(h);const u=[n,t,e];for(let e=0;e<u.length;e++){const t=u[e](e);if(t.hasChanged()&&s.Type.isConstantOrConstantFraction(t.newNode))return t}let c=r(h);const g=[];let p;p=i(c),g.push(p);const C=(c=s.Status.resetChangeGroups(p.newNode)).args[0],d=c.args[1];if(s.Type.isParenthesis(C)){const e=C.content,t=n(e);p=s.Status.childChanged(c,t,0),g.push(p),c=s.Status.resetChangeGroups(p.newNode)}if(s.Type.isParenthesis(d)){const e=d.content,n=t(e);p=s.Status.childChanged(c,n,1),g.push(p),c=s.Status.resetChangeGroups(p.newNode)}return p=o(c),g.push(p),c=s.Status.resetChangeGroups(p.newNode),s.Status.nodeChanged(a.SIMPLIFY_ARITHMETIC,h,c,!0,g)}function i(e){let t=e.args.filter(s.Type.isIntegerFraction),n=e.args.filter(s.Type.isConstant);if(0===t.length||0===n.length)throw Error("expected both integer fractions and constants, got "+e);if(t.length+n.length!==e.args.length)throw Error("can only evaluate integer fractions and constants");n=(n=n.map(e=>(e.changeGroup=1,r(e)))).length>1?s.Creator.parenthesis(s.Creator.operator("+",n)):n[0],t=(t=t.map(e=>(e.changeGroup=2,r(e)))).length>1?s.Creator.parenthesis(s.Creator.operator("+",t)):t[0];const o=s.Creator.operator("+",[n,t]);return s.Status.nodeChanged(a.COLLECT_LIKE_TERMS,e,o)}module.exports=o;
},{"../fractionsSearch/addConstantAndFraction":82,"../fractionsSearch/addConstantFractions":78,"../arithmeticSearch":23,"../../util/clone":18,"../../ChangeTypes":3,"../../node":20}],84:[function(require,module,exports) {
const e=require("../../checks"),t=require("../../util/clone"),n=require("./evaluateConstantSum"),a=require("../../ChangeTypes"),o=require("../../node");function r(e,t=!1){if(!o.Type.isOperator(e))return o.Status.noChange(e);let a;return!t&&(a=n(e)).hasChanged()?a:(a=s(e)).hasChanged()?a:(a=u(e)).hasChanged()?a:o.Status.noChange(e)}function s(t){return e.canAddLikeTerms.canAddLikeTermPolynomialNodes(t)?g(t,o.PolynomialTerm,a.ADD_POLYNOMIAL_TERMS):o.Status.noChange(t)}function u(t){return e.canAddLikeTerms.canAddLikeTermNthRootNodes(t)?g(t,o.NthRootTerm,a.ADD_NTH_ROOTS):o.Status.noChange(t)}function g(e,n,a){const r=[];let s=t(e),u=h(s,n);return u.hasChanged()&&(r.push(u),s=o.Status.resetChangeGroups(u.newNode)),(u=d(s,n)).hasChanged()&&(r.push(u),s=o.Status.resetChangeGroups(u.newNode)),u=C(s,n),r.push(u),u=c(s=o.Status.resetChangeGroups(u.newNode),n),r.push(u),s=o.Status.resetChangeGroups(u.newNode),o.Status.nodeChanged(a,e,s,!0,r)}function h(e,n){const r=t(e,!1);let s=!1,u=1;return r.args.forEach((t,a)=>{const g=new n(t);1===g.getCoeffValue()&&(r.args[a]=o.Creator.term(g.getBaseNode(),g.getExponentNode(),o.Creator.constant(1),!0),r.args[a].changeGroup=u,e.args[a].changeGroup=u,s=!0,u++)}),s?o.Status.nodeChanged(a.ADD_COEFFICIENT_OF_ONE,e,r,!1):o.Status.noChange(e)}function d(e,n){const r=t(e);let s=!1,u=1;return r.args.forEach((t,a)=>{const g=new n(t);-1===g.getCoeffValue()&&(r.args[a]=o.Creator.term(g.getBaseNode(),g.getExponentNode(),g.getCoeffNode(),!0),e.args[a].changeGroup=u,r.args[a].changeGroup=u,s=!0,u++)}),s?o.Status.nodeChanged(a.UNARY_MINUS_TO_NEGATIVE_ONE,e,r,!1):o.Status.noChange(e)}function C(e,n){let r=t(e);const s=r.args.map(e=>new n(e)),u=s.map(e=>e.getCoeffNode(!0)),g=o.Creator.parenthesis(o.Creator.operator("+",u));g.changeGroup=1;const h=s[0],d=h.getExponentNode(),C=h.getBaseNode();return r=o.Creator.term(C,d,g),o.Status.nodeChanged(a.GROUP_COEFFICIENTS,e,r,!1)}function c(e){const a=t(e).args[0],r=n(a);return o.Status.childChanged(e,r,0)}module.exports=r;
},{"../../checks":15,"../../util/clone":18,"./evaluateConstantSum":135,"../../ChangeTypes":3,"../../node":20}],28:[function(require,module,exports) {
const r=require("../../ChangeTypes"),e=require("../../node"),o=require("../../TreeSearch"),t=o.postOrder(s);function s(o){if(!e.Type.isOperator(o)||"*"!==o.op)return e.Status.noChange(o);const t=o.args.some(r=>e.CustomType.isFraction(r)),s=o.args.some(e.PolynomialTerm.isPolynomialTerm),n=o.args.some(a);if(!t||s&&!n)return e.Status.noChange(o);const i=[],u=[];o.args.forEach(r=>{if(e.CustomType.isFraction(r)){const o=e.CustomType.getFraction(r);i.push(o.args[0]),u.push(o.args[1])}else i.push(r)});const p=e.Creator.parenthesis(e.Creator.operator("*",i)),m=1===u.length?u[0]:e.Creator.parenthesis(e.Creator.operator("*",u)),c=e.Creator.operator("/",[p,m]);return e.Status.nodeChanged(r.MULTIPLY_FRACTIONS,o,c)}function a(r){if(!e.CustomType.isFraction(r))return!1;const o=e.CustomType.getFraction(r).args[1];return e.PolynomialTerm.isPolynomialTerm(o)}module.exports=t;
},{"../../ChangeTypes":3,"../../node":20,"../../TreeSearch":62}],83:[function(require,module,exports) {
const e=require("../arithmeticSearch"),t=require("../../checks"),n=require("../../util/clone"),r=require("./ConstantOrConstantPower"),a=require("../multiplyFractionsSearch"),o=require("../../ChangeTypes"),s=require("../../node"),u=require("../functionsSearch/nthRoot");function g(n,r=!1){if(!s.Type.isOperator(n))return s.Status.noChange(n);let u;if(!r&&!t.canMultiplyLikeTermConstantNodes(n)){if((u=e(n)).hasChanged())return u.changeType=o.MULTIPLY_COEFFICIENTS,u;if((u=a(n)).hasChanged())return u.changeType=o.MULTIPLY_COEFFICIENTS,u}return(u=h(n)).hasChanged()?(u.changeType=o.MULTIPLY_COEFFICIENTS,u):(u=C(n)).hasChanged()?u:s.Status.noChange(n)}function C(e){if(!t.canMultiplyLikeTermsNthRoots(e))return s.Status.noChange(e);let r=n(e);const a=e.args.map(e=>u.getRadicandNode(e)),g=s.Creator.operator("*",a),C=e.args[0],h=u.getRootNode(C);return r=s.Creator.nthRoot(g,h),s.Status.nodeChanged(o.MULTIPLY_NTH_ROOTS,e,r,!1)}function h(r){if(!t.canMultiplyLikeTermPolynomialNodes(r)&&!t.canMultiplyLikeTermConstantNodes(r))return s.Status.noChange(r);const a=[];let u=n(r),g=i(u);g.hasChanged()&&(a.push(g),u=s.Status.resetChangeGroups(g.newNode)),g=t.canMultiplyLikeTermConstantNodes(r)?c(u):p(u),a.push(g);const C=(u=s.Status.resetChangeGroups(g.newNode)).args[1].content,h=e(C);return h.hasChanged()&&(g=s.Status.childChanged(u,h,1),a.push(g),u=s.Status.resetChangeGroups(g.newNode)),1===a.length?a[0]:s.Status.nodeChanged(o.MULTIPLY_POLYNOMIAL_TERMS,r,u,!0,a)}function i(e){const a=n(e);let u=!1,g=1;return t.canMultiplyLikeTermConstantNodes(e)?a.args.forEach((t,n)=>{if(s.Type.isConstant(t)){const o=r.getBaseNode(t),C=s.Creator.constant(1);a.args[n]=s.Creator.operator("^",[o,C]),a.args[n].changeGroup=g,e.args[n].changeGroup=g,u=!0,g++}}):a.args.forEach((t,n)=>{const r=new s.PolynomialTerm(t);r.getExponentNode()||(a.args[n]=s.Creator.polynomialTerm(r.getSymbolNode(),s.Creator.constant(1),r.getCoeffNode()),a.args[n].changeGroup=g,e.args[n].changeGroup=g,u=!0,g++)}),u?s.Status.nodeChanged(o.ADD_EXPONENT_OF_ONE,e,a,!1):s.Status.noChange(e)}function c(e){const t=r.getBaseNode(e.args[0]),n=e.args.map(r.getExponentNode),a=s.Creator.parenthesis(s.Creator.operator("+",n)),u=s.Creator.operator("^",[t,a]);return s.Status.nodeChanged(o.COLLECT_CONSTANT_EXPONENTS,e,u)}function p(e){const t=e.args.map(e=>new s.PolynomialTerm(e)),n=t[0].getSymbolNode(),r=t.map(e=>e.getExponentNode(!0)),a=s.Creator.parenthesis(s.Creator.operator("+",r)),u=s.Creator.polynomialTerm(n,a,null);return s.Status.nodeChanged(o.COLLECT_POLYNOMIAL_EXPONENTS,e,u)}module.exports=g;
},{"../arithmeticSearch":23,"../../checks":15,"../../util/clone":18,"./ConstantOrConstantPower":131,"../multiplyFractionsSearch":28,"../../ChangeTypes":3,"../../node":20,"../functionsSearch/nthRoot":76}],26:[function(require,module,exports) {
const e=require("./addLikeTerms"),t=require("../../checks"),n=require("../../util/clone"),r=require("./multiplyLikeTerms"),s=require("../../ChangeTypes"),o=require("./LikeTermCollector"),u=require("../../node"),i=require("../../TreeSearch"),a={"+":e,"*":r},c=i.postOrder(h);function h(n){if("+"===n.op){const t=l(n);return t.hasChanged()?t:e(n,!0)}if("*"===n.op){if(t.canMultiplyLikeTermConstantNodes(n))return r(n,!0);const e=l(n);return e.hasChanged()?(e.newNode.implicit=!0,e):r(n,!0)}return u.Status.noChange(n)}function l(e){let t=[];const r=o.collectLikeTerms(n(e));if(!r.hasChanged())return r;t.push(r);let i=u.Status.resetChangeGroups(r.newNode);const a=d(i);if(a.length>0){t=t.concat(a);const e=a[a.length-1];i=u.Status.resetChangeGroups(e.newNode)}return u.Status.nodeChanged(s.COLLECT_AND_COMBINE_LIKE_TERMS,e,i,!0,t)}function d(e){const t=[];let r=n(e);for(let n=0;n<e.args.length;n++){let s=e.args[n];if(!u.Type.isParenthesis(s))continue;s=s.content;const o=n[r.op](s);if(o.hasChanged()){const e=u.Status.childChanged(r,o,n);t.push(e),r=u.Status.resetChangeGroups(e.newNode)}}return t}module.exports=c;
},{"./addLikeTerms":84,"../../checks":15,"../../util/clone":18,"./multiplyLikeTerms":83,"../../ChangeTypes":3,"./LikeTermCollector":44,"../../node":20,"../../TreeSearch":62}],24:[function(require,module,exports) {
const e=require("../arithmeticSearch"),r=require("../../util/clone"),t=require("../collectAndCombineSearch"),n=require("../basicsSearch/rearrangeCoefficient"),a=require("../../ChangeTypes"),s=require("../../Negative"),o=require("../../node"),u=require("../../TreeSearch"),h=u.postOrder(i);function i(e){return o.Type.isUnaryMinus(e)?p(e):o.Type.isOperator(e,"*")?c(e):o.Type.isOperator(e,"^")?g(e):o.Status.noChange(e)}function g(e){if(!o.Type.isOperator(e,"^"))return o.Status.noChange(e);const r=o.Type.isParenthesis(e.args[0])?e.args[0].content:e.args[0],t=o.Type.isParenthesis(e.args[1])?e.args[1].content:e.args[1],n=parseFloat(t.value);if(!(Number.isInteger(n)&&n>1))return o.Status.noChange(e);if(!o.Type.isFunction(r,"nthRoot")&&!o.Type.isOperator(r,"+"))return o.Status.noChange(e);const s=o.Type.isFunction(r,"nthRoot")?r:e.args[0],u=o.Creator.operator("*",Array(parseFloat(t.value)).fill(s));return o.Status.nodeChanged(a.EXPAND_EXPONENT,e,u,!1)}function p(e){if(!o.Type.isUnaryMinus(e))return o.Status.noChange(e);const t=e.args[0];if(!o.Type.isParenthesis(t))return o.Status.noChange(e);const n=t.content;if(!o.Type.isOperator(n))return o.Status.noChange(e);const u=r(n);if(e.changeGroup=1,"*"===n.op||"/"===n.op){u.args[0]=s.negate(u.args[0]),u.args[0].changeGroup=1;const r=o.Creator.parenthesis(u);return o.Status.nodeChanged(a.DISTRIBUTE_NEGATIVE_ONE,e,r,!1)}if("+"===n.op){const r=u.args.map(e=>{const r=s.negate(e);return r.changeGroup=1,r});u.args=r;const t=o.Creator.parenthesis(u);return o.Status.nodeChanged(a.DISTRIBUTE_NEGATIVE_ONE,e,t,!1)}return o.Status.noChange(e)}function c(e){if(!o.Type.isOperator(e)||"*"!==e.op)return o.Status.noChange(e);for(let t=0;t+1<e.args.length;t++){if(!T(e.args[t])&&!T(e.args[t+1]))continue;let n=r(e);const s=[];let u;const h=C(n.args[t],n.args[t+1]);if(e.args[t].changeGroup=1,e.args[t+1].changeGroup=1,h.changeGroup=1,n.args.length>2?(n.args.splice(t,2,h),n.args[t].changeGroup=1):(n=h).changeGroup=1,u=o.Status.nodeChanged(a.DISTRIBUTE,e,n,!1),s.push(u),n=o.Status.resetChangeGroups(u.newNode),o.Type.isOperator(n,"*")){const e=d(n.args[t]);e.hasChanged()&&(u=o.Status.childChanged(n,e,t),s.push(u),n=o.Status.resetChangeGroups(u.newNode))}else{if(!o.Type.isParenthesis(n))throw Error("Unsupported node type for distribution: "+e);(u=d(n)).hasChanged()&&(s.push(u),n=o.Status.resetChangeGroups(u.newNode))}return 1===s.length?s[0]:o.Status.nodeChanged(a.DISTRIBUTE,e,n,!1,s)}return o.Status.noChange(e)}function C(e,r){let t,n;const a=[];if(1===[t=T(e)?e.content.args:[e],n=T(r)?r.content.args:[r]].filter(f).length){const s=f(t),u=s?r:e;(s?t:n).forEach(e=>{let r;if(l(e)){let t=o.Creator.operator("*",[e.args[0],u]);t=o.Creator.parenthesis(t),r=o.Creator.operator("/",[t,e.args[1]])}else r=o.Creator.operator("*",[e,u]);r.changeGroup=1,a.push(r)})}else t.length>1&&n.length>1?t.forEach(e=>{const t=o.Creator.operator("*",[e,r]);t.changeGroup=1,a.push(t)}):t.forEach(e=>{n.forEach(r=>{const t=o.Creator.operator("*",[e,r]);t.changeGroup=1,a.push(t)})});return o.Creator.parenthesis(o.Creator.operator("+",a))}function f(e){return e.filter(l).length>0}function l(e){return o.Type.isOperator(e,"/")}function d(e){if(!o.Type.isParenthesis(e))throw Error("expected "+e+" to be a parenthesis node");const r=S(e.content);return r.hasChanged()?o.Status.childChanged(e,r):o.Status.noChange(e)}function S(s){const u=[],h=[e,n,t,c];let i=r(s);for(let e=0;e<i.args.length;e++)for(let r=0;r<h.length;r++){const t=h[r](i.args[e]);if(t.hasChanged()){const r=o.Status.childChanged(i,t,e);u.push(r),i=o.Status.resetChangeGroups(r.newNode)}}return 0===u.length?o.Status.noChange(s):o.Status.nodeChanged(a.SIMPLIFY_TERMS,s,i,!1,u)}function T(e){if(!o.Type.isParenthesis(e))return!1;const r=e.content;return o.Type.isOperator(r,"+")}module.exports=h;
},{"../arithmeticSearch":23,"../../util/clone":18,"../collectAndCombineSearch":26,"../basicsSearch/rearrangeCoefficient":64,"../../ChangeTypes":3,"../../Negative":36,"../../node":20,"../../TreeSearch":62}],27:[function(require,module,exports) {
const r=require("../../ChangeTypes"),e=require("../../node"),t=require("../../TreeSearch"),n=t.preOrder(o);function o(r){if(!e.Type.isOperator(r)||"/"!==r.op)return e.Status.noChange(r);let t=a(r);return t.hasChanged()?t:(t=s(r)).hasChanged()?t:e.Status.noChange(r)}function a(t){let n=t.args[1];if(e.Type.isParenthesis(n)&&(n=n.content),!e.Type.isOperator(n)||"/"!==n.op)return e.Status.noChange(t);const o=n.args[1],a=n.args[0],s=e.Creator.operator("/",[o,a]),u=e.Creator.operator("*",[t.args[0],s]);return e.Status.nodeChanged(r.MULTIPLY_BY_INVERSE,t,u)}function s(t){const n=u(t);if(n.length>2){const o=n.shift(),a=e.Creator.parenthesis(e.Creator.operator("*",n)),s=e.Creator.operator("/",[o,a]);return e.Status.nodeChanged(r.SIMPLIFY_DIVISION,t,s)}return e.Status.noChange(t)}function u(r){let e=r;const t=[];for(;"/"===e.op;)t.unshift(e.args[1]),e=e.args[0];return t.unshift(e),t}module.exports=n;
},{"../../ChangeTypes":3,"../../node":20,"../../TreeSearch":62}],79:[function(require,module,exports) {
const e=require("../../util/clone"),n=require("./divideByGCD"),r=require("../../util/print"),t=require("../../ChangeTypes"),o=require("../../Negative"),a=require("../../node");class s{constructor(e,n,r=!1){this.numerator=e,this.denominator=n,this.hasChanged=r}}function i(n){if(!a.Type.isOperator(n)||"/"!==n.op)return a.Status.noChange(n);let r=e(n);const o=r.args[0],s=r.args[1];if(l(o)||l(s)){if(l(o)&&!l(s)){const e=a.Type.isParenthesis(o)?o.content.args:o.args;for(let o=0;o<e.length;o++){const i=o(e[o],s);if(i.hasChanged)return i.numerator?e[o]=i.numerator:(e.splice(o,1),1===e.length&&(r.args[0]=e[0])),i.denominator?r.args[1]=i.denominator:r=r.args[0],a.Status.nodeChanged(t.CANCEL_TERMS,n,r)}return a.Status.noChange(n)}if(l(s)&&!l(o)){const e=a.Type.isParenthesis(s)?s.content.args:s.args;for(let s=0;s<e.length;s++){const i=s(o,e[s]);if(i.hasChanged)return r.args[0]=i.numerator||a.Creator.constant(1),i.denominator?e[s]=i.denominator:(e.splice(s,1),1===e.length&&(r.args[1]=e[0])),a.Status.nodeChanged(t.CANCEL_TERMS,n,r)}return a.Status.noChange(n)}{const e=a.Type.isParenthesis(o)?o.content.args:o.args,i=a.Type.isParenthesis(s)?s.content.args:s.args;for(let o=0;o<e.length;o++)for(let s=0;s<i.length;s++){const g=o(e[o],i[s]);if(g.hasChanged)return g.numerator?e[o]=g.numerator:(e.splice(o,1),1===e.length&&(r.args[0]=e[0])),g.denominator?i[s]=g.denominator:(i.splice(s,1),1===i.length&&(r.args[1]=i[0])),a.Status.nodeChanged(t.CANCEL_TERMS,n,r)}return a.Status.noChange(n)}}{const e=g(o,s);return e.hasChanged?(r.args[0]=e.numerator||a.Creator.constant(1),e.denominator?r.args[1]=e.denominator:r=r.args[0],a.Status.nodeChanged(t.CANCEL_TERMS,n,r)):a.Status.noChange(n)}}function g(t,i){if(a.Type.isUnaryMinus(t)){const e=g(t.args[0],i);return e.numerator?o.isNegative(e.numerator)?t=o.negate(e.numerator):t.args[0]=e.numerator:t=a.Creator.constant(-1),i=g.denominator,new s(t,i,e.hasChanged)}if(a.Type.isUnaryMinus(i)){const e=g(t,i.args[0]);return t=e.numerator,e.denominator?i.args[0]=e.denominator:(i=e.denominator,t=t?o.negate(t):a.Creator.constant(-1)),new s(t,i,e.hasChanged)}if(a.Type.isParenthesis(t)){const e=g(t.content,i);return e.numerator?t.content=e.numerator:t=e.numerator,i=e.denominator,new s(t,i,e.hasChanged)}if(a.Type.isParenthesis(i)){const e=g(t,i.content);return e.denominator?i.content=e.denominator:i=e.denominator,t=e.numerator,new s(t,i,e.hasChanged)}if(r.ascii(t)===r.ascii(i))return new s(null,null,!0);if(a.Type.isOperator(t,"^")&&a.Type.isOperator(i,"^")&&r.ascii(t.args[0])===r.ascii(i.args[0])){const e=t.args[1];let n=i.args[1];n=a.Creator.parenthesis(n);const r=a.Creator.parenthesis(a.Creator.operator("-",[e,n]));return t.args[1]=r,new s(t,null,!0)}if(a.PolynomialTerm.isPolynomialTerm(t)&&a.PolynomialTerm.isPolynomialTerm(i)){const e=new a.PolynomialTerm(t),n=new a.PolynomialTerm(i);if(e.getSymbolName()!==n.getSymbolName())return new s(t,i);const o=e.getExponentNode(!0);let g=n.getExponentNode(!0);if(r.ascii(o)===r.ascii(g))t=e.getCoeffNode();else{g=a.Creator.parenthesis(g);const n=a.Creator.parenthesis(a.Creator.operator("-",[o,g]));t=a.Creator.polynomialTerm(e.getSymbolNode(),n,e.getCoeffNode())}return i=n.getCoeffNode(),new s(t,i,!0)}if(a.Type.isConstant(t)&&a.Type.isOperator(i,"*")&&a.PolynomialTerm.isPolynomialTerm(i)){const r=new a.PolynomialTerm(i),o=r.getCoeffNode(),g=r.getSymbolNode(),l=r.getExponentNode(),m=a.Creator.operator("/",[t,o]);let u=e(o);const d=n(m);return d.hasChanged()?(a.Type.isConstant(d.newNode)?(t=d.newNode,u=null):[t,u]=d.newNode.args,i=a.Creator.polynomialTerm(g,l,u),new s(t,i,!0)):new s(t,i,!1)}if(a.Type.isConstant(t)&&a.Type.isConstant(i)){const e=a.Creator.operator("/",[t,i]),r=n(e);return r.hasChanged()?a.Type.isConstant(r.newNode)?new s(r.newNode,null,!0):(a.Type.isConstant(r.newNode)?(t=r.newNode,i=null):[t,i]=r.newNode.args,new s(t,i,!0)):new s(t,i,!1)}return new s(t,i)}function l(e){return a.Type.isParenthesis(e)?l(e.content):a.Type.isOperator(e,"*")&&!a.PolynomialTerm.isPolynomialTerm(e)}module.exports=i;
},{"../../util/clone":18,"./divideByGCD":77,"../../util/print":19,"../../ChangeTypes":3,"../../Negative":36,"../../node":20}],81:[function(require,module,exports) {
const e=require("../../util/clone"),t=require("../../ChangeTypes"),r=require("../../Negative"),n=require("../../node");function a(a){if(!n.Type.isOperator(a)||"/"!==a.op)return n.Status.noChange(a);const o=e(a);let i=a.args[0],s=a.args[1];if(r.isNegative(s)){s=r.negate(s);const e=r.isNegative(i)?t.CANCEL_MINUSES:t.SIMPLIFY_SIGNS;i=r.negate(i);const a=n.Creator.operator("/",[i,s]);return n.Status.nodeChanged(e,o,a)}return n.Status.noChange(a)}module.exports=a;
},{"../../util/clone":18,"../../ChangeTypes":3,"../../Negative":36,"../../node":20}],80:[function(require,module,exports) {
const e=require("../arithmeticSearch"),n=require("../../util/clone"),o=require("./divideByGCD"),t=require("../../node");function r(r){if(!t.PolynomialTerm.isPolynomialTerm(r))return t.Status.noChange(r);const a=new t.PolynomialTerm(n(r));if(!a.hasFractionCoeff())return t.Status.noChange(r);const i=[o,e];for(let e=0;e<i.length;e++){const n=a.getCoeffNode(),o=i[e](n);if(o.hasChanged()){let e=t.Status.resetChangeGroups(o.newNode);"1"===e.value&&(e=null);const n=a.getExponentNode(),i=t.Creator.polynomialTerm(a.getSymbolNode(),n,e);return t.Status.nodeChanged(o.changeType,r,i)}}return t.Status.noChange(r)}module.exports=r;
},{"../arithmeticSearch":23,"../../util/clone":18,"./divideByGCD":77,"../../node":20}],29:[function(require,module,exports) {
const e=require("./addConstantAndFraction"),r=require("./addConstantFractions"),n=require("./cancelLikeTerms"),i=require("./divideByGCD"),t=require("./simplifyFractionSigns"),o=require("./simplifyPolynomialFraction"),a=require("../../node"),u=require("../../TreeSearch"),d=[r,e,t,i,o,n],s=u.preOrder(c);function c(e){for(let r=0;r<r.length;r++){const n=r[r](e);if(n.hasChanged())return n;e=n.newNode}return a.Status.noChange(e)}module.exports=s;
},{"./addConstantAndFraction":82,"./addConstantFractions":78,"./cancelLikeTerms":79,"./divideByGCD":77,"./simplifyFractionSigns":81,"./simplifyPolynomialFraction":80,"../../node":20,"../../TreeSearch":62}],75:[function(require,module,exports) {
const t=require("../../util/clone"),e=require("mathjs"),n=require("../../ChangeTypes"),r=require("../../util/evaluate"),a=require("../../node");function s(s){if(!a.Type.isFunction(s,"abs"))return a.Status.noChange(s);if(s.args.length>1)return a.Status.noChange(s);let o=t(s);const u=o.args[0];if(a.Type.isConstant(u,!0))return o=a.Creator.constant(e.abs(r(u))),a.Status.nodeChanged(n.ABSOLUTE_VALUE,s,o);if(a.Type.isConstantFraction(u,!0)){const t=a.Creator.constant(e.abs(r(u.args[0]))),i=a.Creator.constant(e.abs(r(u.args[1])));return o=a.Creator.operator("/",[t,i]),a.Status.nodeChanged(n.ABSOLUTE_VALUE,s,o)}return a.Status.noChange(s)}module.exports=s;
},{"../../util/clone":18,"mathjs":8,"../../ChangeTypes":3,"../../util/evaluate":33,"../../node":20}],25:[function(require,module,exports) {
const e=require("./absoluteValue"),r=require("../../node"),t=require("./nthRoot"),n=require("../../TreeSearch"),o=[t.nthRoot,e],u=n.postOrder(a);function a(e){if(!r.Type.isFunction(e))return r.Status.noChange(e);for(let r=0;r<o.length;r++){const t=o[r](e);if(t.hasChanged())return t}return r.Status.noChange(e)}module.exports=u;
},{"./absoluteValue":75,"../../node":20,"./nthRoot":76,"../../TreeSearch":62}],9:[function(require,module,exports) {
const e=require("../checks"),r=require("../node"),t=require("../node/Status"),n=require("./arithmeticSearch"),u=require("./basicsSearch"),i=require("./breakUpNumeratorSearch"),s=require("./collectAndCombineSearch"),o=require("./distributeSearch"),a=require("./divisionSearch"),c=require("./fractionsSearch"),h=require("./functionsSearch"),d=require("./multiplyFractionsSearch"),l=require("../util/clone"),q=require("../util/flattenOperands"),p=require("../util/print"),f=require("../util/removeUnnecessaryParens");function S(r,n=!1){if(e.hasUnsupportedNodes(r))return[];let u;const i=[];p.ascii(r);let s=0;for(u=N(r);u.hasChanged();)if(n&&g(u),i.push(b(u)),u=N(r=t.resetChangeGroups(u.newNode)),20==s++)return[];return i}function N(e){let t;e=q(e),e=f(e,!0);const p=[u,a,c,s,n,i,d,o,h];for(let r=0;r<p.length;r++){if(t=p[r](e),e=f(t.newNode,!0),t.hasChanged())return e=q(e),t.newNode=l(e),t;e=q(e)}return r.Status.noChange(e)}function b(e){return e.substeps.length>0&&e.substeps.map(b),e.oldNode=f(e.oldNode,!0),e.newNode=f(e.newNode,!0),e}function g(e){e.substeps.length>0&&e.substeps.forEach(e=>e)}module.exports=S;
},{"../checks":15,"../node":20,"../node/Status":17,"./arithmeticSearch":23,"./basicsSearch":21,"./breakUpNumeratorSearch":22,"./collectAndCombineSearch":26,"./distributeSearch":24,"./divisionSearch":27,"./fractionsSearch":29,"./functionsSearch":25,"./multiplyFractionsSearch":28,"../util/clone":18,"../util/flattenOperands":12,"../util/print":19,"../util/removeUnnecessaryParens":13}],31:[function(require,module,exports) {
const t=require("mathjs"),r=require("../util/clone"),e=require("../util/print");class o{constructor(t,r,e){this.leftNode=t,this.rightNode=r,this.comparator=e}ascii(t=!1){const r=e.ascii(this.leftNode,t),o=e.ascii(this.rightNode,t);return`${r} ${this.comparator} ${o}`}latex(t=!1){const r=e.latex(this.leftNode,t),o=e.latex(this.rightNode,t);return`${r} ${this.comparator} ${o}`}clone(){const t=r(this.leftNode),e=r(this.rightNode);return new o(t,e,this.comparator)}}o.createEquationFromString=function(r,e){const i=r.split(e);if(2!==i.length)throw Error("Expected two sides of an equation using comparator: "+e);const s=t.parse(i[0]),a=t.parse(i[1]);return new o(s,a,e)},module.exports=o;
},{"mathjs":8,"../util/clone":18,"../util/print":19}],32:[function(require,module,exports) {
const e=require("../ChangeTypes"),t=require("./Equation"),n=require("../node");class o{constructor(e,t,n,o=[]){if(!n)throw Error("new equation isn't defined");if(void 0===e||"string"!=typeof e)throw Error("changetype isn't valid");this.changeType=e,this.oldEquation=t,this.newEquation=n,this.substeps=o}hasChanged(){return this.changeType!==e.NO_CHANGE}}o.noChange=function(t){return new o(e.NO_CHANGE,null,t)},o.addLeftStep=function(e,t){const n=[];t.substeps.forEach(t=>{n.push(o.addLeftStep(e,t))});let r=null;t.oldNode&&((r=e.clone()).leftNode=t.oldNode);const s=e.clone();return s.leftNode=t.newNode,new o(t.changeType,r,s,n)},o.addRightStep=function(e,t){const n=[];t.substeps.forEach(t=>{n.push(o.addRightStep(e,t))});let r=null;t.oldNode&&((r=e.clone()).rightNode=t.oldNode);const s=e.clone();return s.rightNode=t.newNode,new o(t.changeType,r,s,n)},o.resetChangeGroups=function(e){const o=n.Status.resetChangeGroups(e.leftNode),r=n.Status.resetChangeGroups(e.rightNode);return new t(o,r,e.comparator)},module.exports=o;
},{"../ChangeTypes":3,"./Equation":31,"../node":20}],34:[function(require,module,exports) {
const e=require("../ChangeTypes"),r=require("../util/clone"),o=require("../equation/Equation"),t=require("../equation/Status"),n=require("../Negative"),i=require("../node"),a=require("../Symbols"),s={">":"<",">=":"<=","<":">","<=":">=","=":"="},S={};function T(e,i,a,S){const T=e.clone(),p=r(a),u=r(a),l=_(e.leftNode,i,p),g=_(e.rightNode,i,u);let m=e.comparator;!n.isNegative(a)||"*"!==i&&"/"!==i||(m=s[m]);const O=new o(l,g,m);return new t(S,T,O)}function _(e,r,o){const t=i.Type.isOperator(e)?i.Creator.parenthesis(e):e;return o.changeGroup=1,i.Creator.operator(r,[t,o])}S.ensureSymbolInLeftNode=function(r,n){const i=a.getLastSymbolTerm(r.leftNode,n),S=a.getLastSymbolTerm(r.rightNode,n);if(!i){if(S){const n=s[r.comparator],i=r,a=new o(r.rightNode,r.leftNode,n);return new t(e.SWAP_SIDES,i,a)}throw Error("No term with symbol: "+n)}return t.noChange(r)},S.removeSymbolFromDenominator=function(r,o){if("="!==r.comparator)return t.noChange(r);const n=r.leftNode,i=a.getLastDenominatorWithSymbolTerm(n,o);return i?T(r,"*",i,e.MULTIPLY_TO_BOTH_SIDES):t.noChange(r)},S.removeSymbolFromRightSide=function(o,s){const S=o.rightNode;let _,p,u,l=a.getLastSymbolTerm(S,s);if(!l)return t.noChange(o);if(l=r(l),i.PolynomialTerm.isPolynomialTerm(S))n.isNegative(l)?(_="+",u=e.ADD_TO_BOTH_SIDES,p=n.negate(l)):(_="-",u=e.SUBTRACT_FROM_BOTH_SIDES,p=l);else if(i.Type.isOperator(S)){if("+"!==S.op)throw Error("Unsupported operation: "+l.op);n.isNegative(l)?(_="+",u=e.ADD_TO_BOTH_SIDES,p=n.negate(l)):(_="-",u=e.SUBTRACT_FROM_BOTH_SIDES,p=l)}else{if(!i.Type.isUnaryMinus(S))throw Error("Unsupported node type: "+S.type);_="+",u=e.ADD_TO_BOTH_SIDES,p=l.args[0]}return T(o,_,p,u)},S.isolateSymbolOnLeftSide=function(o,s){const S=o.leftNode;let _,p,u,l=a.getLastNonSymbolTerm(S,s);if(!l)return t.noChange(o);if(l=r(l),i.Type.isOperator(S))if("+"===S.op)n.isNegative(l)?(_="+",u=e.ADD_TO_BOTH_SIDES,p=n.negate(l)):(_="-",u=e.SUBTRACT_FROM_BOTH_SIDES,p=l);else if("*"===S.op)i.Type.isConstantFraction(l)?(_="*",u=e.MULTIPLY_BOTH_SIDES_BY_INVERSE_FRACTION,p=i.Creator.operator("/",[l.args[1],l.args[0]])):(_="/",u=e.DIVIDE_FROM_BOTH_SIDES,p=l);else{if("/"!==S.op){if("^"===S.op)return t.noChange(o);throw Error("Unsupported operation: "+S.op)}-1!==["1","-1"].indexOf(l.args[0].value)?(_="*",u=e.MULTIPLY_TO_BOTH_SIDES,p=l.args[1]):(_="*",u=e.MULTIPLY_BOTH_SIDES_BY_INVERSE_FRACTION,p=i.Creator.operator("/",[l.args[1],l.args[0]]))}else{if(!i.Type.isUnaryMinus(S))throw Error("Unsupported node type: "+S.type);_="*",u=e.MULTIPLY_BOTH_SIDES_BY_NEGATIVE_ONE,p=i.Creator.constant(-1)}return T(o,_,p,u)},module.exports=S;
},{"../ChangeTypes":3,"../util/clone":18,"../equation/Equation":31,"../equation/Status":32,"../Negative":36,"../node":20,"../Symbols":30}],10:[function(require,module,exports) {
const e=require("../ChangeTypes"),t=require("../checks"),n=require("../equation/Equation"),o=require("./EquationOperations"),r=require("../equation/Status"),s=require("../util/evaluate"),i=require("../factor/stepThrough"),a=require("../util/flattenOperands"),u=require("../node"),l=require("../util/removeUnnecessaryParens"),h=require("../simplifyExpression/stepThrough"),c=require("../Symbols"),f={"=":function(e,t){return e===t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t}};function g(e,o,s,i=!1){let u=new n(e,o,s);if(t.hasUnsupportedNodes(u.leftNode)||t.hasUnsupportedNodes(u.rightNode))return[];const h=c.getSymbolsInEquation(u);if(0===h.size)return N(u,i);const f=h.values().next().value;let g,p=[];const S=u.ascii();let w=0;if(u.leftNode=l(u.leftNode),u.rightNode=l(u.rightNode),t.canFindRoots(u))return p.push(d(u)),p;do{if((p=q(p,u,i)).length>0){const e=p[p.length-1];u=n.createEquationFromString(e.newEquation.ascii(),u.comparator)}if(u.leftNode=a(u.leftNode),u.rightNode=a(u.rightNode),0===c.getSymbolsInEquation(u).size)return N(u,i,p);if(t.canFindRoots(u))return p.push(d(u)),p;try{g=E(u,f)}catch(e){if(e.message.startsWith("No term with symbol: "))return[];throw e}if(g.hasChanged()){if(g.newEquation.ascii().length>300)throw Error("Math error: Potential infinite loop for equation "+S+". It reached over 300 characters  long, so returning no steps");i&&m(g),p.push(g)}if(u=r.resetChangeGroups(g.newEquation),20==w++)return[]}while(g.hasChanged());return p}function d(t){const[o,s]=p(t);let i;if(o.length>1){const e=[];o.forEach(t=>t.items?e.push(...t.items):e.push(t)),i=u.Creator.list(e)}else i=1===o.length?o[0]:u.Creator.list([]);const a=new n(s,i,"=");return new r(e.FIND_ROOTS,t,a)}function p(e){const n=e.leftNode,o=[];let r,s,i;i=u.Type.isOperator(n,"^")&&!t.resolvesToConstant(n)?[n]:e.leftNode.args.filter(e=>!t.resolvesToConstant(e));for(var a in i){let t=i[a],n=1;u.Type.isOperator(t,"^")&&(n=parseFloat(t.args[1].value),t=t.args[0]);const l=u.Type.isParenthesis(t)?t.content:t;if(0===(s=g(l,e.rightNode,"=")).length&&u.Type.isSymbol(l))r=l,o.push(...Array(n).fill(e.rightNode));else if(0!==s.length){const e=s.slice(-1)[0];u.Type.isSymbol(e.newEquation.leftNode)&&(r=e.newEquation.leftNode,o.push(...Array(n).fill(e.newEquation.rightNode)))}}return[o,r]}function N(t,o,i=[]){const a=f[t.comparator];if(!a)throw Error("Unexpected comparator");if((i=q(i,t,!0,o)).length>0){const e=i[i.length-1];t=n.createEquationFromString(e.newEquation.ascii(),t.comparator)}if(t.leftNode=l(t.leftNode),t.rightNode=l(t.rightNode),!u.Type.isConstantOrConstantFraction(t.leftNode,!0)||!u.Type.isConstantOrConstantFraction(t.rightNode,!0))throw Error("Expected both nodes to be constants, instead got: "+t.ascii());let h;h=a(s(t.leftNode),s(t.rightNode))?e.STATEMENT_IS_TRUE:e.STATEMENT_IS_FALSE;const c=new r(h,null,t);return o&&m(c),i.push(c),i}function E(e,t){const n=[o.ensureSymbolInLeftNode,o.removeSymbolFromDenominator,o.removeSymbolFromRightSide,o.isolateSymbolOnLeftSide];for(let o=0;o<n.length;o++){const r=n[o](e,t);if(r.hasChanged())return r}return r.noChange(e)}function q(t,n,o=!1){let s=n.clone();const a=h(n.leftNode,!1),u=0!==a.length?a.slice(-1)[0].newNode:n.leftNode,l=i(u,!1),c=[];for(let e=0;e<a.length;e++){const t=a[e];c.push(r.addLeftStep(n,t))}for(let e=0;e<l.length;e++){const t=l[e];c.push(r.addLeftStep(n,t))}if(1===c.length){const e=c[0];o&&m(e),t.push(e)}else if(c.length>1){const n=c[c.length-1],i=r.resetChangeGroups(n.newEquation),a=new r(e.SIMPLIFY_LEFT_SIDE,s,i,c);o&&m(a),t.push(a)}t.length>0&&(n=r.resetChangeGroups(t[t.length-1].newEquation)),s=n.clone();const f=h(n.rightNode,!1),g=[];for(let e=0;e<f.length;e++){const t=f[e];g.push(r.addRightStep(n,t))}if(1===g.length){const e=g[0];o&&m(e),t.push(e)}else if(g.length>1){const n=g[g.length-1],i=r.resetChangeGroups(n.newEquation),a=new r(e.SIMPLIFY_RIGHT_SIDE,s,i,g);o&&m(a),t.push(a)}return t}function m(e){e.substeps.length>0&&e.substeps.forEach(m)}module.exports=g;
},{"../ChangeTypes":3,"../checks":15,"../equation/Equation":31,"./EquationOperations":34,"../equation/Status":32,"../util/evaluate":33,"../factor/stepThrough":7,"../util/flattenOperands":12,"../node":20,"../util/removeUnnecessaryParens":13,"../simplifyExpression/stepThrough":9,"../Symbols":30}],6:[function(require,module,exports) {
const t=require("mathjs"),r=require("./stepThrough");function e(e,n=!1){const i=["<=",">=","=","<",">"];for(let o=0;o<i.length;o++){const s=i[o],u=e.split(s);if(2!==u.length)continue;let c,h;const l=u[0].trim(),f=u[1].trim();if(!l||!f)return[];try{c=t.parse(l),h=t.parse(f)}catch(t){return[]}if(c&&h)return r(c,h,s,n)}return[]}module.exports=e;
},{"mathjs":8,"./stepThrough":10}],2:[function(require,module,exports) {
const e=require("./lib/ChangeTypes"),i=require("./lib/factor"),r=require("./lib/simplifyExpression"),s=require("./lib/solveEquation");module.exports={factor:i,simplifyExpression:r,solveEquation:s,ChangeTypes:e};
},{"./lib/ChangeTypes":3,"./lib/factor":4,"./lib/simplifyExpression":4,"./lib/solveEquation":6}],1:[function(require,module,exports) {
const s=require("mathsteps");window.simplifySteps=s.simplifyExpression;
},{"mathsteps":2}]},{},[1])