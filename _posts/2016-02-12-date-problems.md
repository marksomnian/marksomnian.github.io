---
layout: post
title: "How computers store time, the year 2038 problem, and how to brick an iPhone."
date: 2016-02-15 12:00:00
categories: 
  - tech
  - informs
published: true
---


How do you think of a date and a time? You most probably think of it as a year, month, day, hour, minute, and second. Computers don’t do it that way. That’s far too complicated. No, computers store the time as the number of seconds since midnight, the 1st January 1970, GMT . Remember that GMT bit, it will be important later.

For example, as I record this, the time is one billion, four hundred fifty-five million, two hundred eighty-five thousand, six hundred eighty-four. Sounds complicated, but it really isn’t. I think you all know that there are 60 seconds in a minute, right? Well, if you divide that number by sixty, you get the number of minutes since 1st January 1970. Next, sixty minutes in an hour, sixty seconds in a minute, sixty times sixty is 3600, dividing the time by 3600 gives you the number of hours, and so on, and so forth.2 I hope you can see that this way of storing the date and time takes up much less space than the old fashioned way. Instead of storing six numbers, you only have to store one.

However, clever viewers may have identified a problem. What is the maximum for this number? Well, as it turns out, two billion, one hundred and forty-seven million, four hundred and eighty-three thousand, six hundred and forty-seven. This is the maximum value what we in the computer science field call a “32-bit signed integer”. (For any of you mathy types out there, the reason this is called a 32-bit signed integer is that it is 31 bits long (plus one bit for whether it is negative), and that number is two to the power of 31.) This was chosen simply because back in the 1970s nobody thought they needed a bigger number. It could have been set to a “64-bit signed integer”, which has a maximum value of nine quadrillion. However, this doubles the amount of space the value takes up, and space was a precious commodity back then.

However, there is a problem. What if this time value reaches the maximum? And when? Well, the “when” question is simple: at 3:14:08 AM GMT on 19 January 2038. What will happen ad that point is that the value of time would go down to its minimum, that being negative two billion, yadda yadda, six hundred and fourty eight . And that time value is 8:46:03 PM GMT on the 13 February 1901. And many computers around the world, if they haven’t been updated, will think it’s 1901. The solution seems simple: Use a bigger field, so you can keep track of time for 292 billion years for example, with a 64-bit number. However, changing that causes all kinds of compatibility issues, such as programs not expecting the number to be that high and crashing. Not good.

But I promised in the intro that I would talk about bricking iPhones. Well, yesterday as I record this, a bug was reported for iOS 8 to 9.3, wherein setting the date to be January 1st 1970 can brick the device in certain timezones. Basically, when your phone shows you the time, it first has to account for what timezone you are in, as internally it counts time since midnight 1st January 1970 UTC, remember? Well, first it has to adjust that time for your timezone, so it adds or subtracts a number of seconds, based on your timezone. However, since 1st January 1970 is time 0, it is possible that it subtracts enough seconds to make the timezone-adjusted value of time negative. Then it goes on its merry way, dividing the time value by all kinds of things, to get a series of six numbers that you will understand (year, month, day, hour, minute, second). However, when it does those divisions, it will get negative numbers. And then it will go, “Hang on a second, why am I in the hour -13? That doesn’t make sense?” And it will crash. And reboot. And crash again. And so on, in a perpetual cycle of fail. So don’t do it. And I realise that my saying “don’t do it” will make you all want to do it, but, unless you want a 500 dollar paperweight, please don’t actually do it.
